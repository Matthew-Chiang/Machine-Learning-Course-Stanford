if (self.CavalryLogger) { CavalryLogger.start_js(["b22xx"]); }

__d("AdImageSpecCropKeys",[],(function a(b,c,d,e,f,g){f.exports={NO_CROP:"NO_CROP","191x100":"191x100","100x72":"100x72","110x80":"110x80","400x150":"400x150","600x360":"600x360","254x94":"254x94","254x133":"254x133","254x143":"254x143","284x149":"284x149","398x208":"398x208","125x90":"125x90","320x50":"320x50","100x100":"100x100","600x600":"600x600","400x500":"400x500","90x160":"90x160"};}),null);
__d("AdsAPIBillingEvents",[],(function a(b,c,d,e,f,g){f.exports={APP_INSTALLS:"APP_INSTALLS",CLICKS:"CLICKS",IMPRESSIONS:"IMPRESSIONS",LINK_CLICKS:"LINK_CLICKS",NONE:"NONE",OFFER_CLAIMS:"OFFER_CLAIMS",PAGE_LIKES:"PAGE_LIKES",POST_ENGAGEMENT:"POST_ENGAGEMENT",VIDEO_VIEWS:"VIDEO_VIEWS",MRC_VIDEO_VIEWS:"MRC_VIDEO_VIEWS",COMPLETED_VIDEO_VIEWS:"COMPLETED_VIDEO_VIEWS",VIDEO_VIEWS_15S:"VIDEO_VIEWS_15S"};}),null);
__d("AdsCFImageTypes",[],(function a(b,c,d,e,f,g){f.exports={"image\/gif":"image\/gif","image\/jpeg":"image\/jpeg","image\/pjpeg":"image\/pjpeg","image\/png":"image\/png","image\/x-png":"image\/x-png","image\/psd":"image\/psd","image\/bmp":"image\/bmp","image\/x-ms-bmp":"image\/x-ms-bmp","image\/tiff":"image\/tiff","image\/jp2":"image\/jp2","image\/iff":"image\/iff","image\/vnd.wap.wbmp":"image\/vnd.wap.wbmp","image\/x-xbitmap":"image\/x-xbitmap"};}),null);
__d("AdsDeliveryOptimizationGoalDescriptionStrings",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={APP_INSTALLS:h._("We'll deliver your ads to the right people to help you get the most app installs at the lowest cost."),APP_DOWNLOADS:h._("We'll count detected app downloads as installs on mobile feed, choose this option only if you do not send install events to Facebook."),BRAND_AWARENESS:h._("We'll serve your ads to people most likely to pay attention to them."),CLICKS:h._("We'll deliver your ads to people who are more likely to click on your ad."),COMPLETED_VIDEO_VIEWS:h._("We'll deliver your ads to the right people to help you get the most completed video views for assets up to 15 seconds."),ENGAGED_REACH:h._("We'll deliver your ads to people who are more likely to engaged with your ad."),ENGAGED_USERS:h._("We'll deliver your ads to people who are already engaged with your app."),EVENT_RESPONSES:h._("We'll deliver your ads to the right people to help you get the most event interest at the lowest cost."),EXTERNAL:h._("We'll deliver your ads based on your settings defined via FBX."),IMPRESSIONS:h._("We'll deliver your ads to people as many times as possible."),LEAD_GENERATION:h._("We'll deliver your ads to the right people to help you get the most leads at the lowest cost."),LINK_CLICKS:h._("We'll deliver your ads to the right people to help you get the most link clicks from your ad to a destination, on or off Facebook, at the lowest cost."),MEDIA_DOWNLOADS:h._("We'll deliver your ads to people who are more likely to download your content."),MRC_VIDEO_VIEWS:h._("We'll deliver your ads to people who will give you the most 2-second continuous views at the lowest cost."),OFFER_CLAIMS:h._("We'll deliver your ads to people who are more likely to click your link to claim your offer."),PAGE_ENGAGEMENT:h._("We'll deliver your ads to people who are more likely to engage with your Page."),PAGE_LIKES:h._("We'll deliver your ads to the right people to help you get more Page likes at the lowest cost."),POST_ENGAGEMENT:h._("We'll deliver your ads to the right people to help you get the most likes, shares, or comments on your post at the lowest cost."),REACH:h._("We'll deliver your ads to people up to once a day."),RETENTION:h._("We'll deliver your ads to people who are more likely to use your app for an extended period of time."),RETURN_ON_AD_SPEND:h._("We'll deliver your ads to people to maximize the total purchase value generated and get the highest return on ad spend (ROAS)."),VALUE:h._("We'll deliver your ads to people to maximize the total purchase value generated and get the highest return on ad spend (ROAS)."),STORE_VISITS:h._("We'll deliver your ads to people most likely to visit your business locations."),SOCIAL_IMPRESSIONS:h._("Social Impressions"),VIDEO_VIEWS:h._("We'll deliver your ads to the right people to help you get the most video views of 10+ seconds at the lowest cost."),VIDEO_VIEWS_15S:h._("We'll deliver your ads to the right people to help you get the most video views of at least 15 seconds at the lowest cost."),LANDING_PAGE_VIEWS:h._("We'll deliver your ads to people who are more likely to click on your ad's link and load the landing page. You'll need a pixel installed on your landing page to track views."),NONE:h._("This option is not recommended.")};}),null);
__d("AdsDeliveryOptimizationGoalTitleStrings",["fbt"],(function a(b,c,d,e,f,g,h){f.exports={APP_INSTALLS:h._("App Installs"),APP_DOWNLOADS:h._("App Downloads"),BRAND_AWARENESS:h._("Brand Awareness"),COMPLETED_VIDEO_VIEWS:h._("Completed Video Views"),ENGAGED_REACH:h._("Engaged Reach"),ENGAGED_USERS:h._("Engaged Users"),EVENT_RESPONSES:h._("Event Response"),EXTERNAL:h._("FBX Usage"),IMPRESSIONS:h._("Impressions"),LEAD_GENERATION:h._("Leads"),LINK_CLICKS:h._("Link Clicks"),MEDIA_DOWNLOADS:h._("Downloads"),MRC_VIDEO_VIEWS:h._("2-Second Video Views"),OFFER_CLAIMS:h._("Offer Claims"),PAGE_ENGAGEMENT:h._("Page Engagement"),PAGE_LIKES:h._("Page Likes"),POST_ENGAGEMENT:h._("Post Engagement"),REACH:h._("Daily Unique Reach"),RETENTION:h._("Retention"),RETURN_ON_AD_SPEND:h._("Value"),VALUE:h._("Value"),STORE_VISITS:h._("Store Visit"),SOCIAL_IMPRESSIONS:h._("Social Impressions"),VIDEO_VIEWS:h._("Video Views"),VIDEO_VIEWS_15S:h._("15-Second Video Views"),LANDING_PAGE_VIEWS:h._("Landing Page Views")};}),null);
__d("AdsInsightsValueTypeConfig",[],(function a(b,c,d,e,f,g){f.exports={defaultAPIValueTypes:{CURRENCY:"currency",DATE:"date",DATETIME:"time",FLOAT:"number",INTEGER:"number",LONG_INTEGER:"number",STRING:"default",STRUCT:"struct"},defaultFormatTypes:{CURRENCY:"CURRENCY",DATE:"DATE",DATETIME:"DATETIME",FLOAT:"FLOAT",INTEGER:"INTEGER",LONG_INTEGER:"INTEGER",STRING:"STRING",STRUCT:"STRUCT"}};}),null);
__d("AdsInstagramMediaSpecs",[],(function a(b,c,d,e,f,g){f.exports={ASPECT_RATIO_TOLERANCE:.01,MIN_MEDIA_WIDTH:600,MIN_MEDIA_WIDTH_LOW_RES:500,MAX_STORY_ASPECT_RATIO:.5625,MIN_STORY_MEDIA_HEIGHT:1067,MIN_STORY_MEDIA_HEIGHT_LOW_RES:889,MAX_STORY_VIDEO_DURATION_IN_SEC:15,MIN_STREAM_ASPECT_RATIO:.8,MAX_STREAM_ASPECT_RATIO:1.91,MIN_STREAM_MEDIA_HEIGHT:315,MIN_STREAM_MEDIA_HEIGHT_LOW_RES:262,MAX_STREAM_VIDEO_DURATION_IN_SEC:60};}),null);
__d("ApiAdObjectTypes",[],(function a(b,c,d,e,f,g){f.exports={APPLICATION:"APPLICATION",DOMAIN:"DOMAIN",EVENT:"EVENT",OFFER:"OFFER",PAGE:"PAGE",PHOTO:"PHOTO",SHARE:"SHARE",STATUS:"STATUS",STORE_ITEM:"STORE_ITEM",VIDEO:"VIDEO",INVALID:"INVALID"};}),null);
__d("DefaultSettingsValues",[],(function a(b,c,d,e,f,g){f.exports={ASSET_SECTION_TYPE:"OWNED",PANE:"CampaignGroupPane"};}),null);
__d("PageAdminTypes",[],(function a(b,c,d,e,f,g){f.exports={MANAGER:"MANAGER",CONTENT_CREATOR:"CONTENT_CREATOR",MODERATOR:"MODERATOR",ADVERTISER:"ADVERTISER",INSIGHTS_ANALYST:"INSIGHTS_ANALYST"};}),null);
__d('AdsShutterstockEndReachedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'shutterstockEndReached',actionType:'SHUTTERSTOCK.END_REACHED'};f.exports=h;}),null);
__d('AdsShutterstockEndReachedDataAction',['AdsDataActionCreator','AdsShutterstockEndReachedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsShutterstockEndReachedDataActionPlugin'));f.exports=h;}),null);
__d('AdsShutterstockSearchDoneDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'shutterstockSearchDone',actionType:'SHUTTERSTOCK.SEARCH_DONE'};f.exports=h;}),null);
__d('AdsShutterstockSearchDoneDataAction',['AdsDataActionCreator','AdsShutterstockSearchDoneDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsShutterstockSearchDoneDataActionPlugin'));f.exports=h;}),null);
__d('AdsShutterstockSearchTextChangedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'shutterstockSearchTextChanged',actionType:'SHUTTERSTOCK.SEARCH_TEXT_CHANGED'};f.exports=h;}),null);
__d('AdsShutterstockSearchTextChangedDataAction',['AdsDataActionCreator','AdsShutterstockSearchTextChangedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsShutterstockSearchTextChangedDataActionPlugin'));f.exports=h;}),null);
__d('AdsShutterstockViewActions',['AdsShutterstockEndReachedDataAction','AdsShutterstockSearchDoneDataAction','AdsShutterstockSearchTextChangedDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={searchTextChanged:function i(j){c('AdsShutterstockSearchTextChangedDataAction').dispatch({data:{searchText:j}});},searchDone:function i(j){c('AdsShutterstockSearchDoneDataAction').dispatch({data:{searchText:j}});},endReached:function i(j){c('AdsShutterstockEndReachedDataAction').dispatch({data:{searchText:j}});}};f.exports=h;}),null);
__d('AdsBaseListDataManager',['AdsAbstractDataManager','abstractMethod'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsAbstractDataManager'));i=h&&h.prototype;j.prototype.loadFor=function(k){c('abstractMethod')('AdsBaseListDataManager','loadFor');};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('ListCache',['Cache','TreeMap','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Cache'));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$ListCache1=k!=null?k:this.$ListCache2;}j.prototype.$ListCache2=function(k,l){if(k.value<l.value){return -1;}else if(k.value>l.value){return 1;}else return 0;};j.prototype.hasList=function(k){if(!this.has(k))return false;var l=c('nullthrows')(this.__getRaw(k));return !!l.$ListCache3;};j.prototype.getList=function(k,l){if(!this.hasList(k))return l;var m=c('nullthrows')(this.__getRaw(k));return m.$ListCache3;};j.prototype.makeList=function(k){var l=this.__getRaw(k);if(!l)l=this.__getNewRawObject();l.$ListCache3=new (c('TreeMap'))(this.$ListCache1);this.__setRaw(k,l);};f.exports=j;}),null);
__d('AdsBaseListStore',['AdsDispatcher','AdsLoadState_LEGACY','FluxStore','ImmutableObject','ListCache','Map','TreeMap','abstractMethod','adsBaseStoreMixin_DEPRECATED','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('TreeMap'))(function(){return 0;}),k=new (c('ImmutableObject'))({loadState:c('AdsLoadState_LEGACY').LOADING,list:[]}),l=new (c('ImmutableObject'))({loadState:c('AdsLoadState_LEGACY').NOT_LOADED,list:[]});h=babelHelpers.inherits(m,c('FluxStore'));i=h&&h.prototype;m.getLoadingList=function(){return k;};function m(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin_DEPRECATED')(this);this.$AdsBaseListStore1=new (c('ListCache'))(this.$AdsBaseListStore7.bind(this,this.compare));this.$AdsBaseListStore2=new (c('Map'))();this.$AdsBaseListStore6=new (c('Map'))();this.$AdsBaseListStore3=this.getIDKey();this.$AdsBaseListStore4=this.getSortKey();}m.prototype.getDataManager=function(){c('abstractMethod')('AdsBaseListStore','getDataManager');return c('nullthrows')(null);};m.prototype.getIDKey=function(){return 'id';};m.prototype.getLoadingList=function(){return k;};m.prototype.getSortKey=function(){return null;};m.prototype.compare=function(n,o){if(n<o){return -1;}else if(n>o){return 1;}else return 0;};m.prototype.$AdsBaseListStore7=function(n,o,p){return n(o.value,p.value);};m.prototype.getFor=function(n){var o=this.$AdsBaseListStore8(n);if(o.loadState===c('AdsLoadState_LEGACY').NOT_LOADED){var p=this.getDataManager();p.loadFor(n);this.$AdsBaseListStore1.set(n,c('AdsLoadState_LEGACY').LOADING);this.$AdsBaseListStore2['delete'](n);}return this.$AdsBaseListStore8(n);};m.prototype.getCachedFor=function(n){return this.$AdsBaseListStore8(n);};m.prototype.$AdsBaseListStore8=function(n){if(this.$AdsBaseListStore2.has(n))return c('nullthrows')(this.$AdsBaseListStore2.get(n));if(this.$AdsBaseListStore1.has(n)){var o=this.$AdsBaseListStore1.get(n,c('AdsLoadState_LEGACY').NOT_LOADED),p=this.$AdsBaseListStore1.getList(n,j).keys(),q={loadState:o||c('AdsLoadState_LEGACY').NOT_LOADED,list:p||[],totalCount:undefined,loadedCount:undefined};if(this.$AdsBaseListStore6.has(n)){q.totalCount=this.$AdsBaseListStore6.get(n);q.loadedCount=p.length;}q=new (c('ImmutableObject'))(q);this.$AdsBaseListStore2.set(n,q);return q;}return l;};m.prototype.__getMinValueFor=function(n){if(!this.$AdsBaseListStore1.hasList(n))return null;var o=this.$AdsBaseListStore1.getList(n).min();return o==null?null:o.value;};m.prototype.__getMaxValueFor=function(n){if(!this.$AdsBaseListStore1.hasList(n))return null;var o=this.$AdsBaseListStore1.getList(n).max();return o==null?null:o.value;};m.prototype.__invalidateEntireCache=function(){var n=this.$AdsBaseListStore1.size()>0||this.$AdsBaseListStore2.size>0;this.$AdsBaseListStore1.clear();this.$AdsBaseListStore2.clear();return n;};m.prototype.__invalidate=function(n){if(this.$AdsBaseListStore1.has(n)||this.$AdsBaseListStore2.has(n)){var o=this.$AdsBaseListStore1['delete'](n),p=this.$AdsBaseListStore2['delete'](n);return o||p;}return false;};m.prototype.__invalidateChildren=function(n,o){o.forEach(function(p){return this.__invalidateChild(n,p);}.bind(this));};m.prototype.__invalidateChild=function(n,o){var p=this.$AdsBaseListStore1.getList(n);if(!p)return false;var q=p['delete'](o);if(!q)return false;this.__incrementTotalCountIfSet(n,-1);this.$AdsBaseListStore2['delete'](n);this.__emitChange();return true;};m.prototype.__setTotalCount=function(n,o){if(this.$AdsBaseListStore6.get(n)!==o){this.$AdsBaseListStore6.set(n,o);this.__emitChange();}};m.prototype.__incrementTotalCountIfSet=function(n,o){var p=this.$AdsBaseListStore6.get(n);if(p){var q=p+(o||1);this.$AdsBaseListStore6.set(n,q);return q;}};m.prototype.__handleDataFor=function(n,o,p){var q=false;if(!this.$AdsBaseListStore1.hasList(n))this.$AdsBaseListStore1.makeList(n);var r=this.$AdsBaseListStore1.getList(n);if(o&&o.length>0)o.forEach(function(s){if(Object.prototype.hasOwnProperty.call(s,this.$AdsBaseListStore3)){var t=s[this.$AdsBaseListStore3],u=this.$AdsBaseListStore4==null?null:s[this.$AdsBaseListStore4];if(!r.has(t)||r.get(t)!==u){r.set(t,u);q=true;}}}.bind(this));if(p&&this.$AdsBaseListStore1.get(n)!==p){this.$AdsBaseListStore1.set(n,p);q=true;}if(q){this.$AdsBaseListStore2['delete'](n);this.__emitChange();}return q;};m.prototype.__updateLoadingFor=function(n){var o=[];n.forEach(function(p){var q=this.$AdsBaseListStore8(p);if(q.loadState===c('AdsLoadState_LEGACY').NOT_LOADED){this.$AdsBaseListStore1.set(p,c('AdsLoadState_LEGACY').LOADING);this.$AdsBaseListStore2['delete'](p);o.push(p);}}.bind(this));return o;};f.exports=m;}),null);
__d('AdsTargetingLocationDataTransformer',['invariant','AdsTargetingLocationUtils','LocationConstants','SearchableEntry','flattenArray'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('LocationConstants').RadiusInfo;function j(x){return new (c('SearchableEntry'))({uniqueID:x.key,title:x.name,type:x.type,auxiliaryData:x});}function k(x){var y=c('LocationConstants').getEmptyLocations();x.filter(function(z){return y[z.getType()];}).forEach(function(z){y[z.getType()].push(l(z.getAuxiliaryData()||{}));});return y;}function l(x,y){var z={key:x.key,name:x.name,type:x.type};switch(x.type){case c('LocationConstants').COUNTRY_GROUPS:return babelHelpers['extends']({country_codes:x.country_codes,is_worldwide:x.is_worldwide},z);case c('LocationConstants').COUNTRIES:if(y)return z;return x.key;case c('LocationConstants').REGIONS:return babelHelpers['extends']({country:x.country_code,country_name:x.country_name},z);case c('LocationConstants').CITIES:var aa=babelHelpers['extends']({country:x.country_code,country_name:x.country_name,radius:x.radius||i.getCityDefaultRadius(),distance_unit:i.getLocalizedUnit()},z);if(x.region_id){aa.region_id=String(x.region_id);aa.region=x.region;}return aa;case c('LocationConstants').GEO_MARKETS:return babelHelpers['extends']({country:x.country_code,country_name:x.country_name},z);case c('LocationConstants').ELECTORAL_DISTRICTS:return babelHelpers['extends']({region_id:String(x.region_id),region:x.region,country:x.country_code,country_name:x.country_name},z);case c('LocationConstants').POLITICAL_DISTRICTS:return babelHelpers['extends']({region_id:String(x.region_id),region:x.region,country:x.country_code,country_name:x.country_name},z);case c('LocationConstants').ZIPS:var ba=babelHelpers['extends']({country:x.country_code,country_name:x.country_name},z);if(x.region_id){ba.region_id=String(x.region_id);ba.region=x.region;}if(x.primary_city_id){ba.primary_city_id=String(x.primary_city_id);ba.primary_city=x.primary_city;}return ba;case c('LocationConstants').CUSTOM_LOCATIONS:if(x.custom_type===c('LocationConstants').CUSTOM_TYPE_MULTI_CITY){return babelHelpers['extends']({custom_type:x.custom_type,min_population:x.min_population,max_population:x.max_population,country:x.country,country_group:x.country_group},z);}else{var ca=babelHelpers['extends']({address_string:x.name,country:x.country_code,country_name:x.country_name,latitude:Number(x.latitude),longitude:Number(x.longitude),radius:x.radius||i.getAddressDefaultRadius(),distance_unit:i.getLocalizedUnit()},z);if(x.region_id){ca.region_id=String(x.region_id);ca.region=x.region;}if(x.primary_city_id){ca.primary_city_id=String(x.primary_city_id);ca.primary_city=x.primary_city;}return ca;}case c('LocationConstants').PLACES:var da=babelHelpers['extends']({address_string:x.address_string,category:x.category,country:x.country_code,country_name:x.country_name,latitude:Number(x.latitude),longitude:Number(x.longitude),radius:x.radius||i.getPlaceDefaultRadius(),distance_unit:i.getLocalizedUnit()},z);if(x.region_id){da.region_id=String(x.region_id);da.region=x.region;}if(x.primary_city_id){da.primary_city_id=String(x.primary_city_id);da.primary_city=x.primary_city;}return da;default:h(0);}}function m(x){return new (c('SearchableEntry'))({uniqueID:x.normalized_address,title:x.normalized_address,type:c('LocationConstants').CUSTOM_LOCATIONS,auxiliaryData:n(x)});}function n(x){var y=babelHelpers['extends']({type:c('LocationConstants').CUSTOM_LOCATIONS,latitude:Number(x.latitude),longitude:Number(x.longitude),key:x.normalized_address,name:x.normalized_address,country_code:x.country.key,country_name:x.country.name},{});if(x.city){y.primary_city_id=String(x.city.key);y.primary_city=x.city.name;}if(x.region){y.region_id=String(x.region.key);y.region=x.region.name;}if(x.radius)y.radius=x.radius;return y;}function o(x,y,z){x=x||{};var aa=Object.assign({},x);c('LocationConstants').locationTypes.forEach(function(ba){if(!x[ba]||!y[ba])return;aa[ba]=x[ba].map(function(ca){if(ba===c('LocationConstants').COUNTRIES){if(!z){return ca;}else ca={key:ca};}else if(!y[ba][ca.key])return ca;var da=Object.assign({},y[ba][ca.key]);if(da.country_code)da.country=da.country_code;da.type=ba;delete da.country_code;if(!!da.region_id){da.region_id=String(da.region_id);}else{delete da.region_id;delete da.region;}if(!!da.primary_city_id){da.primary_city_id=String(da.primary_city_id);}else{delete da.primary_city_id;delete da.primary_city;}if((ba===c('LocationConstants').CUSTOM_LOCATIONS||ba===c('LocationConstants').PLACES)&&da.latitude&&da.longitude){da.latitude=Number(da.latitude);da.longitude=Number(da.longitude);}return Object.assign({},ca,da);});});return aa;}function p(x,y){var z=[];c('LocationConstants').locationTypes.forEach(function(aa){if(!x[aa])return;x[aa].forEach(function(ba){if(aa===c('LocationConstants').COUNTRIES)ba=babelHelpers['extends']({key:ba,name:ba},{});var ca=babelHelpers['extends']({included:y,type:aa,parentKey:null,parentName:null,parentType:null},ba);switch(aa){case c('LocationConstants').COUNTRY_GROUPS:ca.parentKey=ba.key;ca.country_codes=ba.country_codes;ca.parentName=ba.name;ca.parentType=c('LocationConstants').COUNTRY_GROUPS;ca.is_worldwide=ba.is_worldwide;break;case c('LocationConstants').COUNTRIES:ca.parentKey=ba.key;ca.parentName=ba.name;ca.parentType=c('LocationConstants').COUNTRIES;break;case c('LocationConstants').REGIONS:ca.parentKey=ba.country;ca.parentName=ba.country_name;ca.parentType=c('LocationConstants').COUNTRIES;break;case c('LocationConstants').GEO_MARKETS:ca.parentKey=ba.country;ca.parentName=ba.country_name;ca.parentType=c('LocationConstants').COUNTRIES;break;case c('LocationConstants').CITIES:ca.radius=ba.radius;ca.parentKey=ba.region_id||ba.country;ca.parentType=ba.region_id?c('LocationConstants').REGIONS:c('LocationConstants').COUNTRIES;ca.parentName=ba.region||ba.country_name;break;case c('LocationConstants').ELECTORAL_DISTRICTS:ca.parentKey=ba.region_id||ba.country;ca.parentType=ba.region_id?c('LocationConstants').REGIONS:c('LocationConstants').COUNTRIES;ca.parentName=ba.region||ba.country_name;break;case c('LocationConstants').POLITICAL_DISTRICTS:ca.parentKey=ba.region_id||ba.country;ca.parentType=ba.region_id?c('LocationConstants').REGIONS:c('LocationConstants').COUNTRIES;ca.parentName=ba.region||ba.country_name;break;case c('LocationConstants').ZIPS:if(ba.region_id){ca.parentKey=ba.region_id;ca.parentType=c('LocationConstants').REGIONS;ca.parentName=ba.region;}else if(ba.primary_city_id){ca.parentKey=ba.primary_city_id;ca.parentType=c('LocationConstants').CITIES;ca.parentName=ba.primary_city;}else{ca.parentKey=ba.country;ca.parentType=c('LocationConstants').COUNTRIES;ca.parentName=ba.country_name;}break;case c('LocationConstants').CUSTOM_LOCATIONS:ca.radius=ba.radius;if(ba.region_id){ca.parentKey=ba.region_id;ca.parentType=c('LocationConstants').REGIONS;ca.parentName=ba.region;}else{ca.parentKey=ba.country;ca.parentType=c('LocationConstants').COUNTRIES;ca.parentName=ba.country_name;}if(ba.primary_city_id){ca.groupKey=ba.primary_city_id;ca.groupType=c('LocationConstants').CITIES;ca.groupName=ba.primary_city;}break;case c('LocationConstants').PLACES:ca.radius=ba.radius;ca.category=ba.category;if(ba.region_id){ca.parentKey=ba.region_id;ca.parentType=c('LocationConstants').REGIONS;ca.parentName=ba.region;}else{ca.parentKey=ba.country;ca.parentType=c('LocationConstants').COUNTRIES;ca.parentName=ba.country_name;}break;}z.push(ca);});});return z;}function q(x){var y={};c('LocationConstants').locationTypes.forEach(function(z){y[z]=[];});x.forEach(function(z){if(z.type===c('LocationConstants').COUNTRIES){y[z.type].push(z.key);}else y[z.type].push(z);});return y;}function r(x){var y={};c('LocationConstants').locationTypes.forEach(function(z){if(x[z]){y[z]=[];x[z].forEach(function(aa){var ba=void 0;if(z===c('LocationConstants').COUNTRIES){ba=aa;}else if(z===c('LocationConstants').COUNTRY_GROUPS){ba={key:aa};}else{ba=Object.assign({},aa);if(z===c('LocationConstants').CITIES)ba.radius=aa.radius||0;if(z===c('LocationConstants').CUSTOM_LOCATIONS)ba.key=c('AdsTargetingLocationUtils').getCustomLocationKey(aa);if(aa.region_id)ba.region_id=String(aa.region_id);if(aa.primary_city_id)ba.primary_city_id=String(aa.primary_city_id);}y[z].push(ba);});}});if(x.location_types)y.location_types=x.location_types.slice();return y;}function s(x){var y=c('AdsTargetingLocationUtils').getKeyFromCoordinates(x.location.latitude,x.location.longitude);return {key:y,type:c('LocationConstants').CUSTOM_LOCATIONS,latitude:x.location.latitude,longitude:x.location.longitude,country_name:x.location.country,address_string:x.single_line_address,name:x.single_line_address,distance_unit:c('LocationConstants').RadiusInfo.getLocalizedUnit(),included:true};}function t(x){if(x.type===c('LocationConstants').COUNTRIES){return new (c('SearchableEntry'))({uniqueID:x.id,title:x.name,type:c('LocationConstants').COUNTRIES,auxiliaryData:{country_code:x.id,country_name:x.name,key:x.id,name:x.name,supports_city:true,supports_region:true,type:c('LocationConstants').COUNTRIES,order:0}});}else if(x.id===c('LocationConstants').WORLDWIDE||x.type===c('LocationConstants').COUNTRY_GROUPS)return new (c('SearchableEntry'))({uniqueID:x.id,title:x.name,type:c('LocationConstants').COUNTRY_GROUPS,auxiliaryData:{key:x.id,name:x.name.toString(),country_codes:x.countries,supports_city:true,supports_region:true,is_worldwide:x.id==c('LocationConstants').WORLDWIDE,type:c('LocationConstants').COUNTRY_GROUPS,order:0}});return null;}function u(x,y){x=babelHelpers['extends']({},x,{primary_city:y.city.name,primary_city_id:y.city.id,country:y.country.abbr});if(y.region)x=babelHelpers['extends']({},x,{region:y.region.name,region_id:y.region.id});return x;}function v(x){var y=t(x);if(y)return [y];return c('flattenArray')(x.children.map(function(z){return v(z);}));}var w={dataStoreToEntry:j,entriesToDataStore:k,getSearchableEntryFromGeoCoder:m,fillMetaInfoForLocations:o,convertDataStoreToProxyData:p,convertProxyDataToDataStore:q,convertKeyToString:r,geoCoderDataToSearchData:n,searchDataToDataStore:l,getDataStoreFormatFromPage:s,getSearchableEntryFromBrowseListEntry:t,fillPageAddressWithMetaInfo:u,convertToSearchableEntries:v};f.exports=w;}),null);
__d('AdsControlledDialog_DEPRECATED.react',['React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsControlledDialog_DEPRECATED1=false,this.$AdsControlledDialog_DEPRECATED2=function(q){if(q){this.$AdsControlledDialog_DEPRECATED1=false;if(this.props.onShow)this.props.onShow();}else{setTimeout(this.props.onDialogHideCallback,0);if(!this.$AdsControlledDialog_DEPRECATED1&&this.props.onCancel)this.props.onCancel();}}.bind(this),this.$AdsControlledDialog_DEPRECATED3=function(event){this.$AdsControlledDialog_DEPRECATED1=true;if(this.props.onDialogHideCallback)this.props.onDialogHideCallback();if(this.props.onConfirm)this.props.onConfirm(event);}.bind(this),m;}k.prototype.render=function(){if(!this.props.renderWhenHidden&&!this.props.dialogShown)return null;return c('React').createElement(c('XUIDialog.react'),babelHelpers['extends']({},this.props,{layerHideOnBlur:this.props.hideOnBlur,shown:this.props.dialogShown||this.props.renderWithDialogInitiallyShown,onToggle:this.$AdsControlledDialog_DEPRECATED2}),c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:this.props.showCloseButton},this.props.title),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},this.props.children),this.$AdsControlledDialog_DEPRECATED4());};k.prototype.$AdsControlledDialog_DEPRECATED4=function(){if(!this.props.buttonSpecs||this.props.buttonSpecs.length===0)return null;var l=0,m=this.props.buttonSpecs.map(function(n){if(n.action==='confirm')n.onClick=this.$AdsControlledDialog_DEPRECATED3;n.key=n.key||l++;return c('React').createElement(c('XUIDialogButton.react'),n);}.bind(this));return c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.props.leftFooter},m);};k.propTypes={buttonSpecs:j.array,dialogShown:j.bool,hideOnBlur:j.bool,leftFooter:j.node,renderWhenHidden:j.bool,renderWithDialogInitiallyShown:j.bool,showCloseButton:j.bool,title:j.node,width:j.number.isRequired,onCancel:j.func,onConfirm:j.func,onDialogHideCallback:j.func,onShow:j.func};k.defaultProps={buttonSpecs:[],hideOnBlur:true,leftFooter:null,renderWhenHidden:true,renderWithDialogInitiallyShown:false,showCloseButton:true,onShow:c('emptyFunction'),onConfirm:c('emptyFunction'),onCancel:c('emptyFunction'),onDialogHideCallback:c('emptyFunction')};f.exports=k;}),null);
__d('AdsDialog_DEPRECATED.react',['invariant','AdsControlledDialog_DEPRECATED.react','React','ReactLayeredComponentMixin_DEPRECATED'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsDialog_DEPRECATED',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:babelHelpers['extends']({},c('AdsControlledDialog_DEPRECATED.react').propTypes,{clickableTrigger:i.element.isRequired}),getInitialState:function k(){return {dialogShown:false};},componentWillMount:function k(){this._validateTrigger(this.props.clickableTrigger);},componentWillReceiveProps:function k(l){if(l.clickableTrigger!==this.props.clickableTrigger)this._validateTrigger(l.clickableTrigger);},_validateTrigger:function k(l){!l.props.onClick||h(0);},showDialog:function k(){this.setState({dialogShown:true});},hideDialog:function k(){if(this.isMounted()){this.setState({dialogShown:false});if(this.props.onDialogHideCallback)this.props.onDialogHideCallback();}},render:function k(){return c('React').cloneElement(this.props.clickableTrigger,{onClick:this.showDialog});},renderLayers:function k(){return {dialog:c('React').createElement(c('AdsControlledDialog_DEPRECATED.react'),babelHelpers['extends']({},this.props,{dialogShown:this.state.dialogShown,onDialogHideCallback:this.hideDialog}),this.props.children)};}});f.exports=j;}),null);
__d('AdImageSpecs',['fbt','AdCreativeType','AdImageSpecCropKeys','AdsAPIDevicePlatform','AdsAPIFacebookPosition','AdsAPIInstagramPosition','AdsAPIPublisherPlatform','AdsInstagramMediaSpecs','AdsPageTypes','intlNumUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdCreativeType').AD_CREATIVE_TYPE;function j(l,m){return h._({"*":{"*":"{Numerator}:{Denominator}"}},[h.param('Numerator',l,[0]),h.param('Denominator',m,[0])]);}var k={PAGE_LIKE_DESKTOP_FEED:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:1200,height:444,minLargeWidth:400,minLargeHeight:150,minWarningWidth:400,minWarningHeight:150,aspectRatio:8/3,displayRatio:j(8,3),cropKey:c('AdImageSpecCropKeys')['400x150'],supportedTypes:[i.INLINE_FAN]},PAGE_LIKE_MOBILE_FEED:{placement:c('AdsPageTypes').MOBILE_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1200,height:444,minLargeWidth:400,minLargeHeight:150,minWarningWidth:400,minWarningHeight:150,aspectRatio:8/3,displayRatio:j(8,3),cropKey:c('AdImageSpecCropKeys')['400x150'],supportedTypes:[i.INLINE_FAN]},PAGE_LIKE_RHC:{placement:c('AdsPageTypes').RIGHT_COLUMN,position:c('AdsAPIFacebookPosition').RHC,width:1200,height:444,minWarningWidth:400,minWarningHeight:150,aspectRatio:8/3,displayRatio:j(8,3),cropKey:c('AdImageSpecCropKeys')['400x150'],supportedTypes:[i.INLINE_FAN]},PAGE_POST_DESKTOP_FEED:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.STANDARD,i.FEED_URL,i.PAGE_POSTS_V2]},PAGE_POST_MOBILE_FEED:{placement:c('AdsPageTypes').MOBILE_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.STANDARD,i.FEED_URL,i.PAGE_POSTS_V2]},AUDIENCE_NETWORK_MOBILE_EXTERNAL:{placement:c('AdsPageTypes').MOBILE_EXTERNAL,platform:c('AdsAPIPublisherPlatform').AUDIENCE_NETWORK,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},PAGE_POST_MULTI_PRODUCT:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:1080,height:1080,minWarningWidth:600,minWarningHeight:600,aspectRatio:1,displayRatio:j(1,1),cropKey:c('AdImageSpecCropKeys')['100x100'],supportedTypes:[]},PAGE_POST_DESKTOP_FEED_NEKO:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:1200,height:628,minWarningWidth:600,minWarningHeight:314,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.NEKO_LPP]},PAGE_POST_MOBILE_FEED_NEKO:{placement:c('AdsPageTypes').MOBILE_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1200,height:628,minWarningWidth:600,minWarningHeight:314,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.NEKO_LPP]},PAGE_PROFILE:{width:180,height:180,minWarningWidth:180,minWarningHeight:180,previewRatio:.5,aspectRatio:1,displayRatio:j(1,1),cropKey:c('AdImageSpecCropKeys')['100x100'],ignoreTextCoverage:true},INSTAGRAM_STORY:{placement:c('AdsPageTypes').INSTAGRAM_STORY,position:c('AdsAPIInstagramPosition').STORY,width:1080,height:1920,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STORY_MEDIA_HEIGHT,aspectRatio:0,displayRatio:j(9,16),maxWarningAspectRatio:c('AdsInstagramMediaSpecs').MAX_STORY_ASPECT_RATIO,aspectRatioTolerance:c('AdsInstagramMediaSpecs').ASPECT_RATIO_TOLERANCE,cropKey:c('AdImageSpecCropKeys').NO_CROP,supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STORY_CROP:{placement:c('AdsPageTypes').INSTAGRAM_STORY,position:c('AdsAPIInstagramPosition').STORY,width:1080,height:1920,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STORY_MEDIA_HEIGHT,aspectRatio:.5625,displayRatio:j(9,16),cropKey:c('AdImageSpecCropKeys')['90x160'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,position:c('AdsAPIInstagramPosition').STREAM,width:1080,height:1080,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,aspectRatio:1,displayRatio:j(1,1),cropKey:c('AdImageSpecCropKeys')['100x100'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM_NO_CROP:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,position:c('AdsAPIInstagramPosition').STREAM,width:1080,height:1080,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT,aspectRatio:0,minWarningAspectRatio:c('AdsInstagramMediaSpecs').MIN_STREAM_ASPECT_RATIO,maxWarningAspectRatio:c('AdsInstagramMediaSpecs').MAX_STREAM_ASPECT_RATIO,aspectRatioTolerance:c('AdsInstagramMediaSpecs').ASPECT_RATIO_TOLERANCE,cropKey:c('AdImageSpecCropKeys').NO_CROP,supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM_LANDSCAPE:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,position:c('AdsAPIInstagramPosition').STREAM,width:1200,height:628,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT,aspectRatio:c('AdsInstagramMediaSpecs').MAX_STREAM_ASPECT_RATIO,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},MESSENGER:{placement:c('AdsPageTypes').MESSENGER,platform:c('AdsAPIPublisherPlatform').MESSENGER,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.FEED_URL,i.PAGE_POSTS_V2]},EVENT_DESKTOP_FEED:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.INLINE_RSVP]},EVENT_MOBILE_FEED:{placement:c('AdsPageTypes').MOBILE_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.INLINE_RSVP]},EVENT_RHC:{placement:c('AdsPageTypes').RIGHT_COLUMN,position:c('AdsAPIFacebookPosition').RHC,width:1200,height:628,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.INLINE_RSVP]},PAGE_POST_OFFER_VIEW:{placement:c('AdsPageTypes').DESKTOP_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').DESKTOP,width:610,height:318,minWarningWidth:610,minWarningHeight:318,aspectRatio:1.917,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[]},CANVAS_COLLECTIONS:{placement:c('AdsPageTypes').MOBILE_FEED,position:c('AdsAPIFacebookPosition').FEED,devicePlatform:c('AdsAPIDevicePlatform').MOBILE,width:1080,height:1080,minWarningWidth:100,minWarningHeight:100,aspectRatio:1,displayRatio:j(1,1),cropKey:c('AdImageSpecCropKeys')['100x100'],supportedTypes:[]}};f.exports=k;}),null);
__d('AdsInsightsCurrencyUtils',['Currency'],(function a(b,c,d,e,f,g){'use strict';var h={fromAPI:function i(j,k){var l=c('Currency').getOffset(j);return k/l;},toAPI:function i(j,k){var l=c('Currency').getOffset(j);return k*l;}};f.exports=h;}),null);
__d('AdsInsightsValueTypes',['invariant','AdsInsightsValueType','AdsInsightsValueTypeConfig'],(function a(b,c,d,e,f,g,h){'use strict';var i={getDefaultAPIValueType:function j(k){i.isValid(k)||h(0);return c('AdsInsightsValueTypeConfig').defaultAPIValueTypes[k];},getDefaultFormatType:function j(k){i.isValid(k)||h(0);return c('AdsInsightsValueTypeConfig').defaultFormatTypes[k];},getJavaScriptType:function j(k){switch(k){case c('AdsInsightsValueType').CURRENCY:case c('AdsInsightsValueType').DATETIME:case c('AdsInsightsValueType').FLOAT:case c('AdsInsightsValueType').INTEGER:case c('AdsInsightsValueType').LONG_INTEGER:return 'number';case c('AdsInsightsValueType').DATE:case c('AdsInsightsValueType').STRING:return 'string';default:h(0);}},isValid:function j(k){return k in c('AdsInsightsValueType');}};f.exports=i;}),null);
__d('wrapForAutoTextDirection',['React'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(!i)return null;return c('React').createElement('bdo',{dir:'auto'},i);}f.exports=h;}),null);
__d('AdsInsightsFormatters',['invariant','AdsCurrencyFormatter','AdsInsightsCurrencyUtils','AdsInsightsFormatType','AdsInsightsValueTypes','AdsReportRelevanceScorePositiveFeedbackLevel','ads-lib-formatters','wrapForAutoTextDirection'],(function a(b,c,d,e,f,g,h){'use strict';var i={formatAPICurrency:c('AdsCurrencyFormatter').formatCurrencyAtLeastOneSigFig,formatFloat:c('ads-lib-formatters').createIntlNumberFormatter(2),formatInteger:c('ads-lib-formatters').createIntlNumberFormatter(0),formatLongInteger:c('ads-lib-formatters').createIntlLongNumberFormatter(0),formatPercentage:c('ads-lib-formatters').createIntlPercentFormatter(2)},j=function p(q,r){return c('wrapForAutoTextDirection')(i.formatAPICurrency(q,c('AdsInsightsCurrencyUtils').toAPI(q,r)));},k=function p(q){return c('ads-lib-formatters').createIntlPercentFormatter(q||2);},l=function p(q){var r=q.formatType,s=q.currencyCode,t=q.percentagePrecison;switch(r){case c('AdsInsightsFormatType').CURRENCY:s||h(0);return j.bind(null,s);case c('AdsInsightsFormatType').FLOAT:return i.formatFloat;case c('AdsInsightsFormatType').INTEGER:case c('AdsInsightsFormatType').LONG_INTEGER:return i.formatInteger;case c('AdsInsightsFormatType').PERCENT:return k(t);case c('AdsInsightsFormatType').STRING:case c('AdsInsightsFormatType').DATE:return function(u){return u;};case c('AdsInsightsFormatType').FEEDBACK:return function(u){return c('AdsReportRelevanceScorePositiveFeedbackLevel')[u];};default:h(0);}},m=function p(q){var r=q.valueType,s=l(q);return function(t){return typeof t===c('AdsInsightsValueTypes').getJavaScriptType(r)&&t?s(t):null;};},n=function p(q){var r=q.valueType,s=l(q);return function(t){return typeof t===c('AdsInsightsValueTypes').getJavaScriptType(r)?s(t):null;};},o=babelHelpers['extends']({},i,{formatCurrency:j,getFormatter:l,getNonZeroFormatter:m,getNullableFormatter:n});f.exports=o;}),null);
__d('PagePostTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={LINK:'link',OFFER:'offer',PHOTO:'photo',QUESTION:'question',STATUS:'status',VIDEO:'video',PREMIUM_VIDEO:'premiumVideo',TEMPLATE:'template',CAROUSEL:'carousel'};f.exports=h;}),null);
__d('AdsPagePostUtils',['invariant','AdsAPIObjectives','AdsAPIOptimizationGoals','AdsGraphAPI','ApiAdObjectTypes','ApiPostObjectType','Map','PagePostTypes','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i=['entities','links','length'];function j(l){if(!l)return null;if(typeof l!=='string')l=l.toString();return l;}var k={isVisible:function l(m,n,o){if(!k.isNativeVideoPost(m)&&n===c('AdsAPIObjectives').VIDEO_VIEWS)return false;if(!k.isWebsiteAdEligiblePost(m,o)&&(n===c('AdsAPIObjectives').LINK_CLICKS||n===c('AdsAPIObjectives').CONVERSIONS))return false;if(n===c('AdsAPIObjectives').OFFER_CLAIMS&&(!k.isOfferPost(m)||k.isExpiredOfferPost(m)))return false;if(k.isEventPost(m))return false;return true;},isVisibleForInstagram:function l(m,n){return !(m===c('AdsAPIObjectives').POST_ENGAGEMENT&&(k.isOfferPost(n)||k.isStatusPost(n)));},isWebsiteAdEligiblePost:function l(m,n){return m.type!==c('PagePostTypes').OFFER&&!(m.type===c('PagePostTypes').PHOTO&&n===c('AdsAPIOptimizationGoals').LINK_CLICKS)&&(!!m.link||c('getByPath')(m,i)>0);},isPublishedPost:function l(m){return !!m.is_published||!!m.published||!!m.scheduled;},isOfferPost:function l(m){return m.type===c('PagePostTypes').OFFER;},isExpiredOfferPost:function l(m){if(!k.isOfferPost(m))return false;return m.expiration_timestamp<Date.now()/1000;},isStatusPost:function l(m){return m.type===c('PagePostTypes').STATUS;},isVideoPost:function l(m){return m.type===c('PagePostTypes').VIDEO;},isEventPost:function l(m){return m.type===c('ApiPostObjectType').EVENT;},isNativeVideoPost:function l(m){return k.isVideoPost(m)&&!!m.object_id;},getFilter:function l(m){var n=[];if(m.hasLink)n.push(k.isWebsiteAdEligiblePost);if(m.isNativeVideo)n.push(k.isNativeVideoPost);if(m.isOffer)n.push(k.isOfferPost);if(m.isPublished)n.push(k.isPublishedPost);return function(o){return n.every(function(p){return p(o);});};},getVisiblePostTypes:function l(m){switch(m){case c('AdsAPIObjectives').LINK_CLICKS:case c('AdsAPIObjectives').CONVERSIONS:return [c('PagePostTypes').LINK];case c('AdsAPIObjectives').VIDEO_VIEWS:return [c('PagePostTypes').VIDEO];case c('AdsAPIObjectives').OFFER_CLAIMS:return [c('PagePostTypes').OFFER];default:return [c('PagePostTypes').LINK,c('PagePostTypes').PHOTO,c('PagePostTypes').VIDEO,c('PagePostTypes').STATUS,c('PagePostTypes').OFFER];}},fetchAccessTokensForPageIDs:function l(m){return c('AdsGraphAPI').get(f.id).objects('page',m).get({fields:['access_token']}).then(function(n){return new (c('Map'))(Object.keys(n).map(function(o){return [o,n[o].access_token];}));});},convertTypeToCreativeObjectType:function l(m){switch(m){case c('ApiPostObjectType').EVENT:return c('ApiAdObjectTypes').EVENT;case c('ApiPostObjectType').LINK:return c('ApiAdObjectTypes').SHARE;case c('ApiPostObjectType').OFFER:return c('ApiAdObjectTypes').OFFER;case c('ApiPostObjectType').PHOTO:return c('ApiAdObjectTypes').PHOTO;case c('ApiPostObjectType').STATUS:return c('ApiAdObjectTypes').STATUS;case c('ApiPostObjectType').VIDEO:return c('ApiAdObjectTypes').VIDEO;default:return c('ApiAdObjectTypes').SHARE;}},generatePagePostId_BROKEN:function l(m,n){return m+'_'+n;},isPagePostId_BROKEN:function l(m){m=j(m);if(!m)return false;var n=m.split('_');return n.length===2;},isInvalidPagePostId_BROKEN:function l(m,n){n(/[^\d]/.test(m));},getPageIdFromPagePostId_BROKEN:function l(m){m=j(m);if(!m)return null;var n=m.split('_');n.length===2||h(0);return n[0];},getPostIdFromPagePostId_BROKEN:function l(m){m=j(m);if(!m)return null;var n=m.split('_');n.length===2||h(0);return n[1];},getPagePostURL_BROKEN:function l(m,n){m||h(0);var o=k.getPostIdBestGuess_BROKEN(n);o||h(0);return '/'+m+'/posts/'+o;},getPostIdBestGuess_BROKEN:function l(m){m=j(m);if(!m)return null;var n=m.split('_');n.length<=2||h(0);return n.pop();}};f.exports=k;}),null);
__d('AdsPageUtils',['AdsAPIAdgroupPaths','AdsEditorConfig','AdsPagePostUtils','ApiPagePaths','AdsUniformValue','CurrentUser','PageAdminTypes','Set','getBulkByPath','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Set'))([c('PageAdminTypes').MANAGER,c('PageAdminTypes').CONTENT_CREATOR]),i=new (c('Set'))([c('PageAdminTypes').MANAGER,c('PageAdminTypes').CONTENT_CREATOR,c('PageAdminTypes').MODERATOR,c('PageAdminTypes').ADVERTISER]),j=new (c('Set'))([c('PageAdminTypes').MANAGER,c('PageAdminTypes').CONTENT_CREATOR,c('PageAdminTypes').MODERATOR,c('PageAdminTypes').ADVERTISER,c('PageAdminTypes').INSIGHTS_ANALYST]),k={getPageID:function l(m){return c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.PAGE_ID)||c('AdsPagePostUtils').getPageIdFromPagePostId_BROKEN(c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_ID))||c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_ID);},getBrandedContentSponsorPageID:function l(m){var n=c('getBulkByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.BRANDED_CONTENT_SPONSOR_PAGE_ID);if(n&&n instanceof c('AdsUniformValue')&&n.getValue())return n.getValue();return null;},getParentPages:function l(m){return m.filter(function(n){return k.hasLocations(n)||k.hasSharedLocations(n);});},hasLocations:function l(m){return c('getByPath')(m,['locations','summary','total_count'])>0;},hasSharedLocations:function l(m){return c('getByPath')(m,['shared_location_structures','data','length'])>0;},getSharedLocationPageIDs:function l(m){var n=c('getByPath')(m,['shared_location_structures','data']);if(c('getByPath')(n,['length'])>0)return n.map(function(o){return o.id;});return [];},isPageForBusiness:function l(m,n){var o=m.business&&m.business.id===n,p=k.getBusinessProjects(m).some(function(q){return q.business&&q.business.id===n;});return !!(o||p);},isBusinessPage:function l(m){var n=m.business&&m.business.id,o=k.getBusinessProjects(m).length>0;return !!(n||o);},getBusinessProjects:function l(m){return c('getByPath')(m,c('ApiPagePaths').BUSINESSPROJECTS.DATA,[]);},filterForBusinessUsage:function l(m,n,o){var p=n?function(q){return k.isPageForBusiness(q,n);}:function(q){return !k.isBusinessPage(q);};return m.filter(function(q){return p(q)||o&&o.has(q.id);});},getPageUIName:function l(m){return c('getByPath')(m,c('ApiPagePaths').GLOBAL_BRAND_PAGE_NAME)||c('getByPath')(m,c('ApiPagePaths').NAME)||c('getByPath')(m,c('ApiPagePaths').ID);},getPageLink:function l(m){return c('getByPath')(m,c('ApiPagePaths').LINK);},canCreateAdsForPage:function l(m){return k._hasPermission(m,i);},canCreatePostsForPage:function l(m){return k._hasPermission(m,h);},canSeePageInsights:function l(m){return k._hasPermission(m,i);},canSeeStoreVisitInsights:function l(m){return k._hasPermission(m,j)||c('CurrentUser').isEmployee();},isAdmin:function l(m){return k._hasPermission(m,new (c('Set'))([c('PageAdminTypes').MANAGER]));},_hasPermission:function l(m,n){if(c('AdsEditorConfig').empl_show_all_pages)return true;var o=c('getByPath')(m,c('ApiPagePaths').USERPERMISSIONS.DATA,[]);return o.some(function(p){return n.has(p.role);});}};f.exports=k;}),null);
__d('AudienceNetworkUtils',['AdsAccountCapabilities','AdsAccountUtils','AdsAPIObjectives','AdsAPIOptimizationGoals','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({DESKTOP:null,MOBILE:null,TABLET:null}),i={DEVICE_TYPES:h,supportsANVideoButNoANStatic:function j(k){return k===c('AdsAPIObjectives').VIDEO_VIEWS||k===c('AdsAPIObjectives').REACH||k===c('AdsAPIObjectives').BRAND_AWARENESS||k===c('AdsAPIObjectives').POST_ENGAGEMENT;},getDeviceType:function j(){var k=Math.min(screen.width,window.innerWidth);if(k<=480){return h.MOBILE;}else if(k<=1200){return h.TABLET;}else return h.DESKTOP;},canUseFANExclusively:function j(k,l){var m=c('AdsAccountUtils').hasCapabilityFromList(k,c('AdsAccountCapabilities').ADS_ALLOW_AUDIENCE_NETWORK_ONLY),n=c('AdsAccountUtils').hasCapabilityFromList(k,c('AdsAccountCapabilities').CAN_USE_AUDIENCE_NETWORK_PLACEMENT_EXCLUSIVELY_IN_VIDEO_VIEWS);return m||n&&l===c('AdsAPIOptimizationGoals').VIDEO_VIEWS;}};f.exports=i;}),null);
__d('DeepRecord',['invariant','immutable','mapObject'],(function a(b,c,d,e,f,g,h){'use strict';var i='DeepRecordKey-'+Math.random();function j(m){var n,o,p=c('mapObject')(m,function(){return undefined;}),q=c('mapObject')(m,function(s){return s&&new s();});n=babelHelpers.inherits(r,c('immutable').Record(p));o=n&&n.prototype;function r(s){'use strict';o.constructor.call(this,c('mapObject')(s,function(t,u){if(t&&m[u])return new m[u](t);return c('immutable').fromJS(t);}));}r.getSpec=function(){'use strict';return m;};r.prototype.getSpec=function(){'use strict';return m;};r.prototype.getSubRecordClass=function(s){'use strict';if(s.length===0)return null;if(s.length===1)return m[s[0]]||null;var t=q[s[0]]||null;return t&&t.getSubRecordClass(s.slice(1));};r.prototype.deleteIn=function(s){'use strict';if(this.getIn(s)===undefined)return this;return o.deleteIn.call(this,s);};r.prototype.set=function(s,t){'use strict';if(m[s]&&t!=null)m[s]===t.constructor||h(0);return o.set.call(this,s,t);};r.prototype.setIn=function(s,t){'use strict';if(this.getIn(s)===t)return this;if(s.length>1){var u=m[s[0]];if(u){var v=this.get(s[0]),w=v?v.setIn(s.slice(1),t):q[s[0]].setIn(s.slice(1),t);return this.set(s[0],w);}}return o.setIn.call(this,s,t);};r.prototype.isEmpty=function(){'use strict';for(var s=this,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v,x=w[1];if(x!==undefined)return false;}return true;};r.prototype.toJS=function(){'use strict';var s=o.toJS.call(this);for(var t=Object.keys(s),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;if(s[x]===undefined)delete s[x];}return s;};r[i]=true;return r;}function k(m){return !!(m&&l(m.constructor));}function l(m){return !!(m&&m[i]);}j.isDeepRecord=k;j.isDeepRecordClass=l;f.exports=j;}),null);
__d('expandPaths',['getByPath','setByPath'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=[],l={};i.sort(function(n,o){return o.length-n.length;});i.forEach(function(n){var o=c('getByPath')(l,n);if(!o){k.push(n);c('setByPath')(l,n,true,true);}});if(j===undefined)j=null;var m={};k.forEach(function(n){c('setByPath')(m,n,j,true);});return m;}f.exports=h;}),null);
__d('recordFromPaths',['DeepRecord','expandPaths','getObjectValuesRecursive','mapObject'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('getObjectValuesRecursive')(i),k=c('expandPaths')(j,true);function l(m,n){if(Object.prototype.toString.call(m)==='[object Object]'){return c('DeepRecord')(c('mapObject').untyped(m,l));}else return undefined;}return c('DeepRecord')(c('mapObject').untyped(k,l));}f.exports=h;}),null);
__d('AdsAPICampaignRecord',['AdsAPICampaignPaths','recordFromPaths'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('recordFromPaths')(c('AdsAPICampaignPaths'));}),null);
__d('AdsDateUtils',['DateConsts','LocalDateTime','Timezone','parseISODate'],(function a(b,c,d,e,f,g){'use strict';var h={parseISODate:function i(j){return c('parseISODate')(j);},sanitizeDateTimeFromAPI:function i(j){if(!j)return null;if(j==='0')return null;var k=h.parseISODate(j);if(k.getUTCFullYear()<1970)return null;return j;},daysDiff:function i(j){if(!j)j=Date.now();var k=Date.now();j=+j;return Math.floor((j-k)/c('DateConsts').MS_PER_DAY);},getNumberOfDaysInCurrentMonth:function i(j){var k=c('LocalDateTime').now(j),l=new (c('LocalDateTime'))(k.year,k.month+1,0,0,0,0).toDateTime(c('Timezone').UTC);return l.getDayOfMonth();}};f.exports=h;}),null);
__d('AdsInstagramConfigShape',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=h.shape({hasFacebookPlacement:h.bool,hasInstagramPlacement:h.bool,hasFacebookError:h.bool,instagramErrors:h.array});f.exports=i;}),null);
__d('AdsPlacementPlatformUtils',['AdsAPIFacebookPosition','AdsAPIInstagramPosition','AdsAPIPublisherPlatform','AdsMixedValue','AdsPageTypes','AdsPlacementAPIMigrationUtils','AdsPlacementAPISpecReaderUtils','AdsUniformValue','Set'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsPlacementAPIMigrationUtils').deprecate,i=c('AdsPlacementAPISpecReaderUtils').convertCampaignToPlacementSpec,j=c('AdsPlacementAPISpecReaderUtils').isActiveFacebookPosition,k=c('AdsPlacementAPISpecReaderUtils').isActiveInstagramPosition,l=c('AdsPlacementAPISpecReaderUtils').isActivePublisherPlatform,m=new (c('AdsUniformValue'))(true),n=new (c('AdsUniformValue'))(false),o=new (c('AdsMixedValue'))([true,false]);function p(r){r=new (c('Set'))(r);if(r.has(true))return r.has(false)?o:m;return n;}var q={hasAnyFacebookPlacement:function r(s){return s.some(function(t){return t===h(c('AdsPageTypes').DESKTOP_FEED)||t===h(c('AdsPageTypes').MOBILE_FEED)||t===h(c('AdsPageTypes').RIGHT_COLUMN)||t===h(c('AdsPageTypes').HOME)||t===h(c('AdsPageTypes').LOGOUT);});},hasAnyFacebookPlacementV2:function r(s){return l(s,c('AdsAPIPublisherPlatform').FACEBOOK);},hasAnyInstreamVideoPlacementV2:function r(s){return j(s,c('AdsAPIFacebookPosition').INSTREAM_VIDEO);},hasAnyInstagramPlacementV2:function r(s){return l(s,c('AdsAPIPublisherPlatform').INSTAGRAM);},hasInstagramStoriesPlacementV2:function r(s){return k(s,c('AdsAPIInstagramPosition').STORY);},campaignHasAnyFacebookPlacement:function r(s){return l(i(s),c('AdsAPIPublisherPlatform').FACEBOOK);}};f.exports=q;}),null);
__d('AdsPlacementPlatforms',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({AUDIENCE_NETWORK:null,FACEBOOK:null,INSTAGRAM:null});f.exports=h;}),null);
__d('InstagramAdImageLowResolutionSpecs',['fbt','AdCreativeType','AdImageSpecCropKeys','AdsInstagramMediaSpecs','AdsPageTypes','intlNumUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdCreativeType').AD_CREATIVE_TYPE;function j(l,m){return h._({"*":{"*":"{Numerator}:{Denominator}"}},[h.param('Numerator',l,[0]),h.param('Denominator',m,[0])]);}var k={INSTAGRAM_STORY:{placement:c('AdsPageTypes').INSTAGRAM_STORY,width:1080,height:1920,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STORY_MEDIA_HEIGHT_LOW_RES,aspectRatio:0,displayRatio:j(9,16),maxWarningAspectRatio:c('AdsInstagramMediaSpecs').MAX_STORY_ASPECT_RATIO,aspectRatioTolerance:c('AdsInstagramMediaSpecs').ASPECT_RATIO_TOLERANCE,cropKey:c('AdImageSpecCropKeys').NO_CROP,supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STORY_CROP:{placement:c('AdsPageTypes').INSTAGRAM_STORY,width:1080,height:1920,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STORY_MEDIA_HEIGHT_LOW_RES,aspectRatio:.5625,displayRatio:j(9,16),cropKey:c('AdImageSpecCropKeys')['90x160'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,width:1080,height:1080,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,aspectRatio:1,displayRatio:j(1,1),cropKey:c('AdImageSpecCropKeys')['100x100'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM_NO_CROP:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,width:1080,height:1080,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT_LOW_RES,aspectRatio:0,minWarningAspectRatio:c('AdsInstagramMediaSpecs').MIN_STREAM_ASPECT_RATIO,maxWarningAspectRatio:c('AdsInstagramMediaSpecs').MAX_STREAM_ASPECT_RATIO,aspectRatioTolerance:c('AdsInstagramMediaSpecs').ASPECT_RATIO_TOLERANCE,cropKey:c('AdImageSpecCropKeys').NO_CROP,supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]},INSTAGRAM_STREAM_LANDSCAPE:{placement:c('AdsPageTypes').INSTAGRAM_STREAM,width:1200,height:628,minWarningWidth:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT_LOW_RES,aspectRatio:c('AdsInstagramMediaSpecs').MAX_STREAM_ASPECT_RATIO,displayRatio:j(1.91,1),cropKey:c('AdImageSpecCropKeys')['191x100'],supportedTypes:[i.AD_VIDEO,i.FEED_URL,i.NEKO_LPP,i.PAGE_POSTS_V2]}};f.exports=k;}),null);
__d('adsGetCreativeTypeByCreativeFields',['ApiAdObjectTypes','ApiCreativeTypes'],(function a(b,c,d,e,f,g){'use strict';function h(i){switch(i){case c('ApiAdObjectTypes').DOMAIN:return c('ApiCreativeTypes').STANDARD;case c('ApiAdObjectTypes').PAGE:return c('ApiCreativeTypes').INLINE_FAN;case c('ApiAdObjectTypes').EVENT:return c('ApiCreativeTypes').INLINE_RSVP;case c('ApiAdObjectTypes').OFFER:case c('ApiAdObjectTypes').PHOTO:case c('ApiAdObjectTypes').SHARE:case c('ApiAdObjectTypes').STATUS:case c('ApiAdObjectTypes').VIDEO:return c('ApiCreativeTypes').PAGE_POSTS_V2;case c('ApiAdObjectTypes').INVALID:return c('ApiCreativeTypes').EXOTIC_OR_INVALID;default:return null;}}f.exports=h;}),null);
__d('AdImageSpecsUtils',['invariant','AdCreativeType','AdImageSpecs','AdsAdgroupSpecUtils','AdsAPIAdgroupPaths','AdsAssetFeedUtils','AdsBrandAwarenessUtils','AdsInstagramActorIDUtils','AdsInstagramApplicabilityUtils','AdsInstagramConfigShape','AdsMessengerPlacementV2Utils','AdsPageTypes','AdsPlacementAPISpecReaderUtils','AdsPlacementPlatforms','AdsPlacementPlatformUtils','AdsUniformValue','ApiAdCreativePlatformCustomizationFields','InstagramAdImageLowResolutionSpecs','adsGetCreativeTypeByCreativeFields','adsGKCheck','getBulkByPath','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsPlacementAPISpecReaderUtils').isPageTypeSupportedByAssetCustomizationPlacement,j=c('AdsPlacementAPISpecReaderUtils').isPageTypeSupportedByPlacement,k={getImageSpecKey:function l(m){for(var n in c('AdImageSpecs'))if(c('AdImageSpecs')[n]===m)return n;return null;},getImageSpecsForAdType:function l(m,n,o){var p=[],q=k.getAllImageSpecs(o);Object.keys(q).forEach(function(r){var s=q[r].supportedTypes||[];if(s.indexOf(m)>=0)p.push(q[r]);});if(n&&!n.includes(c('AdsPageTypes').NONE))return p.filter(function(r){return n.indexOf(r.placement)>=0;});return p;},getImageSpecsForAssetCustomizationPlacement:function l(m,n,o,p){var q=[],r=k.getAllImageSpecs(p);Object.keys(r).forEach(function(s){var t=r[s].supportedTypes||[];if(t.indexOf(m)>=0)q.push(r[s]);});if(n)return q.filter(function(s){return i(s.placement,n,o);});return q;},getImageSpecsForAdTypeV2:function l(m,n,o){var p=[],q=k.getAllImageSpecs(o);Object.keys(q).forEach(function(r){var s=q[r].supportedTypes||[];if(s.indexOf(m)>=0)p.push(q[r]);});if(n)return p.filter(function(r){return n.every(function(s){return j(r.placement,s);});});return p;},getCropImageSpecsForAdType:function l(m,n,o){var p=k.getImageSpecsForAdType(m,n,o);return k.filterCropImageSpecs(p);},getCropImageSpecsForAdTypeV2:function l(m,n,o){var p=k.getImageSpecsForAdTypeV2(m,n,o);return k.filterCropImageSpecs(p);},getDisabledCropImageSpecsForAdType:function l(m,n,o){return m.filter(function(p){if(p.placement===c('AdsPageTypes').DESKTOP_FEED&&n===c('AdCreativeType').AD_CREATIVE_TYPE.PAGE_POSTS_V2&&!o)return true;return false;});},getDisabledSpecs:function l(m,n,o,p){var q=[],r=k.getFacebookImageSpecs(m);if(!k.isCroppingEnabled(n,o,p))Array.prototype.push.apply(q,r);var s=k.getInstagramImageSpecs(m);if(!k.isCroppingEnabled(n,o,p,c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM))Array.prototype.push.apply(q,s);return q;},shouldShowCropButton:function l(m,n,o,p,q){if(k.isCroppingEnabled(m,n,p))return true;if(!k.isCroppingEnabled(m,n,p,c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM))return false;if(!o)return false;return q;},isCroppingEnabled:function l(m,n,o){var p=arguments.length<=3||arguments[3]===undefined?null:arguments[3];if(m)return false;var q=function t(u){return c('AdsAdgroupSpecUtils').canCropStaticImageForPlatform(u,p);},r=o&&o.every(function(t){return c('AdsInstagramApplicabilityUtils').placementSpecHasInstagramStoryPlacementOnly(t);}),s=o&&c('AdsMessengerPlacementV2Utils').someHaveMessengerThreadPosition(o);return !s&&(!r||c('adsGKCheck')('ig_ads_support_9_by_16_image_cropping'))&&n.every(q);},filterCropImageSpecs:function l(m){var n=[];return m.sort(function(o,p){return p.width-o.width;}).filter(function(o){if(o.placement===c('AdsPageTypes').INSTAGRAM_STREAM)return true;if(!o.cropKey||n.includes(o.cropKey))return false;n.push(o.cropKey);return true;});},getCropImageSpecsForBulkAdgroups:function l(m,n){var o=c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_TYPE);if(!(o instanceof c('AdsUniformValue')))return [];var p=c('adsGetCreativeTypeByCreativeFields')(o.getValue());return k.getCropImageSpecsForAdType(p,n);},getCropImageSpecsForBulkAdgroupsV2:function l(m,n,o){var p=c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_TYPE);if(!(p instanceof c('AdsUniformValue')))return [];var q=c('adsGetCreativeTypeByCreativeFields')(p.getValue());return k.getCropImageSpecsForAdTypeV2(q,n,o);},getImageSpecForAdType:function l(m,n){var o=k.getImageSpecsForAdType(m);for(var p=0;p<o.length;++p){var q=o[p];if(q.placement===n)return q;}return null;},getImageSpecPlacementPlatform:function l(m){if(c('AdsPlacementPlatformUtils').hasAnyFacebookPlacement([m.placement])||m.placement===c('AdsPageTypes').MOBILE_EXTERNAL)return c('AdsPlacementPlatforms').FACEBOOK;return m.placement===c('AdsPageTypes').INSTAGRAM_STREAM?c('AdsPlacementPlatforms').INSTAGRAM:null;},getMostStringentImageSpec:function l(m){if(!m.length)return null;return m.sort(function(n,o){return n.width-o.width;})[0];},getLeastStringentImageSpec:function l(m){if(!m.length)return null;return m.sort(function(n,o){return o.width-n.width;})[0];},hasFacebookPlacement:function l(m){return m.some(function(n){return n.placement!==c('AdsPageTypes').INSTAGRAM_STREAM;});},hasInstagramPlacement:function l(m){return m.some(function(n){return n.placement===c('AdsPageTypes').INSTAGRAM_STREAM;});},getFacebookImageSpecs:function l(m){return m.filter(function(n){return n.placement!==c('AdsPageTypes').INSTAGRAM_STORY&&n.placement!==c('AdsPageTypes').INSTAGRAM_STREAM;});},getInstagramImageSpecs:function l(m){return m.filter(function(n){return n.placement===c('AdsPageTypes').INSTAGRAM_STORY||n.placement===c('AdsPageTypes').INSTAGRAM_STREAM;});},reduceMinFacebookImageSpec:function l(m){m.length>0||h(0);var n={};['minWarningHeight','minWarningWidth'].forEach(function(o){n[o]=m.reduce(function(p,q){return Math.max(p,q[o]);},0);});return n;},reduceMinInstagramImageSpec:function l(m){m.length>0||h(0);var n=Number.MAX_VALUE,o=Number.MAX_VALUE,p,q;m.forEach(function(r){n=Math.min(n,r.minWarningHeight);o=Math.min(o,r.minWarningWidth);if(r.minWarningAspectRatio)p=Math.min(p?p:Number.MAX_VALUE,r.minWarningAspectRatio);if(r.maxWarningAspectRatio)q=Math.max(q?q:0,r.maxWarningAspectRatio);});return {minWarningHeight:n,minWarningWidth:o,minWarningAspectRatio:p,maxWarningAspectRatio:q,placement:m[0].placement};},reduceMinImageSpec:function l(m){var n=null,o=null;if(!m||!m.length)return {igSpecificImageSpec:o,imageSpec:n};var p=k.getFacebookImageSpecs(m),q=k.getInstagramImageSpecs(m);if(p.length>0)n=k.reduceMinFacebookImageSpec(p);if(q.length>0){o=k.reduceMinInstagramImageSpec(q);if(p.length===0){n=o;o=undefined;}}return {igSpecificImageSpec:o,imageSpec:n};},getSelectedInstagramImageSpec:function l(m){if(m){if(m[c('AdImageSpecs').INSTAGRAM_STREAM.cropKey])return c('AdImageSpecs').INSTAGRAM_STREAM;if(m[c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE.cropKey])return c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE;if(m[c('AdImageSpecs').INSTAGRAM_STORY_CROP.cropKey])return c('AdImageSpecs').INSTAGRAM_STORY_CROP;}return c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP;},getAllImageSpecs:function l(m){if(m){return babelHelpers['extends']({},c('AdImageSpecs'),c('InstagramAdImageLowResolutionSpecs'));}else return c('AdImageSpecs');},getImageSpecsForAdgroup:function l(m,n,o){var p=c('adsGetCreativeTypeByCreativeFields')(m.getIn(c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_TYPE)),q=c('AdsPlacementAPISpecReaderUtils').convertCampaignRecordToPlacementSpec(n),r=k.getCropImageSpecsForAdTypeV2(p,[q],o),s=k.getDisabledCropImageSpecsForAdType(r,p,c('AdsBrandAwarenessUtils').isWebsiteLinkEnabled(m.toJS()));return {imageSpecs:r,disabledSpecs:s};}};f.exports=k;}),null);
__d('AdsImageCollectionViews',['invariant','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i=['INSTAGRAM','LIBRARY','PAGE','SCRAPED','STOCK'],j={};i.forEach(function(r,s){j[r]=1<<s;});j.INVISIBLE=0;var k={};Object.keys(j).forEach(function(r){var s=j[r];k[s]=s;});j.ALL=(1<<i.length)-1;function l(r){return r in k;}function m(r){return r>=0&&r<=c('nullthrows')(j.ALL);}function n(r){l(r)||h(0);}function o(r){m(r)||h(0);}var p={ALL:c('nullthrows')(j.ALL),INSTAGRAM:c('nullthrows')(j.INSTAGRAM),INVISIBLE:c('nullthrows')(j.INVISIBLE),LIBRARY:c('nullthrows')(j.LIBRARY),PAGE:c('nullthrows')(j.PAGE),SCRAPED:c('nullthrows')(j.SCRAPED),STOCK:c('nullthrows')(j.STOCK)},q={views:p,isValidView:l,isValidViewBitmask:m,assertIsValidView:n,assertIsValidViewBitmask:o};f.exports=q;}),null);
__d('AdsImageCollection',['invariant','AdsImageCollectionViews','ArbiterMixin','mixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function k(l){j.constructor.call(this);l=Object.assign({maxSelectedImages:1},l);this.$AdsImageCollection1=l.maxSelectedImages;this.$AdsImageCollection1%1===0||h(0);this.reset();}k.prototype.reset=function(){this.$AdsImageCollection2=[];this.$AdsImageCollection3={};this.$AdsImageCollection4=[];};k.prototype.addImagesToFront=function(l,m){this.$AdsImageCollection5(l);this.$AdsImageCollection6(l,0,m);};k.prototype.addImagesToBack=function(l,m){this.$AdsImageCollection5(l);this.addImagesToBack_UNSAFE(l,m);};k.prototype.addImagesToBack_UNSAFE=function(l,m){this.$AdsImageCollection6(l,this.$AdsImageCollection2.length,m);};k.prototype.$AdsImageCollection6=function(l,m,n){c('AdsImageCollectionViews').assertIsValidView(n);var o=l.filter(function(p){var q=this.$AdsImageCollection3[p.getUniqueIdentifier()];if(q){q.view=n;return false;}else{this.$AdsImageCollection3[p.getUniqueIdentifier()]={selected:false,view:n,image:p};return true;}}.bind(this),this);Array.prototype.splice.apply(this.$AdsImageCollection2,[m,0].concat(o));this.inform('onChange');};k.prototype.$AdsImageCollection5=function(l){l.forEach(function(m){var n=this.$AdsImageCollection3[m.getUniqueIdentifier()];if(n)0===(n.view&c('AdsImageCollectionViews').views.ALL)||h(0);}.bind(this));};k.prototype.isImageSelected=function(l){return !!this.$AdsImageCollection3[l.getUniqueIdentifier()].selected;};k.prototype.toggleImageSelected=function(l){var m=!this.isImageSelected(l);this.setImageSelected(l,m);return m;};k.prototype.setImageSelected=function(l,m){var n=this.$AdsImageCollection7(l,m);n&&this.inform('onChange');};k.prototype.setImagesSelected=function(l,m){var n=void 0;for(var o=0,p=l.length;o<p;o++)if(this.$AdsImageCollection7(l[o],m))n=true;n&&this.inform('onChange');};k.prototype.$AdsImageCollection7=function(l,m){l=this.$AdsImageCollection3[l.getUniqueIdentifier()].image;this.assertHasImage(l);if(m===this.isImageSelected(l))return false;if(m){this.$AdsImageCollection4.push(l);}else this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(o){return !l.equals(o);});this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=m;if(this.$AdsImageCollection1>0)while(this.getSelectedImageCount()>this.$AdsImageCollection1){var n=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false;}return true;};k.prototype.setMaxSelectableImages=function(l){for(var m=l;m<this.getSelectedImageCount();m++){var n=this.$AdsImageCollection4[m];this.$AdsImageCollection3[n.getUniqueIdentifier()].selected=false;}this.$AdsImageCollection1=l;};k.prototype.deselectAllImages=function(){if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(l){this.$AdsImageCollection3[l.getUniqueIdentifier()].selected=false;},this);this.$AdsImageCollection4=[];this.inform('onChange');};k.prototype.clearImagesByViewBitmask=function(l){c('AdsImageCollectionViews').assertIsValidViewBitmask(l);var m=false;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(n){var o=0!==(l&this.$AdsImageCollection3[n.getUniqueIdentifier()].view);if(o){m=true;if(this.isImageSelected(n)){this.$AdsImageCollection3[n.getUniqueIdentifier()].view=c('AdsImageCollectionViews').views.INVISIBLE;o=false;}else delete this.$AdsImageCollection3[n.getUniqueIdentifier()];}return !o;}.bind(this),this);if(m)this.inform('onChange');};k.prototype.hasImage=function(l){return this.$AdsImageCollection3[l.getUniqueIdentifier()]!==undefined;};k.prototype.hasImageInView=function(l,m){var n=this.$AdsImageCollection3[l.getUniqueIdentifier()];return !!n&&(n.view&m)!==0;};k.prototype.assertHasImage=function(l){this.hasImage(l)||h(0);};k.prototype.getSelectedImages=function(){return this.$AdsImageCollection4.slice(0);};k.prototype.getSelectedImageCount=function(){return this.$AdsImageCollection4.length;};k.prototype.hasSelectedImages=function(){return this.getSelectedImageCount()!==0;};k.prototype.getImageByIndex=function(l){return this.$AdsImageCollection2[l];};k.prototype.getImageByUniqueID=function(l){return this.$AdsImageCollection3[l]&&this.$AdsImageCollection3[l].image;};k.prototype.getImages=function(l){c('AdsImageCollectionViews').assertIsValidViewBitmask(l);return this.$AdsImageCollection2.filter(function(m){return 0!==(l&this.$AdsImageCollection3[m.getUniqueIdentifier()].view);}.bind(this),this);};k.prototype.getImageCount=function(l){return this.getImages(l).length;};k.prototype.isEmpty=function(){return this.getImageCount(c('AdsImageCollectionViews').views.ALL)===0;};f.exports=k;}),null);
__d('InstagramImageResolutionExperiment',['AdsBuyingTypes','AdsError'],(function a(b,c,d,e,f,g){'use strict';var h={useHighResolution:function i(j,k,l){if(!j)return false;if(l&&l.includes(c('AdsBuyingTypes').RESERVED))return false;if(k&&k!==c('AdsError').Level.RECOMMEND)return false;return j.getParamBool('high_resolution');}};f.exports=h;}),null);
__d('AdsImageValidation',['errorCode','errorDesc','fbt','AdImageSpecs','AdImageSpecsUtils','AdsAPIAdgroupPaths','AdsAPIPublisherPlatform','AdsBuyingTypes','AdsCFImageTypes','AdsError','AdsInstagramSoftErrors','AdsPageTypes','AdsPlacementAPISpecReaderUtils','ApiAdCreativeFields','ApiAdCreativePlatformCustomizationFields','ApiAdCreativeStorySpecFields','ApiObjectStorySpecLinkFields','InstagramImageResolutionExperiment','adsGetCreativeTypeByCreativeFields','getByPath','keyMirror'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k={isValidFormat:function l(m){return Object.prototype.hasOwnProperty.call(c('AdsCFImageTypes'),m);},isSquare:function l(m){return !!(m.getWidth()&&m.getWidth()===m.getHeight());},isExactSize:function l(m,n){return m.getWidth()===n.width&&m.getHeight()===n.height;},isWarningSize:function l(m,n){return m.getWidth()>=n.minWarningWidth&&m.getHeight()>=n.minWarningHeight;},isValidCropSize:function l(m,n){return m[1][0]-m[0][0]>=n.minWarningWidth&&m[1][1]-m[0][1]>=n.minWarningHeight;},isValidAspectRatio:function l(m,n){var o=0;if(Object.prototype.hasOwnProperty.call(n,'aspectRatioTolerance'))o=n.aspectRatioTolerance;var p=m.getWidth()/m.getHeight();if(Object.prototype.hasOwnProperty.call(n,'minWarningAspectRatio')&&p<n.minWarningAspectRatio*(1-o))return false;if(Object.prototype.hasOwnProperty.call(n,'maxWarningAspectRatio')&&p>n.maxWarningAspectRatio*(1+o))return false;return true;},isRecommendedSize:function l(m,n){return m.getHeight()>=n.height&&m.getWidth()>=n.width;},isLargeSize:function l(m,n){return k.isRecommendedSize(m,n)||m.getWidth()>=n.minLargeWidth&&m.getHeight()>=n.minLargeHeight;},isSmallSize:function l(m,n){return k.isLargeSize(m,n)||k.isWarningSize(m,n);},hasSmallFormat:function l(m){return !!(m.minLargeWidth&&m.minLargeHeight);},isWithinSizeTolerance:function l(m,n){var o=n.dimensionTolerance,p=Math.abs(n.height-m.getHeight())<o,q=Math.abs(n.width-m.getWidth())<o;return p&&q;},validate:function l(m,n,o){if(n.placement in m.validationMap){o(m,n,m.validationMap[n.placement]);return;}var p=this._imageDimensionsReady.bind(this,m,n,o);if(m.isStockImage()){m.fetchFullSizeDimensions(p);}else m.setDimensionsReadyCallback(p);},validateNow:function l(m,n,o,p,q){if(m.isValidated(n.placement))return;if(!m.hasDimensions())return;var r=this._getValidation(m,n,o,p,q);m.validationMap[n.placement]=r;},_imageDimensionsReady:function l(m,n,o){var p=this._getValidation(m,n,m.getCrops());o(m,n,p);},_getImageResolutionError:function l(m,n,o){if(c('InstagramImageResolutionExperiment').useHighResolution(o,undefined,n))return j._("Your image resolution is low and might not perform as well on all devices.");return j._("Images must be at least {minimum Instagram ad image width} x {minimum Instagram ad image height} pixels.",[j.param('minimum Instagram ad image width',m.minWarningWidth),j.param('minimum Instagram ad image height',m.minWarningHeight)]);},_getValidation:function l(m,n,o,p,q){var r=void 0,s=void 0,t=void 0,u=[],v=void 0,w=void 0,x=void 0,y=void 0,z=n.placement,aa=Object.prototype.hasOwnProperty.call(n,'height')&&Object.prototype.hasOwnProperty.call(n,'width'),ba=aa?j._({"*":{"*":{"*":{"*":"This image is too small. Please use a larger image.{newLine1}Minimum Size: {minimumWidth} x {minimumHeight} pixels{newLine2}Recommended Size: {recommendedWidth} x {recommendedHeight} pixels"}}}},[j.param('newLine1','\n\n'),j.param('minimumWidth',n.minWarningWidth,[0]),j.param('minimumHeight',n.minWarningHeight,[0]),j.param('newLine2','\n'),j.param('recommendedWidth',n.width,[0]),j.param('recommendedHeight',n.height,[0])]):j._({"*":{"*":"This image is too small. Please use a larger image.{newLine}Minimum Size: {width} x {height} pixels"}},[j.param('newLine','\n\n'),j.param('width',n.minWarningWidth,[0]),j.param('height',n.minWarningHeight,[0])]),ca=c('keyMirror')(c('AdImageSpecs')),da=c('AdImageSpecsUtils').getImageSpecKey(n);switch(da){case ca.EVENT_DESKTOP_FEED:case ca.EVENT_MOBILE_FEED:case ca.EVENT_RHC:break;default:v=k.isWarningSize(m,n);if(!v){t=ba;}else if((z===c('AdsPageTypes').DESKTOP_FEED||z===c('AdsPageTypes').MOBILE_FEED)&&k.hasSmallFormat(n)){y=k.isRecommendedSize(m,n);x=k.isLargeSize(m,n);w=k.isSmallSize(m,n);if(y){r=j._("This image will display in high-resolution on Facebook.");}else if(x&&!y){r=aa?j._({"*":{"*":"This image will show in the wider format in News Feed.{newLine}Recommended Size: {width} x {height} pixels"}},[j.param('newLine','\n\n'),j.param('width',n.width,[0]),j.param('height',n.height,[0])]):j._("This image will show in the wider format in News Feed.");}else if(w&&!y)s=aa?j._({"*":{"*":"Upload a larger image to be eligible for the wider format in News Feed.{newLine}Recommended Size: {width} x {height} pixels"}},[j.param('newLine','\n\n'),j.param('width',n.width,[0]),j.param('height',n.height,[0])]):j._("Upload a larger image to be eligible for the wider format in News Feed.");}if(z===c('AdsPageTypes').INSTAGRAM_STREAM||z===c('AdsPageTypes').INSTAGRAM_STORY){var ea=[],fa=o&&o[n.cropKey];if(!k.isWarningSize(m,n)){var ga=k._getImageResolutionError(n,p,q);u.push(new (c('AdsError'))(1772077,ga,{level:c('AdsError').Level.WARN,path:c('AdsAPIAdgroupPaths').CREATIVE.IMAGE_HASH}));ea.push(ga);}else if(o&&fa&&!k.isValidCropSize(o[n.cropKey],n)){var ha=k._getImageResolutionError(n,p,q);u.push(new (c('AdsError'))(2016007,ha,{level:c('AdsError').Level.WARN,path:c('AdsAPIAdgroupPaths').CREATIVE.IMAGE_HASH}));ea.push(ha);}else if(z===c('AdsPageTypes').INSTAGRAM_STORY&&!fa&&!k.isValidAspectRatio(m,n))ea.push(i._(function(ia,ja){return ia._("Story media aspect ratio has to be smaller than or equal to 9:16");},{}));if(ea.length>0){if(ea.length>1)ea=ea.map(function(ia){return j._("{bullet} {error message}",[j.param('bullet','\u2022'),j.param('error message',ia)]);}).join('\n');t=ea;}}}return {successMessage:r,warningMessage:s,errorMessage:t,specificErrors:u};},getValidationByCreative:function l(m,n,o,p,q,r,s,t){var u=c('adsGetCreativeTypeByCreativeFields')(n[c('ApiAdCreativeFields').OBJECT_TYPE]),v=c('AdImageSpecsUtils').getImageSpecsForAdTypeV2(u,[q],t),w=!!c('getByPath')(n,[c('ApiAdCreativeFields').OBJECT_STORY_SPEC,c('ApiAdCreativeStorySpecFields').LINK_DATA,c('ApiObjectStorySpecLinkFields').CHILD_ATTACHMENTS]);if(w)v=v.filter(function(da){return da.placement!==c('AdsPageTypes').INSTAGRAM_STREAM||da.cropKey===c('AdImageSpecs').INSTAGRAM_STREAM.cropKey;});var x=void 0;if(q&&c('AdsPlacementAPISpecReaderUtils').isActivePublisherPlatform(q,c('AdsAPIPublisherPlatform').INSTAGRAM))x=c('AdImageSpecsUtils').getSelectedInstagramImageSpec(o);if(x)v=v.filter(function(da){return da.placement!==c('AdsPageTypes').INSTAGRAM_STREAM&&da.placement!==c('AdsPageTypes').INSTAGRAM_STORY||x&&da.cropKey===x.cropKey;});var y=void 0,z=void 0,aa=[],ba=void 0,ca=void 0;v.some(function(da){k.validateNow(m,da,o,r,s);var ea=m.validationMap[da.placement];if(ea){if(ea.errorMessage){y=ea.errorMessage;ba=da.placement;aa=ea.specificErrors;return true;}if(!z&&ea.warningMessage){z=ea.warningMessage;ca=da.placement;}}return false;});if(y)return {message:y,severity:'error',placement:ba,specificErrors:aa};if(z)return {message:z,severity:'warning',placement:ca};return null;},getAdsErrorForImageWithImageSpec:function l(m,n,o,p){k.validateNow(m,n,null,o,p);var q=m.getValidation(n.placement);if(!q.errorMessage)return null;var r=n.placement===c('AdsPageTypes').INSTAGRAM_STREAM?2016006:1487015;return new (c('AdsError'))(r,q.errorMessage,{level:c('AdsError').Level.WARN});},getAdsErrorsForImage:function l(m,n,o,p){if(n.length===0||!m.hasDimensions())return [];var q=[];n.forEach(function(r){if(r.placement===c('AdsPageTypes').INSTAGRAM_STORY||r.placement===c('AdsPageTypes').INSTAGRAM_STREAM)return;var s=k.getAdsErrorForImageWithImageSpec(m,r,o,p);s&&q.push(s);});if(q.length!==0)return q;n.forEach(function(r){if(r.placement!==c('AdsPageTypes').INSTAGRAM_STORY&&r.placement!==c('AdsPageTypes').INSTAGRAM_STREAM)return;var s=k.getAdsErrorForImageWithImageSpec(m,r,o,p);s&&q.push(s);});if(q.length!==0&&n.length>1&&(!o||!o.includes(c('AdsBuyingTypes').RESERVED)))q=q.map(function(r){if(r.key in c('AdsInstagramSoftErrors')&&r.level===c('AdsError').Level.WARN)r.level=c('AdsError').Level.RECOMMEND;return r;});return q;},getDefaultImageSpec:function l(m,n,o){if(m!==c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM)return o[0];var p=n.getWidth(),q=n.getHeight(),r=void 0;if(o.some(function(t){return t.cropKey===c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE.cropKey;})&&p>0&&q>0&&k.isWarningSize(n,c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP)&&!k.isValidAspectRatio(n,c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP)){r=p>q?c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE.cropKey:c('AdImageSpecs').INSTAGRAM_STREAM.cropKey;}else r=c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP.cropKey;if(o.some(function(t){return t.cropKey===c('AdImageSpecs').INSTAGRAM_STORY_CROP.cropKey;}))r=c('AdImageSpecs').INSTAGRAM_STORY_CROP.cropKey;var s=o.find(function(t){return t.cropKey===r;});if(!s)s=o[0];return s;}};f.exports=k;}),null);
__d('AdsBaseDataLoader',['AdsDispatcher','abstractMethod','setImmediate'],(function a(b,c,d,e,f,g){'use strict';h.prototype.__getActionTypes=function(){return c('abstractMethod')('AdsBaseDataLoader','__getActionTypes');};h.prototype.promise=function(){return c('abstractMethod')('AdsBaseDataLoader','promise');};h.prototype.dispatch=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];c('setImmediate')(function(){c('AdsDispatcher').handleUpdateFromServerResponse({data:{args:j},type:this.__getActionTypes().START});this.promise.apply(this,j).done(function(l){return c('AdsDispatcher').handleUpdateFromServerResponse({data:{args:j,result:l},type:this.__getActionTypes().SUCCESS});}.bind(this),function(l){return c('AdsDispatcher').handleUpdateFromServerResponse({data:{args:j,error:l},type:this.__getActionTypes().ERROR});}.bind(this));}.bind(this));};function h(){}f.exports=h;}),null);
__d('AdsShutterstockImageByIDLoaderActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={START:'',SUCCESS:'',ERROR:''},i=c('keyMirrorRecursive')(h,'AdsShutterstockImageByIDLoader');f.exports=i;}),null);
__d('AdsShutterstockImageByIDLoader',['AdsAPIShutterstockImageFields','AdsBaseDataLoader','AdsGraphAPI','AdsShutterstockImageByIDLoaderActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('AdsAPIShutterstockImageFields').ID,c('AdsAPIShutterstockImageFields').PREVIEW,c('AdsAPIShutterstockImageFields').PREVIEW_URL,c('AdsAPIShutterstockImageFields').THUMBNAIL];h=babelHelpers.inherits(k,c('AdsBaseDataLoader'));i=h&&h.prototype;k.prototype.__getActionTypes=function(){return c('AdsShutterstockImageByIDLoaderActionTypes');};k.prototype.promise=function(){for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];var p=n[0],q=p;return c('AdsGraphAPI').get(f.id).root(q).get({fields:j});};function k(){h.apply(this,arguments);}var l=new k();f.exports=l;}),null);
__d('ShutterstockImage',['invariant','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('immutable').Record({id:null,preview:null,preview_url:null,thumbnail:null}));j=i&&i.prototype;function k(l){if(Object.prototype.hasOwnProperty.call(l,'id'))typeof l.id==='string'&&l.id.startsWith('ssimg_')||h(0);if(Object.prototype.hasOwnProperty.call(l,'preview_url'))typeof l.preview_url==='string'||h(0);j.constructor.call(this,l);}f.exports=k;}),null);
__d('AdsShutterstockImageByIDStore',['AdsDispatcher','AdsShutterstockImageByIDLoader','AdsShutterstockImageByIDLoaderActionTypes','FluxStore','LoadObject','Map','ShutterstockImage','setImmediate'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));this.$AdsShutterstockImageByIDStoreClass1=new (c('Map'))();this.$AdsShutterstockImageByIDStoreClass2=new (c('Map'))();this.$AdsShutterstockImageByIDStoreClass2.set(c('AdsShutterstockImageByIDLoaderActionTypes').START,this.$AdsShutterstockImageByIDStoreClass3);this.$AdsShutterstockImageByIDStoreClass2.set(c('AdsShutterstockImageByIDLoaderActionTypes').SUCCESS,this.$AdsShutterstockImageByIDStoreClass4);this.$AdsShutterstockImageByIDStoreClass2.set(c('AdsShutterstockImageByIDLoaderActionTypes').ERROR,this.$AdsShutterstockImageByIDStoreClass5);}j.prototype.$AdsShutterstockImageByIDStoreClass6=function(){return {accessed:false,legacyCallbacks:[],loadObject:c('LoadObject').empty(),scheduledLoad:false};};j.prototype.$AdsShutterstockImageByIDStoreClass7=function(l){return this.$AdsShutterstockImageByIDStoreClass1.get(l);};j.prototype.$AdsShutterstockImageByIDStoreClass8=function(l){var m=this.$AdsShutterstockImageByIDStoreClass7(l);if(!m){m=this.$AdsShutterstockImageByIDStoreClass6();this.$AdsShutterstockImageByIDStoreClass1.set(l,m);}return m;};j.prototype.$AdsShutterstockImageByIDStoreClass9=function(l){var m=this.$AdsShutterstockImageByIDStoreClass8(l);m.accessed=true;return m;};j.prototype.get=function(l){var m=this.$AdsShutterstockImageByIDStoreClass9(l),n=m.loadObject;if(!n.hasValue()&&!n.hasError()&&!n.hasOperation()&&!m.scheduledLoad){m.scheduledLoad=true;c('AdsShutterstockImageByIDLoader').dispatch(l);}return n;};j.prototype.getCached=function(l){return this.$AdsShutterstockImageByIDStoreClass9(l).loadObject;};j.prototype.__onDispatch=function(l){var m=l.action,n=this.$AdsShutterstockImageByIDStoreClass2.get(m.type);if(n){var o=n.call(this,m.data);if(o)this.__emitChange();}};j.prototype.$AdsShutterstockImageByIDStoreClass10=function(l,m){var n=this.$AdsShutterstockImageByIDStoreClass8(l),o=n.accessed,p=n.loadObject;m(n);var q=n.loadObject;if(q.hasValue()||q.hasError()){n.legacyCallbacks.forEach(function(r){return this.$AdsShutterstockImageByIDStoreClass11(r,q);}.bind(this));n.legacyCallbacks=[];}return o&&q!==p;};j.prototype.$AdsShutterstockImageByIDStoreClass11=function(l,m){c('setImmediate')(function(){return l(m);});};j.prototype.addLegacyCallback_DONT_USE_IN_NEW_CODE=function(l,m){var n=this.$AdsShutterstockImageByIDStoreClass9(l),o=n.loadObject;if(o.hasValue()||o.hasError()){this.$AdsShutterstockImageByIDStoreClass11(m,o);}else{n.legacyCallbacks.push(m);this.get(l);}};j.prototype.$AdsShutterstockImageByIDStoreClass3=function(l){var m=l.args;return this.$AdsShutterstockImageByIDStoreClass10(m[0],function(n){n.loadObject=n.loadObject.loading();n.scheduledLoad=false;});};j.prototype.$AdsShutterstockImageByIDStoreClass4=function(l){var m=l.args,n=l.result;return this.$AdsShutterstockImageByIDStoreClass10(m[0],function(o){o.loadObject=o.loadObject.setValue(new (c('ShutterstockImage'))(n)).done();});};j.prototype.$AdsShutterstockImageByIDStoreClass5=function(l){var m=l.args,n=l.error;return this.$AdsShutterstockImageByIDStoreClass10(m[0],function(o){o.loadObject=o.loadObject.setError(n).done();});};var k=new j();f.exports=k;}),null);
__d('AdsImageLegacy',['invariant','AdsShutterstockImageByIDStore','AdsImageValidation','CachedDOMImageSizePool','mapObject','mergeDeep','mergeHelpers'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('CachedDOMImageSizePool'))(1000,10*60*1000),j=['FullSize','Preview','Thumbnail'];k.prototype.toJSON=function(){var l=this.$AdsImageLegacy1;return {creatives:this.creatives,isAssociatedCreativesInAdgroups:this.isAssociatedCreativesInAdgroups,crops:this.crops,hash:this.$AdsImageLegacy2,height:this.height,imageType:this.$AdsImageLegacy3||null,key:this.$AdsImageLegacy4||null,name:this.name,platformImageObjects:c('mapObject')(this.platformLegacyImages,function(m){return m.toJSON();}),previewHeight:this.getPreviewHeight(),previewUrl:this.getPreviewUrl(),previewWidth:this.getPreviewWidth(),stockImageID:this.$AdsImageLegacy5||null,thumbHeight:this.getThumbnailHeight(),thumbWidth:this.getThumbnailWidth(),url:l?l.toString():null,url_128:this.$AdsImageLegacy6||null,url_256:this.$AdsImageLegacy7||null,validationMap:this.validationMap||null,width:this.width,id:this.id,business_object_tags:this.business_object_tags,created_time:this.created_time,renderedHeight:this.renderedHeight,renderedWidth:this.renderedWidth};};k.prototype.clone=function(l){return new k(c('mergeDeep')(this.toJSON(),l,c('mergeHelpers').ArrayStrategies.Clobber));};function k(l){l=l||{};this.creatives=l.creatives||[];this.isAssociatedCreativesInAdgroups=l.is_associated_creatives_in_adgroups;this.crops=l.crops||{};this.name=l.name||'';this.platformLegacyImages=c('mapObject')(l.platformImageObjects||{},function(m){!m.platform||h(0);return new k(m);});this.$AdsImageLegacy2=l.hash;this.$AdsImageLegacy1=l.url;this.$AdsImageLegacy7=l.url_256;this.$AdsImageLegacy8=l.url_256_height;this.$AdsImageLegacy9=l.url_256_width;this.$AdsImageLegacy6=l.url_128;this.$AdsImageLegacy3=l.imageType;this.$AdsImageLegacy4=l.key;this.$AdsImageLegacy5=l.stockImageID;if(this.isStockImage()){this.$AdsImageLegacy10=l.fullSizeHeight;this.$AdsImageLegacy11=l.fullSizeUrl;this.$AdsImageLegacy12=l.fullSizeWidth;this.$AdsImageLegacy13=l.previewHeight;this.$AdsImageLegacy14=l.previewUrl;this.$AdsImageLegacy15=l.previewWidth;this.$AdsImageLegacy16=l.thumbHeight;this.$AdsImageLegacy6=l.url;this.$AdsImageLegacy17=l.thumbWidth;this.$AdsImageLegacy7=l.url;this.$AdsImageLegacy8=l.thumbHeight;this.$AdsImageLegacy9=l.thumbWidth;this.getThumbnailWidth()&&this.getThumbnailHeight()||h(0);this.getPreviewUrl()&&this.getPreviewWidth()&&this.getPreviewHeight()||h(0);}this.height=l.height;this.width=l.width;this.renderedHeight=l.renderedHeight;this.renderedWidth=l.renderedWidth;this.id=l.id;this.business_object_tags=l.business_object_tags;this.created_time=l.created_time;this.validationMap=l.validationMap||{};this.$AdsImageLegacy18();}k.prototype.$AdsImageLegacy18=function(){if(this.$AdsImageLegacy1&&!this.hasDimensions())i.get(this.$AdsImageLegacy1,this.$AdsImageLegacy19,this);if(this.$AdsImageLegacy6&&!this.hasThumbnailDimensions())i.get(this.$AdsImageLegacy6,this.$AdsImageLegacy20,this);};k.prototype.isValidated=function(l){var m=this.getValidationMap();if(l)return !!m[l];return !!Object.keys(m).length;};k.prototype.getValidation=function(l){return this.getValidationMap()[l]||{};};k.prototype.getValidationMap=function(){return this.validationMap;};k.prototype.resetValidation=function(l){if(l){this.validationMap=babelHelpers['extends']({},this.validationMap);delete this.validationMap[l];}else this.validationMap={};};k.prototype.hasValidationError=function(l){var m=this.getValidation(l);return !!m.errorMessage;};k.prototype.getValidationError=function(l){var m=this.getValidation(l);return this.hasValidationError(l)?m.errorMessage:null;};k.prototype.getCreatives=function(){return this.creatives;};k.prototype.getCrop=function(l){return this.crops?this.crops[l]:null;};k.prototype.getCrops=function(){var l={};Object.keys(this.crops||{}).forEach(function(m){var n=this.getCrop(m);if(n)l[m]=n;}.bind(this));return l;};k.prototype.getAPICrops=function(){var l=this.getCrops();if(!Object.keys(l).length)return null;return l;};k.prototype.hasDimensions=function(){return this.width!==undefined&&this.height!==undefined;};k.prototype.hasThumbnailDimensions=function(){return this.$AdsImageLegacy17!==undefined&&this.$AdsImageLegacy16!==undefined;};k.prototype.getWidth=function(){return this.getFullSizeWidth()||this.getPreviewWidth()||this.width;};k.prototype.getHeight=function(){return this.getFullSizeHeight()||this.getPreviewHeight()||this.height;};k.prototype.setDimensionsReadyCallback=function(l){if(!l)return;if(this.hasDimensions()){setTimeout(l,0);}else if(this.$AdsImageLegacy1){i.get(this.$AdsImageLegacy1,l);}else{this.$AdsImageLegacy19(0,0);this.$AdsImageLegacy20(0,0);setTimeout(l,0);}};k.prototype.validate=function(l,m){c('AdsImageValidation').validate(this,l,m);};k.prototype.validateNow=function(l){c('AdsImageValidation').validateNow(this,l);};k.prototype.getName=function(){return this.name;};k.prototype.getUrl=function(){return this.$AdsImageLegacy1;};k.prototype.getBiggestVersionDetails=function(){if(this.isStockImage())for(var l=0;l<j.length;l++){var m='get'+j[l],n=this[m+'Url']();if(n)return {url:n,width:this[m+'Width'](),height:this[m+'Height']()};}return {url:this.getUrl(),width:this.getWidth(),height:this.getHeight()};};k.prototype.getPreviewUrl=function(){return this.$AdsImageLegacy14;};k.prototype.getPreviewWidth=function(){return this.$AdsImageLegacy15;};k.prototype.getPreviewHeight=function(){return this.$AdsImageLegacy13;};k.prototype.getFullSizeUrl=function(){return this.$AdsImageLegacy11;};k.prototype.setFullSizeUrl=function(l){this.$AdsImageLegacy11=l;};k.prototype.getFullSizeWidth=function(){return this.$AdsImageLegacy12;};k.prototype.getFullSizeHeight=function(){return this.$AdsImageLegacy10;};k.prototype.fetchStockImageDetails=function(l,m){this.isStockImage()||h(0);c('AdsShutterstockImageByIDStore').addLegacyCallback_DONT_USE_IN_NEW_CODE(this.getStockImageID(),function(n){if(n.hasError()){m&&m(n.getError());}else if(n.hasValue()){this.$AdsImageLegacy11=n.getValue().get('preview_url');l&&l(this);}}.bind(this));};k.prototype.fetchFullSizeDimensions=function(l,m){this.isStockImage()||h(0);if(this.getFullSizeUrl()){this.$AdsImageLegacy21(l);}else this.fetchStockImageDetails(this.$AdsImageLegacy21.bind(this,l),m);};k.prototype.$AdsImageLegacy21=function(l){if(this.hasFullSizeDimensions()){setTimeout(l,0);}else i.get(this.getFullSizeUrl(),function(m,n){this.$AdsImageLegacy12=m;this.$AdsImageLegacy10=n;l&&l();},this);};k.prototype.hasFullSizeDimensions=function(){return !!(this.getFullSizeWidth()&&this.getFullSizeHeight());};k.prototype.getAdAccountHash=function(){return this.$AdsImageLegacy2;};k.prototype.equals=function(l){return this.getUniqueIdentifier()===l.getUniqueIdentifier();};k.prototype.hasKey=function(){return this.$AdsImageLegacy4!==null&&this.$AdsImageLegacy4!==undefined;};k.prototype.getUniqueIdentifier=function(){if(this.isStockImage()){return this.getStockImageID();}else if(this.hasKey())return this.$AdsImageLegacy4;return this.getHashOrUrl();};k.prototype.getHashOrUrl=function(){return this.getAdAccountHash()||this.getUrl();};k.prototype.isStockImage=function(){return !!this.getStockImageID();};k.prototype.getStockImageID=function(){return this.$AdsImageLegacy5;};k.prototype.getImageType=function(){return this.$AdsImageLegacy3;};k.prototype.getThumbnailUrl=function(){return this.$AdsImageLegacy6;};k.prototype.getThumbnailHeight=function(){return this.$AdsImageLegacy16;};k.prototype.getThumbnailWidth=function(){return this.$AdsImageLegacy17;};k.prototype.getHighResThumbnailUrl=function(){return this.$AdsImageLegacy7;};k.prototype.getHighResThumbnailHeight=function(){return this.$AdsImageLegacy8;};k.prototype.getHighResThumbnailWidth=function(){return this.$AdsImageLegacy9;};k.prototype.getID=function(){return this.id;};k.prototype.getBusinessTags=function(){return this.business_object_tags;};k.prototype.getCreatedTime=function(){return this.created_time;};k.prototype.$AdsImageLegacy19=function(l,m){this.width=l;this.height=m;};k.prototype.$AdsImageLegacy20=function(l,m){this.$AdsImageLegacy17=l;this.$AdsImageLegacy16=m;};f.exports=k;}),null);
__d('AdsImageSecondaryActions',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({X:null});f.exports=h;}),null);
__d('AdsEditInlinePostWarning.react',['BUIAdoptionXUINoticeSmall.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){if(!this.props.message)return null;return c('React').createElement('div',{className:this.props.className},c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{type:'information'},this.props.message));};function k(){h.apply(this,arguments);}k.propTypes={className:j.string,message:j.node};f.exports=k;}),null);
__d('AdsImageActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={BATCH_LOADED:'',BATCH_LOAD_ERROR:'',IMAGE_COLLECTION_ADD_TO_FRONT:'',IMAGE_COLLECTION_ADD_TO_FRONT_AND_MAYBE_SELECT:'',IMAGE_COLLECTION_INVALIDATED:'',IMAGE_COLLECTION_SET_SELECTED:'',IMAGES_DELETE:'',IMAGES_END_REACHED:'',IMAGES_INVALIDATED:'',IMAGES_SEARCH:'',IMAGES_SORT:'',LIST_LOADED:'',LOAD_DIMENSION_ERROR:'',LOAD_DIMENSION_SUCCESS:'',LOAD_IMAGES_ERROR:'',LOAD_IMAGES_SUCCESS:'',LOAD_NEXT_PAGE:''},i=c('keyMirrorRecursive')(h,'AdsImageAction');f.exports=i;}),null);
__d('AdsImageBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageBatchLoadError',actionType:'AdsImageAction.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsImageBatchLoadErrorDataAction',['AdsDataActionCreator','AdsImageBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageBatchLoaded',actionType:'AdsImageAction.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsImageBatchLoadedDataAction',['AdsDataActionCreator','AdsImageBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImageCollectionAddToFrontAndMaybeSelectDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImageCollectionAddToFrontAndMaybeSelect',actionType:'AdsImageAction.IMAGE_COLLECTION_ADD_TO_FRONT_AND_MAYBE_SELECT'};f.exports=h;}),null);
__d('AdsImageImageCollectionAddToFrontAndMaybeSelectDataAction',['AdsDataActionCreator','AdsImageImageCollectionAddToFrontAndMaybeSelectDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImageCollectionAddToFrontAndMaybeSelectDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImageCollectionAddToFrontDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImageCollectionAddToFront',actionType:'AdsImageAction.IMAGE_COLLECTION_ADD_TO_FRONT'};f.exports=h;}),null);
__d('AdsImageImageCollectionAddToFrontDataAction',['AdsDataActionCreator','AdsImageImageCollectionAddToFrontDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImageCollectionAddToFrontDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImageCollectionInvalidatedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImageCollectionInvalidated',actionType:'AdsImageAction.IMAGE_COLLECTION_INVALIDATED'};f.exports=h;}),null);
__d('AdsImageImageCollectionInvalidatedDataAction',['AdsDataActionCreator','AdsImageImageCollectionInvalidatedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImageCollectionInvalidatedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImageCollectionSetSelectedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImageCollectionSetSelected',actionType:'AdsImageAction.IMAGE_COLLECTION_SET_SELECTED'};f.exports=h;}),null);
__d('AdsImageImageCollectionSetSelectedDataAction',['AdsDataActionCreator','AdsImageImageCollectionSetSelectedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImageCollectionSetSelectedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImagesDeleteDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImagesDelete',actionType:'AdsImageAction.IMAGES_DELETE'};f.exports=h;}),null);
__d('AdsImageImagesDeleteDataAction',['AdsDataActionCreator','AdsImageImagesDeleteDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImagesDeleteDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImagesEndReachedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImagesEndReached',actionType:'AdsImageAction.IMAGES_END_REACHED'};f.exports=h;}),null);
__d('AdsImageImagesEndReachedDataAction',['AdsDataActionCreator','AdsImageImagesEndReachedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImagesEndReachedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImagesInvalidatedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImagesInvalidated',actionType:'AdsImageAction.IMAGES_INVALIDATED'};f.exports=h;}),null);
__d('AdsImageImagesInvalidatedDataAction',['AdsDataActionCreator','AdsImageImagesInvalidatedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImagesInvalidatedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImagesSearchDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImagesSearch',actionType:'AdsImageAction.IMAGES_SEARCH'};f.exports=h;}),null);
__d('AdsImageImagesSearchDataAction',['AdsDataActionCreator','AdsImageImagesSearchDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImagesSearchDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageImagesSortDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageImagesSort',actionType:'AdsImageAction.IMAGES_SORT'};f.exports=h;}),null);
__d('AdsImageImagesSortDataAction',['AdsDataActionCreator','AdsImageImagesSortDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageImagesSortDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageListLoaded',actionType:'AdsImageAction.LIST_LOADED'};f.exports=h;}),null);
__d('AdsImageListLoadedDataAction',['AdsDataActionCreator','AdsImageListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageListLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageLoadImagesErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageLoadImagesError',actionType:'AdsImageAction.LOAD_IMAGES_ERROR'};f.exports=h;}),null);
__d('AdsImageLoadImagesErrorDataAction',['AdsDataActionCreator','AdsImageLoadImagesErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageLoadImagesErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageLoadNextPageDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'imageLoadNextPage',actionType:'AdsImageAction.LOAD_NEXT_PAGE'};f.exports=h;}),null);
__d('AdsImageLoadNextPageDataAction',['AdsDataActionCreator','AdsImageLoadNextPageDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsImageLoadNextPageDataActionPlugin'));f.exports=h;}),null);
__d('AdsImageActions',['AdsDispatcher','AdsImageActionType','AdsImageBatchLoadedDataAction','AdsImageBatchLoadErrorDataAction','AdsImageImageCollectionAddToFrontAndMaybeSelectDataAction','AdsImageImageCollectionAddToFrontDataAction','AdsImageImageCollectionInvalidatedDataAction','AdsImageImageCollectionSetSelectedDataAction','AdsImageImagesDeleteDataAction','AdsImageImagesEndReachedDataAction','AdsImageImagesInvalidatedDataAction','AdsImageImagesSearchDataAction','AdsImageImagesSortDataAction','AdsImageListLoadedDataAction','AdsImageLoadImagesErrorDataAction','AdsImageLoadNextPageDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={loadNextPage:function i(j){c('AdsImageLoadNextPageDataAction').dispatch({accountID:j});},imagesLoaded:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,images:k,loadNextPage:l,type:c('AdsImageActionType').LOAD_IMAGES_SUCCESS});},imagesLoadError:function i(j){c('AdsImageLoadImagesErrorDataAction').dispatch({error:j});},dimensionLoaded:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({height:l,type:c('AdsImageActionType').LOAD_DIMENSION_SUCCESS,url:j,width:k});},dimensionLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsImageActionType').LOAD_DIMENSION_ERROR,url:j});},imagesBatchLoaded:function i(j){c('AdsImageBatchLoadedDataAction').dispatch({images:j});},imagesBatchLoadError:function i(j){c('AdsImageBatchLoadErrorDataAction').dispatch({errors:j});},imagesEndReached:function i(j){c('AdsImageImagesEndReachedDataAction').dispatch({imageListRecord:j});},imagesInvalidated:function i(){c('AdsImageImagesInvalidatedDataAction').dispatch({});},imageListLoaded:function i(j,k,l){c('AdsImageListLoadedDataAction').dispatch({images:k,imageListRecord:j,loadNextPage:l});},imageCollectionInvalidated:function i(){c('AdsImageImageCollectionInvalidatedDataAction').dispatch({});},sortImages:function i(j){c('AdsImageImagesSortDataAction').dispatch({sortBy:j});},deleteImages:function i(j,k){c('AdsImageImagesDeleteDataAction').dispatch({imageList:k,imageListRecord:j});},searchImages:function i(j){c('AdsImageImagesSearchDataAction').dispatch({query:j});},addImagesToFrontOfCollection:function i(j,k){c('AdsImageImageCollectionAddToFrontDataAction').dispatch({accountID:j,images:k});},setSelectedImages:function i(j,k){c('AdsImageImageCollectionSetSelectedDataAction').dispatch({accountID:j,images:k});},addImagesToFrontOfCollectionAndMaybeSelect:function i(j,k){c('AdsImageImageCollectionAddToFrontAndMaybeSelectDataAction').dispatch({accountID:j,images:k});}};f.exports=h;}),null);
__d('AdsImageDataLoader',['Promise','AdsAPIAdAccountFields','AdsAPIImageFields','AdsGraphAPI','getDOMImageSize'],(function a(b,c,d,e,f,g){'use strict';var h=[c('AdsAPIImageFields').HASH,c('AdsAPIImageFields').HEIGHT,c('AdsAPIImageFields').WIDTH,c('AdsAPIImageFields').URL,c('AdsAPIImageFields').URL_128,c('AdsAPIImageFields').URL_256,c('AdsAPIImageFields').URL_256_HEIGHT,c('AdsAPIImageFields').URL_256_WIDTH];function i(l,m){var n={fields:h,limit:50};if(m&&m.length)n.hashes=m;return c('AdsGraphAPI').get(f.id).adaccount(l).edge(c('AdsAPIAdAccountFields').ADIMAGES).get(n);}function j(l){return new (c('Promise'))(function(m,n){var o=function p(q,r,s){var t={data:{height:r,url:s,width:q}};if(q&&r){m(t);}else n(t);};c('getDOMImageSize')(l,o);});}var k={loadImageDimensionsForURL:j,loadImagesForAccountID:i};f.exports=k;}),null);
__d('AdsImageDataDispatcher',['AdsImageActions','AdsImageDataLoader'],(function a(b,c,d,e,f,g){'use strict';h.prototype.loadAllImagesForAccountID=function(j,k){var l=function m(n){c('AdsImageActions').imagesLoaded(j,n.data);if(typeof n.next==='function')n.next().done(m,c('AdsImageActions').imagesLoadError);};c('AdsImageDataLoader').loadImagesForAccountID(j,k).done(l,c('AdsImageActions').imagesLoadError);};h.prototype.loadPagedImagesForAccountID=function(j,k){var l=function m(n){var o=null;if(typeof n.next==='function')o=function p(){n.next().done(m,c('AdsImageActions').imagesLoadError);};c('AdsImageActions').imagesLoaded(j,n.data,o);};c('AdsImageDataLoader').loadImagesForAccountID(j,k).done(l,c('AdsImageActions').imagesLoadError);};h.prototype.loadImageDimensionsForURL=function(j){var k=function l(m){var n=m.data;c('AdsImageActions').dimensionLoaded(n.url,n.width,n.height);};c('AdsImageDataLoader').loadImageDimensionsForURL(j).done(k,c('AdsImageActions').dimensionLoadError.bind(null,j));};function h(){}var i=new h();f.exports=i;}),null);
__d('AdsImageDataManagerFields',['AdsAPIImageFields'],(function a(b,c,d,e,f,g){'use strict';var h=[c('AdsAPIImageFields').CREATED_TIME,c('AdsAPIImageFields').CREATIVES,c('AdsAPIImageFields').HASH,c('AdsAPIImageFields').HEIGHT,c('AdsAPIImageFields').NAME,c('AdsAPIImageFields').ORIGINAL_HEIGHT,c('AdsAPIImageFields').ORIGINAL_WIDTH,c('AdsAPIImageFields').PERMALINK_URL,c('AdsAPIImageFields').STATUS,c('AdsAPIImageFields').UPDATED_TIME,c('AdsAPIImageFields').URL,c('AdsAPIImageFields').URL_128,c('AdsAPIImageFields').WIDTH,c('AdsAPIImageFields').URL_256,c('AdsAPIImageFields').URL_256_HEIGHT,c('AdsAPIImageFields').URL_256_WIDTH,c('AdsAPIImageFields').IS_ASSOCIATED_CREATIVES_IN_ADGROUPS];f.exports=h;}),null);
__d('AdsImageDataManager',['fbt','AdsAPIAdAccountFields','AdsBaseDataManager','AdsGraphAPI','AdsImageActions','AdsImageDataManagerFields'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsBaseDataManager'));j=i&&i.prototype;k.prototype.loadAllFor=function(l,m){c('AdsGraphAPI').get(f.id).adaccount(l).edge(c('AdsAPIAdAccountFields').ADIMAGES).get({date_format:'U',fields:c('AdsImageDataManagerFields'),hashes:m}).done(function(n){return this.__processResponse(n,m,function(o){return o.hash;},function(o){return new Error(h._("Unable to load image hash \"{image hash}\", it may be invalid.",[h.param('image hash',o)]));},true);}.bind(this),function(n){m.forEach(function(o){this.__handleError(['load'],o,null,n);}.bind(this));}.bind(this));};k.prototype.loadOneFor=function(l,m){this.loadAllFor(l,[m]);};k.prototype.__onBatchLoaded=function(l){c('AdsImageActions').imagesBatchLoaded(l);};k.prototype.__onBatchLoadError=function(l){c('AdsImageActions').imagesBatchLoadError(l);};function k(){i.apply(this,arguments);}f.exports=new k();}),null);
__d('AdsImageStore',['AdsBaseDataStore','AdsDataActionTypes','AdsImageActionType','AdsImageDataDispatcher','AdsImageDataManager','AdsLoadState_LEGACY','Map','curry','deepFreezeValue'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[];c('deepFreezeValue')(j);var k={};c('deepFreezeValue')(k);var l={};h=babelHelpers.inherits(m,c('AdsBaseDataStore'));i=h&&h.prototype;function m(){i.constructor.call(this);this.$AdsImageStore1={};this.$AdsImageStore2=new (c('Map'))();}m.prototype.getDataManager=function(){return c('AdsImageDataManager');};m.prototype.__onDispatch=function(o){var p=o.action;switch(p.actionType){case c('AdsDataActionTypes').imageBatchLoaded:this.__handleData(p.images,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').imageBatchLoadError:this.__handleData(p.errors,c('AdsLoadState_LEGACY').ERROR);break;case c('AdsImageActionType').LOAD_IMAGES_SUCCESS:this.$AdsImageStore3(p.accountID,p.images);this.$AdsImageStore2.set(p.accountID,{loadNextPage:p.loadNextPage,isLoadingNextPage:false});this.__emitChange();break;case c('AdsImageActionType').LOAD_DIMENSION_SUCCESS:var q={width:p.width,height:p.height};c('deepFreezeValue')(q);l[p.url]=q;this.__emitChange();break;case c('AdsImageActionType').LOAD_DIMENSION_ERROR:delete l[p.url];this.__emitChange();break;case c('AdsDataActionTypes').imageLoadNextPage:if(this.$AdsImageStore4(p.accountID))this.__emitChange();break;case c('AdsDataActionTypes').imageListLoaded:var r=p.images,s=new (c('Map'))();r.forEach(function(t){return s.set(t.hash,t);});this.__handleData(s,c('AdsLoadState_LEGACY').LOADED);break;default:return;}};m.prototype.getOneFor=function(o,p){return this.getAllFor(o,[p]).get(p);};m.prototype.getAllFor=function(o,p){var q=this.__updateLoading(p);if(q.length>0)c('AdsImageDataManager').loadAllFor(o,q);return this.getAllCached(p);};m.prototype.getImages_DEPRECATED=function(o){var p=this.$AdsImageStore1[o];if(p===k)return j;if(p)return p.list;this.$AdsImageStore1[o]=k;c('AdsImageDataDispatcher').loadPagedImagesForAccountID(o);return j;};m.prototype.getImageByHash_DEPRECATED=function(o,p){var q=this.$AdsImageStore1[o];if(q===k)return null;if(!q){this.getImages_DEPRECATED(o);return null;}var r=q.map[p];if(r===k)return null;if(typeof r==='number')return q.list[r];q.map[p]=k;c('AdsImageDataDispatcher').loadAllImagesForAccountID(o,[p]);return null;};m.prototype.getImageDimensionsByURL=function(o){var p=l[o];if(p)return p===k?null:p;l[o]=k;c('AdsImageDataDispatcher').loadImageDimensionsForURL(o);return null;};m.prototype.$AdsImageStore3=function(o,p){var q=this.$AdsImageStore1[o];if(!(q&&q!==k))q={list:[],map:{}};p.forEach(c('curry')(this.$AdsImageStore5,q.list,q.map));this.$AdsImageStore1[o]=q;};m.prototype.$AdsImageStore5=function(o,p,q){if(q.url&&q.width&&q.height){var r={width:q.width,height:q.height};c('deepFreezeValue')(r);l[q.url]=r;}var s=n(q),t=p[s];if(typeof t==='number'){o[t]=q;}else{o.push(q);t=o.length-1;p[s]=t;}};m.prototype.$AdsImageStore4=function(o){var p=this.$AdsImageStore2.get(o);if(!p)return false;if(!p.isLoadingNextPage&&p.loadNextPage){p.loadNextPage();p.isLoadingNextPage=true;return true;}return false;};m.prototype.isFetchingNextPage=function(o){var p=this.$AdsImageStore2.get(o);if(!p)return false;return p.isLoadingNextPage;};m.prototype.hasCursorForNextPage=function(o){var p=this.$AdsImageStore2.get(o);if(!p)return false;return !!p.loadNextPage;};m.prototype.getImageDataFromHash=function(o,p){var q='',r=p?this.getImageByHash_DEPRECATED(o,p):null;if(r)q=r.url||r.url_128||q;return {dimensions:q?this.getImageDimensionsByURL(q):null,url:q};};function n(o){if(o.stockImageID)return o.stockImageID;return o.hash||o.url;}f.exports=new m();}),null);
__d('AdsMediaLibraryExpandedAsset.react',['cx','Image.react','Keys','React','ReactDOM'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=24;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaLibraryExpandedAsset1=function(s){if(s.keyCode===c('Keys').ESC)this.props.onClickClose();}.bind(this),this.$AdsMediaLibraryExpandedAsset2=function(s){this.props.onClickClose();s.stopPropagation();}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';c('ReactDOM').findDOMNode(this.refs.expandedAssetView).focus();};m.prototype.render=function(){'use strict';var n=this.props.width,o=this.props.height,p={},q=window.innerHeight,r=window.innerWidth;if(n>r||o>q){if(n/r>o/q){n=r;o=this.props.height*(r/this.props.width);p.width=n;}else{o=q;n=this.props.width*(q/this.props.height);p.height=o;}}else p.width=this.props.width;var s=-Math.floor(n/2),t=this.props.topBarHeight||0,u=-Math.floor(o/2)+t+l,v=c('React').createElement('div',{className:"_4-lr",style:{marginLeft:s,marginTop:u}},c('React').createElement(c('Image.react'),{alt:this.props.source,className:"_4vnf",src:this.props.source,style:p})),w=c('React').createElement('div',{className:"_1zn8",style:{marginLeft:-(s+15),marginTop:u-20}});return c('React').createElement('div',{className:"_1zn6",ref:'expandedAssetView',role:'button',tabIndex:0,onClick:this.$AdsMediaLibraryExpandedAsset2,onKeyDown:this.$AdsMediaLibraryExpandedAsset1},c('React').createElement('div',{className:"_4-ls"}),v,w);};m.propTypes={height:k.number.isRequired,onClickClose:k.func.isRequired,source:k.string.isRequired,topBarHeight:k.number,width:k.number.isRequired};f.exports=m;}),null);
__d('AdsInstagramFields',['errorCode','Set'],(function a(b,c,d,e,f,g,h){'use strict';var i={INSTAGRAM_ACCOUNT_ERROR_KEYS:new (c('Set'))([1815238,1815207,1772103]),INSTAGRAM_LEAD_FORM_ERROR_KEYS:new (c('Set'))([1815482,1815458,1815463]),INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS:new (c('Set'))([2016004,2016005,2016007,2016006,1772069,1772077,1772073,1772130]),INSTAGRAM_SPECIFIC_PAGE_POST_ERROR_KEYS:new (c('Set'))([1815390]),INSTAGRAM_VIDEO_ERROR_KEYS:new (c('Set'))([2016008,1772074,1772076,1772130,1772048,1772049,1772122,1772095,1772063])};f.exports=i;}),null);
__d('AdsConnectionObjectBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectBatchLoadError',actionType:'CONNECTION_OBJECT.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsConnectionObjectBatchLoadErrorDataAction',['AdsConnectionObjectBatchLoadErrorDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectBatchLoaded',actionType:'CONNECTION_OBJECT.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsConnectionObjectBatchLoadedDataAction',['AdsConnectionObjectBatchLoadedDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectInputStringCompleteDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectInputStringComplete',actionType:'CONNECTION_OBJECT.INPUT_STRING_COMPLETE'};f.exports=h;}),null);
__d('AdsConnectionObjectInputStringCompleteDataAction',['AdsConnectionObjectInputStringCompleteDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectInputStringCompleteDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectInputStringUpdateDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectInputStringUpdate',actionType:'CONNECTION_OBJECT.INPUT_STRING_UPDATE'};f.exports=h;}),null);
__d('AdsConnectionObjectInputStringUpdateDataAction',['AdsConnectionObjectInputStringUpdateDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectInputStringUpdateDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectListBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectListBatchLoadError',actionType:'CONNECTION_OBJECT.LIST.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsConnectionObjectListBatchLoadErrorDataAction',['AdsConnectionObjectListBatchLoadErrorDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectListBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectListBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectListBatchLoaded',actionType:'CONNECTION_OBJECT.LIST.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsConnectionObjectListBatchLoadedDataAction',['AdsConnectionObjectListBatchLoadedDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectListBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectListPartialLoad',actionType:'CONNECTION_OBJECT.LIST.PARTIAL_LOAD'};f.exports=h;}),null);
__d('AdsConnectionObjectListPartialLoadDataAction',['AdsConnectionObjectListPartialLoadDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectListPartialLoadDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectShowDialogDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'connectionObjectShowDialog',actionType:'CONNECTION_OBJECT.SHOW_DIALOG'};f.exports=h;}),null);
__d('AdsConnectionObjectShowDialogDataAction',['AdsConnectionObjectShowDialogDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsConnectionObjectShowDialogDataActionPlugin'));f.exports=h;}),null);
__d('AdsConnectionObjectActions',['AdsConnectionObjectBatchLoadedDataAction','AdsConnectionObjectBatchLoadErrorDataAction','AdsConnectionObjectInputStringCompleteDataAction','AdsConnectionObjectInputStringUpdateDataAction','AdsConnectionObjectListBatchLoadedDataAction','AdsConnectionObjectListBatchLoadErrorDataAction','AdsConnectionObjectListPartialLoadDataAction','AdsConnectionObjectShowDialogDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={connectionObjectBatchLoaded:function i(j){c('AdsConnectionObjectBatchLoadedDataAction').dispatch({connectionObjects:j});},connectionObjectBatchLoadError:function i(j){c('AdsConnectionObjectBatchLoadErrorDataAction').dispatch({errors:j});},connectionObjectInputStringUpdate:function i(j,k){c('AdsConnectionObjectInputStringUpdateDataAction').dispatch({inputString:j,connectionObjectIDs:k});},connectionObjectInputStringComplete:function i(){c('AdsConnectionObjectInputStringCompleteDataAction').dispatch({});},connectionObjectListPartialLoad:function i(j,k){c('AdsConnectionObjectListPartialLoadDataAction').dispatch({accountID:j,connectionObjects:k});},connectionObjectListLoaded:function i(j,k){c('AdsConnectionObjectListBatchLoadedDataAction').dispatch({accountID:j,connectionObjects:k});},connectionObjectListLoadError:function i(j){c('AdsConnectionObjectListBatchLoadErrorDataAction').dispatch({accountID:j});},connectionObjectShowDialog:function i(j){c('AdsConnectionObjectShowDialogDataAction').dispatch({isDialogShown:j});}};f.exports=h;}),null);
__d('AdsConnectionObjectDataManager',['AdsAPIAdAccountFields','AdsBaseDataManager','AdsConnectionObjectActions','AdsGraphAPI','GraphAPIPaging','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataManager'));i=h&&h.prototype;j.prototype.loadAllFor=function(k,l){if(l.length===0)return;c('AdsGraphAPI').get(f.id).adaccount(k).edge(c('AdsAPIAdAccountFields').CONNECTIONOBJECTS).get({extra_fbids:l.join(','),extra_only:true}).then(c('GraphAPIPaging').eachPage(function(m){return this.$AdsConnectionObjectDataManager1(m.data);}.bind(this))).done(function(m){return this.__processResponse(m,l,function(n){return n.id;},function(n){return this.__getObjectError(n,null);}.bind(this),true);}.bind(this),function(m){return l.forEach(function(n){return this.__handleError(['load'],n,null,m);}.bind(this));}.bind(this));};j.prototype.loadFor=function(k,l){this.loadAllFor(k,[l]);};j.prototype.$AdsConnectionObjectDataManager1=function(k){var l=new (c('Map'))();k.forEach(function(m){return l.set(m.id,m);});c('AdsConnectionObjectActions').connectionObjectBatchLoaded(l);};j.prototype.__onBatchLoaded=function(k){c('AdsConnectionObjectActions').connectionObjectBatchLoaded(k);};j.prototype.__onBatchLoadError=function(k){c('AdsConnectionObjectActions').connectionObjectBatchLoadError(k);};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AdsBaseConnectionObjectStore',['invariant','AdsBaseDataStore','AdsConnectionObjectDataManager','AdsDataActionTypes','AdsLoadState_LEGACY','Map','abstractMethod'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsBaseDataStore'));j=i&&i.prototype;k.prototype.getDataManager=function(){return c('AdsConnectionObjectDataManager');};k.prototype.get=function(l){h(0);};k.prototype.getAll=function(l){h(0);};k.prototype.getFor=function(l,m){return this.getAllFor(l,[m]).get(m);};k.prototype.getAllFor=function(l,m){return this.__getAllConnectionObjectsFor(l,m);};k.prototype.getAllCachedFor=function(l,m){return this.getAllCached(m);};k.prototype.__getAllConnectionObjectsFor=function(l,m){var n=this.__updateLoading(m);if(n.length>0)c('AdsConnectionObjectDataManager').loadAllFor(l,n);return this.getAllCached(m);};k.prototype.__onDispatch=function(l){var m=l.action;switch(m.type){case c('AdsDataActionTypes').connectionObjectBatchLoaded:this.__handleLoadedData(m.connectionObjects);break;case c('AdsDataActionTypes').connectionObjectBatchLoadError:this.__handleData(m.errors,c('AdsLoadState_LEGACY').ERROR);break;}};k.prototype.__computeStorageKey=function(l,m){return l+'_'+m;};k.prototype.__handleLoadedData=function(l){var m=new (c('Map'))(),n=new (c('Map'))();l.forEach(function(o,p){if(this.__filterConnectionObject(o)){m.set(p,o);}else n.set(p,o);}.bind(this));this.__handleData(m,c('AdsLoadState_LEGACY').LOADED);this.__handleData(n,c('AdsLoadState_LEGACY').ERROR);};k.prototype.__filterConnectionObject=function(l){return c('abstractMethod')('AdsBaseConnectionObjectStore','__filterConnectionObject');};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AdsAPIConnectionObjectPaths',['AdsAPIConnectionObjectFields','generatePaths'],(function a(b,c,d,e,f,g){'use strict';var h=[{pathKeys:[],expandsTo:c('AdsAPIConnectionObjectFields')}],i=c('generatePaths')(h);f.exports=i;}),null);
__d('AdsConnectionObjectUtils',['fbt','AdsAPIConnectionObjectPaths','AdsDestinationTypes','ApiPagePaths','ads-app-platforms','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ads-app-platforms').APP_PLATFORM,j={isPage:function k(l){var m=c('getByPath')(l,c('AdsAPIConnectionObjectPaths').OBJECT_TYPE);return m===c('AdsDestinationTypes').PAGE||m===c('AdsDestinationTypes').PLACE||m===c('AdsDestinationTypes').EXTERNAL_WEB_PAGE||m===c('AdsDestinationTypes').PAGE_AND_PLACE;},isApp:function k(l){return c('getByPath')(l,c('AdsAPIConnectionObjectPaths').OBJECT_TYPE)===c('AdsDestinationTypes').APP;},isEvent:function k(l){return c('getByPath')(l,c('AdsAPIConnectionObjectPaths').OBJECT_TYPE)===c('AdsDestinationTypes').EVENT;},isViewerEventAdmin:function k(l){return c('getByPath')(l,c('AdsAPIConnectionObjectPaths').EVENT_IS_VIEWER_ADMIN,false);},getTabList:function k(l,m,n){var o={};for(var p in m)if(Object.prototype.hasOwnProperty.call(m,p)){var q=p.match(/\?sk=(\w+)/);if(!q||n.indexOf(q[1])<0)o[p]=m[p];}var r=Object.keys(o).map(function(s){return {text:o[s],value:s};});r.unshift({text:h._("Default"),value:l});return r;},pageToConnectionObject:function k(l){return {id:c('getByPath')(l,c('ApiPagePaths').ID),name:c('getByPath')(l,c('ApiPagePaths').NAME),picture:c('getByPath')(l,c('ApiPagePaths').PICTURE.DATA.URL),url:c('getByPath')(l,c('ApiPagePaths').LINK),type:c('AdsDestinationTypes').PAGE};},supportsContextualAppAds:function k(l){var m=c('getByPath')(l,c('AdsAPIConnectionObjectPaths').TYPE);if(m!==c('AdsDestinationTypes').APP)return false;var n=c('getByPath')(l,c('AdsAPIConnectionObjectPaths').SUPPORTED_PLATFORMS)||[];return n.some(function(o){return o!==i.WEB&&o!==i.CANVAS;});}};f.exports=j;}),null);
__d('AdsPromotableApplicationListBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotableApplicationListBatchLoadError',actionType:'PROMOTABLE_APPLICATION.LIST.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsPromotableApplicationListBatchLoadErrorDataAction',['AdsDataActionCreator','AdsPromotableApplicationListBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotableApplicationListBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotableApplicationListBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotableApplicationListBatchLoaded',actionType:'PROMOTABLE_APPLICATION.LIST.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsPromotableApplicationListBatchLoadedDataAction',['AdsDataActionCreator','AdsPromotableApplicationListBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotableApplicationListBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotableApplicationListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotableApplicationListPartialLoad',actionType:'PROMOTABLE_APPLICATION.LIST.PARTIAL_LOAD'};f.exports=h;}),null);
__d('AdsPromotableApplicationListPartialLoadDataAction',['AdsDataActionCreator','AdsPromotableApplicationListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotableApplicationListPartialLoadDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotableApplicationLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotableApplicationLoadError',actionType:'PROMOTABLE_APPLICATION.LOAD_ERROR'};f.exports=h;}),null);
__d('AdsPromotableApplicationLoadErrorDataAction',['AdsDataActionCreator','AdsPromotableApplicationLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotableApplicationLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotableApplicationLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotableApplicationLoaded',actionType:'PROMOTABLE_APPLICATION.LOADED'};f.exports=h;}),null);
__d('AdsPromotableApplicationLoadedDataAction',['AdsDataActionCreator','AdsPromotableApplicationLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotableApplicationLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotableApplicationActions',['AdsPromotableApplicationListBatchLoadedDataAction','AdsPromotableApplicationListBatchLoadErrorDataAction','AdsPromotableApplicationListPartialLoadDataAction','AdsPromotableApplicationLoadedDataAction','AdsPromotableApplicationLoadErrorDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={partialLoad:function i(j,k){c('AdsPromotableApplicationListPartialLoadDataAction').dispatch({accountID:j,promotableApplications:k});},listLoaded:function i(j,k){c('AdsPromotableApplicationListBatchLoadedDataAction').dispatch({accountID:j,promotableApplications:k});},listLoadError:function i(j){c('AdsPromotableApplicationListBatchLoadErrorDataAction').dispatch({accountID:j});},objectLoaded:function i(j,k){c('AdsPromotableApplicationLoadedDataAction').dispatch({accountID:j,promotableApplication:k});},objectLoadError:function i(j,k,l){c('AdsPromotableApplicationLoadErrorDataAction').dispatch({accountID:j,id:k,error:l});}};f.exports=h;}),null);
__d('AdsPromotableAppListDataManager',['AdsBaseListDataManager','AdsGraphAPI','AdsPromotableApplicationActions','GraphAdAccountAdvertisableApplicationsEdgeFields','GraphAPIPaging','GraphApplicationFields','GraphEdgeName'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('GraphAdAccountAdvertisableApplicationsEdgeFields').ADVERTISABLE_APP_EVENTS,c('GraphApplicationFields').APP_INSTALL_TRACKED,c('GraphApplicationFields').CATEGORY,c('GraphAdAccountAdvertisableApplicationsEdgeFields').CPA_ACCESS,c('GraphApplicationFields').ICON_URL,c('GraphApplicationFields').ID,c('GraphApplicationFields').IS_FIRST_PARTY_APP,c('GraphApplicationFields').LOGO_URL,c('GraphApplicationFields').NAME,c('GraphApplicationFields').OBJECT_STORE_URLS,c('GraphEdgeName').PICTURE,c('GraphApplicationFields').SUPPORTED_PLATFORMS,c('GraphApplicationFields').WEBSITE_URL];h=babelHelpers.inherits(k,c('AdsBaseListDataManager'));i=h&&h.prototype;k.prototype.loadFor=function(l){c('AdsGraphAPI').get(f.id).adaccount(l).edge(c('GraphEdgeName').ADVERTISABLE_APPLICATIONS).get({fields:j}).then(c('GraphAPIPaging').eachPage(function(m){return c('AdsPromotableApplicationActions').partialLoad(l,m.data);})).done(function(m){return this.__handleSuccess(['load'],l,null,m);}.bind(this),function(m){return this.__handleError(['load'],l,null,m);}.bind(this));};k.prototype.loadIDsFor=function(l,m){m.forEach(function(n){c('AdsGraphAPI').get(f.id).adaccount(l).edge(c('GraphEdgeName').ADVERTISABLE_APPLICATIONS).get({app_id:n,fields:j}).done(function(o){if(!o.data||!o.data[0])return this.__onObjectLoadError(l,n,new Error('App is currently unavailable for viewer'));return this.__onObjectLoaded(l,o.data[0]);}.bind(this),function(o){return this.__onObjectLoadError(l,n,o);}.bind(this));}.bind(this));};k.prototype.__onObjectLoaded=function(l,m){c('AdsPromotableApplicationActions').objectLoaded(l,m);};k.prototype.__onObjectLoadError=function(l,m,n){c('AdsPromotableApplicationActions').objectLoadError(l,m,n);};k.prototype.__onBatchLoaded=function(l){l.forEach(function(m,n){c('AdsPromotableApplicationActions').listLoaded(n,m.data);});};k.prototype.__onBatchLoadError=function(l){l.forEach(function(m,n){c('AdsPromotableApplicationActions').listLoadError(n);});};function k(){h.apply(this,arguments);}f.exports=new k();}),null);
__d('AdsPromotableAppStore',['AdsBaseConnectionObjectStore','AdsConnectionObjectUtils','AdsDataActionTypes','AdsLoadState_LEGACY','AdsPromotableAppListDataManager','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseConnectionObjectStore'));i=h&&h.prototype;function j(){i.constructor.call(this);this.$AdsPromotableAppStoreClass1=new (c('Map'))();}j.prototype.getFor=function(l,m){return this.getAllFor(l,[m]).get(this.__computeStorageKey(l,m));};j.prototype.getAllFor=function(l,m){var n=m.map(function(p){return this.__computeStorageKey(l,p);}.bind(this)),o=[];this.__updateLoading(n).forEach(function(p){o.push(p);});if(o.length>0)if(!this.$AdsPromotableAppStoreClass1.has(l)){this.$AdsPromotableAppStoreClass1.set(l,o);c('AdsPromotableAppListDataManager').loadFor(l);}else c('AdsPromotableAppListDataManager').loadIDsFor(l,o.map(function(p){return p.split('_')[1];}));return i.getAllCached.call(this,n);};j.prototype.getAllCachedFor=function(l,m){return this.getAllCached(m.map(function(n){return this.__computeStorageKey(l,n);}.bind(this)));};j.prototype.__onDispatch=function(l){var m,n=this,o=l.action,p=new (c('Map'))();switch(o.actionType){case c('AdsDataActionTypes').promotableApplicationListBatchLoaded:{var m=function(){var v=o.accountID,w=o.promotableApplications;w.forEach(function(z){var aa=this.__computeStorageKey(v,z.id);p.set(aa,z);}.bind(n));n.__handleData(p,c('AdsLoadState_LEGACY').LOADED);var x=n.$AdsPromotableAppStoreClass1.get(v)||[],y=x.filter(function(z){return !p.has(z);});y.forEach(function(z){return this.__invalidate(z);}.bind(n));n.$AdsPromotableAppStoreClass1.set(v,Array.from(p.keys()));n.getAllFor(v,y.map(function(z){return z.split('_')[1];}));return 'break';}();if(m==='break')break;}case c('AdsDataActionTypes').promotableApplicationLoaded:{var q=o.accountID,r=o.promotableApplication;p.set(this.__computeStorageKey(q,r.id),r);this.__handleData(p,c('AdsLoadState_LEGACY').LOADED);break;}case c('AdsDataActionTypes').promotableApplicationLoadError:{var s=o.accountID,t=o.error,u=o.id;p.set(this.__computeStorageKey(s,u),t);this.__handleData(p,c('AdsLoadState_LEGACY').ERROR);break;}}};j.prototype.__filterConnectionObject=function(l){return c('AdsConnectionObjectUtils').isApp(l);};var k=new j();f.exports=k;}),null);
__d('AdsPromotablePageBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotablePageBatchLoadError',actionType:'PROMOTABLE_PAGE.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsPromotablePageBatchLoadErrorDataAction',['AdsDataActionCreator','AdsPromotablePageBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotablePageBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotablePageBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotablePageBatchLoaded',actionType:'PROMOTABLE_PAGE.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsPromotablePageBatchLoadedDataAction',['AdsDataActionCreator','AdsPromotablePageBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotablePageBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotablePageListBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotablePageListBatchLoadError',actionType:'PROMOTABLE_PAGE.LIST.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsPromotablePageListBatchLoadErrorDataAction',['AdsDataActionCreator','AdsPromotablePageListBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotablePageListBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotablePageListBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotablePageListBatchLoaded',actionType:'PROMOTABLE_PAGE.LIST.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsPromotablePageListBatchLoadedDataAction',['AdsDataActionCreator','AdsPromotablePageListBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotablePageListBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotablePageListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'promotablePageListPartialLoad',actionType:'PROMOTABLE_PAGE.LIST.PARTIAL_LOAD'};f.exports=h;}),null);
__d('AdsPromotablePageListPartialLoadDataAction',['AdsDataActionCreator','AdsPromotablePageListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPromotablePageListPartialLoadDataActionPlugin'));f.exports=h;}),null);
__d('AdsPromotablePageActions',['AdsPromotablePageBatchLoadedDataAction','AdsPromotablePageBatchLoadErrorDataAction','AdsPromotablePageListBatchLoadedDataAction','AdsPromotablePageListBatchLoadErrorDataAction','AdsPromotablePageListPartialLoadDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={batchLoaded:function i(j,k){c('AdsPromotablePageBatchLoadedDataAction').dispatch({accountID:j,promotablePages:k});},batchLoadError:function i(j,k){c('AdsPromotablePageBatchLoadErrorDataAction').dispatch({accountID:j,errors:k});},partialLoad:function i(j,k){c('AdsPromotablePageListPartialLoadDataAction').dispatch({accountID:j,promotablePages:k});},listLoaded:function i(j,k){c('AdsPromotablePageListBatchLoadedDataAction').dispatch({accountID:j,promotablePages:k});},listLoadError:function i(j){c('AdsPromotablePageListBatchLoadErrorDataAction').dispatch({accountID:j});}};f.exports=h;}),null);
__d('AdsPromotablePageDataManager',['AdsBaseDataManager','AdsGraphAPI','AdsPageFields','AdsPromotablePageActions','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(m){var n={};Object.entries(m).forEach(function(o){var p=o[0],q=o[1];if(q.is_published)n[p]=q;});return n;}function k(m,n,o){var p=new (c('Map'))();n.filter(function(q){return m[q]==null;}).forEach(function(q){p.set(q,o||new Error('Object missing'));});return p;}h=babelHelpers.inherits(l,c('AdsBaseDataManager'));i=h&&h.prototype;l.prototype.loadAllFor=function(m,n){c('AdsGraphAPI').get(f.id).objects('promotable_pages',n).get({fields:c('AdsPageFields').forCurrentUser()}).done(function(o){this.__handleSuccess(['load'],m,null,j(o));c('AdsPromotablePageActions').batchLoadError(m,k(o,n));}.bind(this),function(o){return c('AdsPromotablePageActions').batchLoadError(m,k({},n,o));});};l.prototype.loadFor=function(m,n){this.loadAllFor(m,[n]);};l.prototype.__onBatchLoaded=function(m){m.forEach(function(n,o){var p=new (c('Map'))(Object.entries(n));c('AdsPromotablePageActions').batchLoaded(o,p);});};l.prototype.__onBatchLoadError=function(m){c('AdsPromotablePageActions').listLoadError(m);};function l(){h.apply(this,arguments);}f.exports=new l();}),null);
__d('AdsPromotablePageStore',['AdsBaseConnectionObjectStore','AdsConnectionObjectUtils','AdsDataActionTypes','AdsLoadState_LEGACY','AdsPromotablePageDataManager','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseConnectionObjectStore'));i=h&&h.prototype;j.prototype.getFor=function(l,m){return this.getAllFor(l,[m]).get(this.__computeStorageKey(l,m));};j.prototype.getAllFor=function(l,m){var n=[];m.forEach(function(p){n.push(this.__computeStorageKey(l,p));}.bind(this));var o=[];this.__updateLoading(n).forEach(function(p){o.push(p.split('_')[1]);});if(o.length>0)c('AdsPromotablePageDataManager').loadAllFor(l,o);return i.getAllCached.call(this,n);};j.prototype.getAllCachedFor=function(l,m){return this.getAllCached(m.map(function(n){return this.__computeStorageKey(l,n);}.bind(this)));};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.type){case c('AdsDataActionTypes').promotablePageBatchLoaded:case c('AdsDataActionTypes').promotablePageListBatchLoaded:var n=new (c('Map'))();m.promotablePages.forEach(function(p){var q=this.__computeStorageKey(m.accountID,p.id);n.set(q,p);}.bind(this));this.__handleData(n,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').promotablePageBatchLoadError:var o=new (c('Map'))();m.errors.forEach(function(p,q){var r=this.__computeStorageKey(m.accountID,q);o.set(r,p);}.bind(this));this.__handleData(o,c('AdsLoadState_LEGACY').ERROR);break;}};j.prototype.__filterConnectionObject=function(l){return c('AdsConnectionObjectUtils').isPage(l);};function j(){h.apply(this,arguments);}var k=new j();f.exports=k;}),null);
__d('AdsInstagramErrorUtils',['errorCode','fbt','AdImageSpecs','AdsAPIAdgroupPaths','AdsAPIPromotablePostFields','AdsBuyingTypes','AdsError','AdsErrorUtils','AdsInstagramFields','AdsInstagramMediaSpecs','AdsReachFrequencyUtils','AdsValidationConfig','BUIAdoptionXUIText.react','InstagramImageResolutionExperiment','Link.react','Map','PostInstagramEligibility','React','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={getCombinedErrorMessage:function k(l,m){if(!l.length)return null;var n=l.length>1?l.map(function(o){return i._("{bullet} {error message}",[i.param('bullet','\u2022'),i.param('error message',o.message)]);}).join('\n'):l[0].message;return this.getImageErrorsTitle(l,m)+'\n\n'+n;},getCombinedErrorMessageForImageExperiment:function k(l){if(!l.length)return null;var m=l.length>1?l.map(function(o){return i._("{bullet} {error message}",[i.param('bullet','\u2022'),i.param('error message',o.message)]);}).join('\n'):l[0].message,n=void 0;switch(l[0].key){case 2016006:case 1772077:n=i._("{Recommend} Try using an image at least {minimum Instagram ad image width} x {minimum Instagram ad image height} pixels.",[i.param('Recommend',c('React').createElement(c('BUIAdoptionXUIText.react'),{weight:'bold'},i._("Recommend:"))),i.param('minimum Instagram ad image width',c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE.minWarningWidth),i.param('minimum Instagram ad image height',c('AdImageSpecs').INSTAGRAM_STREAM_LANDSCAPE.minWarningHeight)]);}return c('React').createElement(c('BUIAdoptionXUIText.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block'},m),n);},getImageErrorsTitle:function k(l,m,n){if(!l.length)return null;if(c('InstagramImageResolutionExperiment').useHighResolution(n,m))return i._("Your Image's Resolution is Low");if(l.length>1)return i._("This image won't work on Instagram.");switch(l[0].key){case 1772077:case 2016005:return i._("This image is too small for Instagram.");case 1772073:return i._("This image's aspect ratio won't work on Instagram.");case 2016007:return i._("This cropped image is too small for Instagram ads.");case 2016006:return i._("This image won't work on Instagram.");case 1772069:return i._("Image required for Instagram ads.");}return null;},getImageErrorsBody:function k(l){return l.map(function(m){return m.message;});},getImageErrorSuggestionForImageExperiment:function k(l,m){if(!m.length)return null;var n=i._("Try a different image");if(l.changeImage){n=c('React').createElement(c('Link.react'),{onClick:l.changeImage},n);}else if(l.changeImageLinkMaker)n=l.changeImageLinkMaker(n);return i._("{Try a different image} to get better performance.",[i.param('Try a different image',n)]);},getImageErrorSuggestion:function k(l,m,n,o,p){var q=l.cropLinkMaker,r=l.removeImage,s=l.removeInstagramPlacement,t=l.resetCrop,u=l.selectCustomizationImage;if(!m.length)return null;if(c('InstagramImageResolutionExperiment').useHighResolution(p,o))return this.getImageErrorSuggestionForImageExperiment(l,m);if(m.length>1)return this._getDefaultImageErrorSuggestions(n,r,s,u);var v=m[0].key;switch(v){case 1772077:return this._getDefaultImageErrorSuggestions(n,r,s,u);case 1772073:return q?this._getWrongImageRatioErrorSuggestions(n,s,q):this._getWrongImageRatioErrorSuggestionsNoCrop(n,s);case 2016007:return this._getSmallCroppedImageErrorSuggestions(n,s,t);case 2016005:return this._getMPAImageErrorSuggestion(n,r,s,u);}return null;},getCarouselVideoErrorTitle:function k(l,m,n){if(n!==c('AdsError').Level.RECOMMEND)return i._("Instagram doesn't yet support video in carousel format");if(m){return i._("Instagram doesn't yet support video in carousel format. Your carousel ad will still run on Facebook.");}else return i._("Instagram doesn't yet support video in carousel format. Your carousel ads will still run on Facebook.");},getNonLinkCarouselVideoErrorSuggestions:function k(l,m,n,o){var p=void 0;if(n){if(m){p=i._("{=remove Instagram as a placement} for this ad.",[i.param('=remove Instagram as a placement',c('React').createElement(c('Link.react'),{onClick:n},i._("Remove Instagram as a placement")))]);}else p=i._("{=remove Instagram as a placement} for these ads.",[i.param('=remove Instagram as a placement',c('React').createElement(c('Link.react'),{onClick:n},i._("Remove Instagram as a placement")))]);}else p=i._("Use an image in your carousel instead.");return p;},getCarouselVideoErrorSuggestions:function k(l,m,n,o){var p=void 0;if(n){if(m){p=i._("{=remove Instagram as a placement} for this ad, or use an image in your carousel instead.",[i.param('=remove Instagram as a placement',c('React').createElement(c('Link.react'),{onClick:n},i._("Remove Instagram as a placement")))]);}else p=i._("{=remove Instagram as a placement} for these ads, or use an image in your carousel instead.",[i.param('=remove Instagram as a placement',c('React').createElement(c('Link.react'),{onClick:n},i._("Remove Instagram as a placement")))]);}else p=i._("Use an image in your carousel instead.");return p;},getCarouselErrorTitle:function k(l,m,n){return i._("Some media is missing or can't be used for Instagram ads");},getCarouselErrorSuggestions:function k(l,m,n){if(n===c('AdsError').Level.RECOMMEND)return i._("Choose another media if you want to reach people on both Instagram and Facebook.");if(m){return i._("Choose other media for this ad.");}else return i._("Choose other media for these ads.");},_getDefaultImageErrorSuggestions:function k(l,m,n,o){if(l&&n)return i._("{=Remove image} or {=remove Instagram as a placement} for this ad set.",[i.param('=Remove image',o?this._getSelectCustomizationImageLink(o):this._getRemoveImageLink(m)),i.param('=remove Instagram as a placement',this._getRemoveInstagramPlacementLink(n))]);return i._("{=Remove image} for this ad set.",[i.param('=Remove image',o?this._getSelectCustomizationImageLink(o):this._getRemoveImageLink(m))]);},_getWrongImageRatioErrorSuggestions:function k(l,m,n){if(l)return i._("{=Crop the image to a square} or {=remove Instagram as a placement} for this ad set.",[i.param('=Crop the image to a square',this._getCropImageToSquareLink(n)),i.param('=remove Instagram as a placement',this._getRemoveInstagramPlacementLink(m))]);return i._("{=Crop the image to a square} for this ad set.",[i.param('=Crop the image to a square',this._getCropImageToSquareLink(n))]);},_getWrongImageRatioErrorSuggestionsNoCrop:function k(l,m){if(l)return i._("Choose another image or {=remove Instagram as a placement} for this ad set.",[i.param('=remove Instagram as a placement',this._getRemoveInstagramPlacementLink(m))]);return i._("Choose another image for this ad.");},_getSmallCroppedImageErrorSuggestions:function k(l,m,n){if(l)return i._("{=Use the original image} or {=remove Instagram as a placement} for this ad set.",[i.param('=Use the original image',this._getResetCropLink(n)),i.param('=remove Instagram as a placement',this._getRemoveInstagramPlacementLink(m))]);return i._("{=Use the original image} for this ad set.",[i.param('=Use the original image',this._getResetCropLink(n))]);},_getMPAImageErrorSuggestion:function k(l,m,n,o){return this._getDefaultImageErrorSuggestions(l,m,n,o);},_getRemoveInstagramPlacementLink:function k(l){return c('React').createElement(c('Link.react'),{onClick:l},i._("remove Instagram as a placement"));},_getRemoveImageLink:function k(l){return c('React').createElement(c('Link.react'),{onClick:l},i._("Remove image"));},_getSelectCustomizationImageLink:function k(l){return c('React').createElement(c('Link.react'),{onClick:l},i._("Select a different image"));},_getCropImageToSquareLink:function k(l){var m=i._("Crop the image to a square");return l(m);},_getResetCropLink:function k(l){return c('React').createElement(c('Link.react'),{onClick:l},i._("Use the original image"));},getWrongVideoDimensionErrorMessage:function k(l,m){return i._("Videos must be at least {minimum Instagram ad video width} x {minimum Instagram ad video height} pixels.",[i.param('minimum Instagram ad video width',l?l:c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH),i.param('minimum Instagram ad video height',m?m:c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT)]);},getWrongVideoRatioErrorMessage:function k(l,m){if(m&&l&&m===l)return i._("Aspect ratios of videos need to be {Instagram ad video aspect ratio}:1.",[i.param('Instagram ad video aspect ratio',l)]);return i._("Aspect ratios of videos need to be between {maximum Instagram ad video aspect ratio}:1 and {minimum Instagram ad video aspect ratio}:1.",[i.param('maximum Instagram ad video aspect ratio',l?l:c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio),i.param('minimum Instagram ad video aspect ratio',m?m:c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio)]);},getWrongVideoLengthErrorMessage:function k(){return i._("Videos can't be longer than {maximum Instagram ad video duration} seconds.",[i.param('maximum Instagram ad video duration',c('AdsInstagramMediaSpecs').MAX_STREAM_VIDEO_DURATION_IN_SEC)]);},getWrongVideoThumbnailRatioErrorMessage:function k(){return i._("The image must have the same aspect ratio as the video for Instagram.");},getWrongVideoThumbnailDimensionErrorMessage:function k(){return i._("Your thumbnail must be at least {minimum Instagram ad video width} x {miniumum Instagram ad video height} pixels for Instagram.",[i.param('minimum Instagram ad video width',c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH),i.param('miniumum Instagram ad video height',c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT)]);},isInstagramSpecificError:function k(l){return l.key===2016004||l.key===2016005||l.key===2016007||l.key===1772077||l.key===1772073;},getInstagramAccountErrorSpec:function k(l){return c('getByPath')(l,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.INSTAGRAM_ACTOR_ID)||c('getByPath')(l,c('AdsAPIAdgroupPaths').CREATIVE.INSTAGRAM_ACTOR_ID);},getIneligibilityReason:function k(l){switch(l){case c('PostInstagramEligibility').INELIGIBLE_CAPTION_TOO_LONG:var m=i._("This caption is too long. Instagram has a limit of {maximum caption length} characters.",[i.param('maximum caption length',c('AdsValidationConfig').instagramAdsMaxCaptionLength)]);return m;case c('PostInstagramEligibility').INELIGIBLE_MEDIA_SQUARE_DIMENSION:m=i._("Media needs to be at least {minimum width} pixels in width and height for carousel ads on Instagram.",[i.param('minimum width',c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH)]);return m;case c('PostInstagramEligibility').INELIGIBLE_MEDIA_ASPECT_RATIO:m=i._("Media aspect ratios need to be between {minimum Instagram ad video aspect ratio}:1 and {maximum Instagram ad video aspect ratio}:1 on Instagram.",[i.param('minimum Instagram ad video aspect ratio',c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP.minWarningAspectRatio),i.param('maximum Instagram ad video aspect ratio',c('AdImageSpecs').INSTAGRAM_STREAM_NO_CROP.maxWarningAspectRatio)]);return m;case c('PostInstagramEligibility').INELIGIBLE_MEDIA_DIMENSION:m=i._("Media needs to be at least {minimum width} pixels wide and {minimum height} pixels high on Instagram.",[i.param('minimum width',c('AdsInstagramMediaSpecs').MIN_MEDIA_WIDTH),i.param('minimum height',c('AdsInstagramMediaSpecs').MIN_STREAM_MEDIA_HEIGHT)]);return m;case c('PostInstagramEligibility').INELIGIBLE_VIDEO_LENGTH:return i._("Videos can't be longer than {maximum video length} seconds on Instagram.",[i.param('maximum video length',c('AdsInstagramMediaSpecs').MAX_STREAM_VIDEO_DURATION_IN_SEC)]);case c('PostInstagramEligibility').INELIGIBLE_POST_ALBUM_UPLOAD:m=i._("Post contains a photo album with multiple photos. Posts can only contain one photo or video on Instagram.");return m;case c('PostInstagramEligibility').INELIGIBLE_POST_MULTI_PHOTO:m=i._("Post uses multiple photos. Posts can only use one photo or video on Instagram.");return m;case c('PostInstagramEligibility').INELIGIBLE_POST_NO_MEDIA:m=i._("Post uses only text. Post must contain an image or video on Instagram.");return m;default:m=i._("This post can't be used for ads on Instagram.");return m;}},getErrorsForSinglePost:function k(l){var m=[];if(!l[c('AdsAPIPromotablePostFields').IS_INSTAGRAM_ELIGIBLE]){var n=j.getIneligibilityReason(l[c('AdsAPIPromotablePostFields').INSTAGRAM_ELIGIBILITY]).toString();m.push(new (c('AdsError'))(1815390,n,{level:c('AdsError').Level.WARN}));}return m;},getErrorsForAllPosts:function k(l,m,n,o,p){var q=new (c('Map'))();if(l)l.forEach(function(r){q.set(r[c('AdsAPIPromotablePostFields').PROMOTABLE_ID],this.getErrorsForSinglePost(r));}.bind(this));q.forEach(function(r,s){if((n||[]).includes(c('AdsBuyingTypes').RESERVED))return;if(o){q.set(s,r);}else q.set(s,c('AdsErrorUtils').giveRecommendationsForSoftErrorsV2(r,p));});return q;},getAllLeadGenFormErrors:function k(l){return l.filter(function(m){return c('AdsInstagramFields').INSTAGRAM_LEAD_FORM_ERROR_KEYS.has(m.key);});}};f.exports=j;}),null);
__d('AdsMediaPanelImageBoxUtils',['AdsQEStore'],(function a(b,c,d,e,f,g){'use strict';var h=null;function i(){if(h===null){var k=c('AdsQEStore').getForCurrentUser('ads_cf_shutterstock_flyover_enabled').getValueEnforcing();h=k.getParamBool('enabled');}return h;}var j={flyoverPreviewEnabled:i};f.exports=j;}),null);
__d('GradientBox.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l={up:"_344j",left:"_344k",down:"_344l",right:"_344m"},m={white:"_344n",black:"_344o"};i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){'use strict';var o=c('joinClasses')(l[this.props.direction],m[this.props.color]);return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,o)}));};function n(){'use strict';i.apply(this,arguments);}n.propTypes={direction:k.oneOf(['up','down','right','left']),color:k.oneOf(['black','white'])};n.defaultProps={direction:'right',color:'black'};f.exports=n;}),null);
__d('AdsMediaPanelImageBox.react',['cssVar','cx','errorCode','fbt','AdsBuyingTypes','AdsError','AdsErrorUtils','AdsImageLegacy','AdsImageValidation','AdsInstagramErrorUtils','AdsInstagramFields','AdsMediaPanelImageBoxUtils','AdsPageTypes','AdsTestIDs','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','BUIAdoptionXUISpinner.react','ContextualDialog.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','GradientBox.react','InstagramImageResolutionExperiment','Link.react','LoadObject','React','ReactDOM','ReactLayeredComponentMixin_DEPRECATED','debounce','getElementPosition','getViewportDimensions','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l=c('React').PropTypes,m=parseInt("110px",10),n=parseInt("58px",10),o=1000,p=1000,q=n,r=n,s=20,t=c('AdsInstagramFields').INSTAGRAM_SPECIFIC_IMAGE_ERROR_KEYS,u={'default':null,disabled:null,selected:"_5ywk",removable:"_5ywl"},v=c('React').createClass({displayName:'AdsMediaPanelImageBox',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{alt:l.string,buyingTypes:l.arrayOf(l.oneOf(Object.keys(c('AdsBuyingTypes')))),decoration:l.oneOf(Object.keys(u)),disableDimensionInfo:l.bool,image:l.instanceOf(c('AdsImageLegacy')).isRequired,imageResolutionQE:l.instanceOf(c('LoadObject')),imageSpec:l.object,isTooSmall:l.bool,igSpecificImageSpec:l.object,scaleImageFactor:l.number,useMediaPanelRedesign:l.bool,onDecorationIconClick:l.func,onImageClick:l.func,onImageDoubleClick:l.func},getDefaultProps:function w(){return {decoration:'default',isTooSmall:false};},getInitialState:function w(){return {errorLevel:c('AdsError').Level.SUCCESS,imageReady:this.props.image.hasDimensions(),previewShown:false,hovering:false,isValidForFacebook:true};},_isDisabled:function w(){return this.props.decoration==='disabled';},_mayClickImages:function w(){if(this._isDisabled())return false;if(!this.props.isTooSmall||this.state.errorLevel!==c('AdsError').Level.WARN)return true;return this.state.isValidForFacebook;},_getOnImageClick:function w(){return this._mayClickImages()?this.props.onImageClick:null;},_getOnImageDoubleClick:function w(){return this._mayClickImages()?this.props.onImageDoubleClick:null;},_mayShowPreviews:function w(){return !this._isDisabled()&&this.props.image.isStockImage()&&c('AdsMediaPanelImageBoxUtils').flyoverPreviewEnabled();},_getOnImageMouseEnter:function w(){return this._mayShowPreviews()?this._showPreview:null;},_getOnImageMouseLeave:function w(){return this._mayShowPreviews()?this._hidePreview:null;},_showPreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:true});},_hidePreview:function w(){this._resetSchedulePreviewHide();this.setState({previewShown:false});},_onImageDimensionsReady:function w(){if(this.isMounted())this.setState({imageReady:true});},componentWillReceiveProps:function w(x){if(x.image.equals(this.props.image))return;var y=x.image.hasDimensions();this.setState({imageReady:y});if(!y)x.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},componentWillMount:function w(){this._setSchedulePreviewHide(c('debounce')(this._hidePreview,s));if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);if(this.props.imageSpec)this.props.image.resetValidation(this.props.imageSpec.placement);if(this.props.igSpecificImageSpec)this.props.image.resetValidation(this.props.igSpecificImageSpec.placement);},componentWillUnmount:function w(){this._resetSchedulePreviewHide();this._setSchedulePreviewHide(null);},_setSchedulePreviewHide:function w(x){var y=this;y._schedulePreviewHide=x;},_resetSchedulePreviewHide:function w(){var x=this;x._schedulePreviewHide.reset();},_renderDecorationIcon:function w(){var x=this.props.onDecorationIconClick;return c('React').createElement(c('Link.react'),{className:"_40hk",tabIndex:x?null:-1,onClick:x,onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},c('React').createElement('div',{className:"_5ywm"}));},_renderOverlay:function w(){if(!this._isDisabled())return null;return c('React').createElement('div',{className:"_29wz"});},_renderImage:function w(){var x=this.props.image,y=this._calculateImageDimensions(),z=x.calculatedWidth,aa=x.calculatedHeight,ba=x.renderedWidth,ca=x.renderedHeight,da=null,ea=null,fa=null;if(this.props.isTooSmall){da=this._renderErrorIcon();ea=this._renderDimensionInfo();fa=this._renderOverlayGradient();}else if(this.state.hovering){ea=this._renderDimensionInfo();fa=this._renderOverlayGradient();}var ga=x.getThumbnailUrl()||x.getUrl(),ha=ca||aa||y.height,ia=ba||z||y.width;if(this.props.useMediaPanelRedesign)ga=x.getHighResThumbnailUrl()||ga;if(this.props.scaleImageFactor&&this.props.useMediaPanelRedesign){ha*=this.props.scaleImageFactor;ia*=this.props.scaleImageFactor;}return c('React').createElement(c('FBOverlayContainer.react'),{className:"_29w-"},c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',{className:!x.isStockImage()?"_5ywo":''},c('React').createElement(c('BackgroundImage.react'),{alt:this.props.alt,backgroundPosition:'0px',backgroundSize:'cover',height:ha,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,ref:'image',src:ga,style:this._getImageStyle(),width:ia}))),fa,c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement('div',{className:"_20-u"},ea,da)));},_renderOverlayGradient:function w(){if(this.props.disableDimensionInfo)return null;return c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement(c('GradientBox.react'),{className:"_2_4q",color:'black',direction:'up'}));},_renderDimensionInfo:function w(){if(this.props.disableDimensionInfo)return null;var x=this.props.image.isStockImage()?this._calculateFullSizeStockImageDimensions():this._getImageDimensions();return k._("{width} \u00d7 {height}",[k.param('width',x.width),k.param('height',x.height)]);},_renderErrorIcon:function w(){var x=[];if(this.props.imageSpec)x.push(this.props.imageSpec);if(this.props.igSpecificImageSpec)x.push(this.props.igSpecificImageSpec);var y=c('AdsImageValidation').getAdsErrorsForImage(this.props.image,x,this.props.buyingTypes,this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue());if(!y||y.length===0)return null;var z=this.props.imageSpec&&this.props.imageSpec.placement!==c('AdsPageTypes').INSTAGRAM_STREAM&&y.every(function(ba){return ba.key!==1487015;});if(z!==this.state.isValidForFacebook)this.setState({isValidForFacebook:z});var aa=c('AdsErrorUtils').getLevelForErrors(y);if(aa!==this.state.errorLevel)this.setState({errorLevel:aa});y=c('AdsErrorUtils').getAllErrorsAtLevel(y,aa);return c('React').createElement(c('AdsValidationIcon.react'),{className:"_20-v",isError:aa===c('AdsError').Level.WARN,messages:this._getErrorMessages(y,aa),type:aa===c('AdsError').Level.WARN?c('AdsValidationIconType').ERROR_IMAGE:c('AdsValidationIconType').WARNING});},_getErrorMessages:function w(x,y){var z=x.filter(function(ca){return !t.has(ca.key);}).map(function(ca){return ca.message;}),aa=x.filter(function(ca){return t.has(ca.key);}),ba=void 0;if(aa.length>0)if(c('InstagramImageResolutionExperiment').useHighResolution(this.props.imageResolutionQE&&this.props.imageResolutionQE.getValue(),y,this.props.buyingTypes)){ba=c('AdsInstagramErrorUtils').getCombinedErrorMessageForImageExperiment(aa);}else ba=c('AdsInstagramErrorUtils').getCombinedErrorMessage(x.filter(function(ca){return t.has(ca.key);}),y);ba&&z.push(ba);return z;},render:function w(){if(this.props.imageResolutionQE&&this.props.imageResolutionQE.isLoading())return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'});var x="_5ywp"+(this.props.useMediaPanelRedesign?' '+"_40hl":'');return c('React').createElement('div',{className:x},c('React').createElement('div',{className:c('joinClasses')("_1997",u[this.props.decoration],this.props.className),onMouseEnter:function(){return this.setState({hovering:true});}.bind(this),onMouseLeave:function(){return this.setState({hovering:false});}.bind(this)},c('React').createElement(c('Link.react'),{className:"_5ywq",'data-test-decoration':this.props.decoration,'data-testid':c('AdsTestIDs').IMAGE_BOX,tabIndex:this.props.onImageClick?null:-1,onClick:this._getOnImageClick(),onDoubleClick:this._getOnImageDoubleClick(),onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},this._renderImage()),this._renderOverlay(),this._renderDecorationIcon()));},renderLayers:function w(){var x=this.props.image,y=this._mayShowPreviews()&&this.state.previewShown,z=x.getPreviewWidth(),aa=x.getPreviewHeight(),ba=null;if(!y)return {};var ca={height:String(aa)+'px',width:String(z)+'px'},da=c('getElementPosition')(c('ReactDOM').findDOMNode(this)),ea=c('getViewportDimensions')(),fa=da.x,ga=ea.width-da.x-da.width;ba=fa>ga?'left':'right';return {preview:c('React').createElement(c('ContextualDialog.react'),{autoFocus:false,contextRef:function(){return this.refs.image;}.bind(this),position:ba,shown:true,style:ca},c('React').createElement(c('BackgroundImage.react'),{backgroudSize:'cover',backgroundPosition:'0px',height:aa,loadingIndicatorStyle:'large',optimizeResizeSpeed:true,src:x.getPreviewUrl(),width:z}))};},_getSizeMultiplier:function w(x,y,z){return Math.min(y/x.width,z/x.height);},_getStockImageSizeMultiplier:function w(){return this._getSizeMultiplier(this._getStockImageVisibleDimensions(),m,n);},_fitDimensions:function w(x,y,z){var aa=this._getSizeMultiplier(x,y,z);return {height:Math.floor(x.height*aa),width:Math.floor(x.width*aa)};},_getImageStyle:function w(){var x=this.props.image;if(!x.isStockImage()||!this.state.imageReady)return null;var y=this._getStockImageVisibleDimensions(),z=this._getImageDimensions(),aa={height:z.height-y.height,width:z.width-y.width},ba=this._getStockImageSizeMultiplier(),ca={};if(aa.height>0)ca.marginBottom=String(Math.ceil(aa.height*-ba))+'px';if(aa.width>0)ca.marginRight=String(Math.ceil(aa.width*-ba))+'px';return ca;},_getImageDimensions:function w(){return {height:this.props.image.height,width:this.props.image.width};},_getNonStockImageDimensions:function w(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};},_getStockImageVisibleDimensions:function w(){return {height:this.props.image.getThumbnailHeight(),width:this.props.image.getThumbnailWidth()};},_calculateImageDimensions:function w(){return this.props.image.isStockImage()?this._calculateStockImageDimensions():this._calculateNonStockImageDimensions();},_calculateNonStockImageDimensions:function w(){if(!this.state.imageReady)return {height:r,width:q};return this._fitDimensions(this._getNonStockImageDimensions(),m,n);},_calculateStockImageDimensions:function w(){if(!this.state.imageReady)return this._fitDimensions(this._getStockImageVisibleDimensions(),m,n);var x=this._getImageDimensions(),y=this._getStockImageSizeMultiplier();return {height:Math.floor(x.height*y),width:Math.floor(x.width*y)};},_calculateFullSizeStockImageDimensions:function w(){var x=this.props.image;if(x.hasFullSizeDimensions())return {height:x.getFullSizeHeight(),width:x.getFullSizeWidth()};var y=x.getPreviewWidth(),z=x.getPreviewHeight(),aa=Math.min(o/y,p/z);return {height:Math.round(z*aa),width:Math.round(y*aa)};}});f.exports=v;}),null);
__d('AdsMediaPanelImageBoxContainer.react',['AdsMediaPanelImageBox.react','AdsQEStore','FluxContainer','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsQEStore')];};k.calculateState=function(){var l=c('AdsQEStore').getForCurrentUser('ads_increase_fb_image_resolution');return {imageResolutionQE:l};};k.prototype.render=function(){return c('React').createElement(c('AdsMediaPanelImageBox.react'),babelHelpers['extends']({},this.props,{imageResolutionQE:this.state.imageResolutionQE}));};function k(){h.apply(this,arguments);}f.exports=c('FluxContainer').create(k,{withProps:true});}),null);
__d('AdsMediaStandaloneLibraryImageWithDimensions.react',['cx','fbt','AdsImageLegacy','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','React','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m={height:600,width:200},n={height:400,width:400};j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={thumbnailLoaded:false},this.$AdsMediaStandaloneLibraryImageWithDimensions3=function(u){var v=u.getWidth(),w=u.getHeight();return c('React').createElement('div',{className:"_1byh"},c('React').createElement(c('ShimButton.react'),{className:"_1byi",inline:true,onClick:this.$AdsMediaStandaloneLibraryImageWithDimensions4},c('React').createElement(c('AdsValidationIcon.react'),{className:"_1byj",type:c('AdsValidationIconType').LARGE_IMAGE}),c('React').createElement('span',{className:"_1byk"},i._("{width} \u00d7 {height}",[i.param('width',v),i.param('height',w)]))));}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions2=function(){this.setState({thumbnailLoaded:true});}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions4=function(u){u.stopPropagation();this.props.onExpandClick(this.props.image);}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions1=function(){if(!this.props.imageReady)return n;return this.$AdsMediaStandaloneLibraryImageWithDimensions5(this.$AdsMediaStandaloneLibraryImageWithDimensions6(),m);}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions6=function(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions5=function(u,v){var w=this.$AdsMediaStandaloneLibraryImageWithDimensions7(u,v);return {height:Math.floor(u.height*w),width:Math.floor(u.width*w)};}.bind(this),this.$AdsMediaStandaloneLibraryImageWithDimensions7=function(u,v){return Math.min(v.width/u.width,v.height/u.height,1);},q;}o.prototype.render=function(){var p=this.props.image,q=this.$AdsMediaStandaloneLibraryImageWithDimensions1(),r=p.calculatedWidth,s=p.calculatedHeight,t=this.state.thumbnailLoaded?p.getUrl():p.getThumbnailUrl();return c('React').createElement(c('FBOverlayContainer.react'),{className:"_1bye"},c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',null,c('React').createElement(c('BackgroundImage.react'),{alt:this.props.alt,backgroundPosition:0,backgroundSize:'cover',className:"_2vjn",height:s||q.height,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,src:t,width:r||q.width,onImageLoad:this.$AdsMediaStandaloneLibraryImageWithDimensions2}))),c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},this.$AdsMediaStandaloneLibraryImageWithDimensions3(p)));};o.propTypes={alt:l.string,image:l.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:l.bool};f.exports=o;}),null);
__d('AssetLibraryAppConstants.brands',['AssetLibraryUITab'],(function a(b,c,d,e,f,g){'use strict';var h={SET_INITIAL_CONTEXT:'set_initial_context',UPDATE_CONTEXT:'update_context',ADD_TAG_TO_OBJECT_SUCCESS:'add_tag_to_object_success',ADD_TAG_TO_OBJECT_ERROR:'add_tag_to_object_error',EDIT_OBJECT_TAGS_SUCCESS:'edit_object_tags_success',EDIT_OBJECT_TAGS_ERROR:'edit_object_tags_error',ADD_TAGS:'add_tags',INIT_TAG:'init_tag',FETCH_TAG_ERROR:'fetch_tag_error',CREATE_TAG_START:'create_tag_start',CREATE_TAG_SUCCESS:'create_tag_success',CREATE_TAG_ERROR:'create_tag_error',DELETE_TAG_SUCCESS:'delete_tag_success',DELETE_TAG_ERROR:'delete_tag_error',RENAME_TAG_START:'rename_tag_start',RENAME_TAG_SUCCESS:'rename_tag_success',RENAME_TAG_ERROR:'rename_tag_error',SET_SEARCH_TEXT:'set_search_text',SET_SEARCH_TAG:'set_search_tag',SET_SEARCH_FOLDER:'set_search_folder',CLEAR_SEARCH:'clear_search',SEARCH_ACROSS_ASSETS_START:'search_across_assets_start',SEARCH_ACROSS_ASSETS_SUCCESS:'search_across_assets_success',SEARCH_ACROSS_ASSETS_ERROR:'search_across_assets_error',SEARCH_ACROSS_ASSETS_CLEAR:'search_across_assets_clear',INIT_SMART_FOLDER:'init_smart_folder',FETCH_SMART_FOLDER_ERROR:'fetch_smart_folder_error',INIT_TABLE_ENTRY:'init_table_entry',FETCH_TABLE_ENTRY:'fetch_table_entry',FETCH_TABLE_ENTRY_ERROR:'fetch_table_entry_error',TABLE_SORT_CHANGED:'table_sort_changed',TOGGLE_LEFT_NAV:'toggle_left_nav',TABLE_TOGGLE_SELECTION:'table_toggle_selection',TABLE_SELECT_ALL_ENTRIES:'table_select_all_entries',TABLE_DESELECT_ALL_ENTRIES:'table_deselect_all_entries',REFRESH_TABLE:'refresh_table',TABLE_REFRESHED:'table_refreshed',DELETE_IMAGES_START:'delete_images_start',DELETE_IMAGES_SUCCESS:'delete_images_success',DELETE_IMAGES_ERROR:'delete_images_error',DELETE_IMAGES_CANCELED:'DELETE_IMAGES_CANCELED'},i=c('AssetLibraryUITab'),j={NAME:'name',TAG:'tag',CREATE:'create'},k={NAME:'name',LABEL:'label',FOLDER:'folder'},l=200,m=44;f.exports={ACTION:h,ACTION_BAR_HEIGHT:m,DEFAULT_API_LIMIT:l,SEARCH_TYPES:k,SEARCH_RESULT_TYPES:j,TABS:i};}),null);
__d('Tag.brands',['cx','fbt','BUIAdoptionCloseButton.react','React','SUISpinner.react','AssetLibraryAppConstants.brands','curry','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('AssetLibraryAppConstants.brands').SEARCH_RESULT_TYPES,k=function m(n){var o=n.className,p=n.tag,q=n.onRemove;return c('React').createElement('div',{className:c('joinClasses')("_4r1y",o)},c('React').createElement('div',{className:"_4r1-"},c('React').createElement('span',{className:"_4r1_"},p.name),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_3-8_"+(!q?' '+"hidden_elem":''),label:i._("Remove"),onClick:q?c('curry')(q,p):c('emptyFunction'),size:'small'})));},l=function m(n){var o=n.entry,p=n.onRemove,q=babelHelpers.objectWithoutProperties(n,['entry','onRemove']),r=function s(t){p(o);};if(o.getType()===j.CREATE)return c('React').createElement(c('SUISpinner.react'),{className:"_1foc",size:'small'});return c('React').createElement(k,babelHelpers['extends']({tag:{id:o.getUniqueID(),name:o.getTitle()},onRemove:r},q));};k.FromSearchableEntry=l;f.exports=k;}),null);
__d('AssetLibraryImageTags.brands',['cx','fbt','LayerHideOnBlur','Link.react','React','ContextualDialog.react','Tag.brands'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=5;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);}m.prototype.render=function(){var n=this.props.tagData||[];if(n.length>0){var o=n.slice(0,l),p=this.$AssetLibraryImageTags1(o),q=null;if(n.length>l){var r=n.slice(l),s=this.$AssetLibraryImageTags1(r),t=n.length-l;q=c('React').createElement('span',null,c('React').createElement(c('Link.react'),{ref:'showMoreLink'},i._({"*":"and {count} others"},[i.param('count',t,[0])])),c('React').createElement(c('ContextualDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.showMoreLink;}.bind(this),hoverContextRef:function(){return this.refs.showMoreLink;}.bind(this),position:'right'},c('React').createElement('div',{className:"_2rxe"},s)));}return c('React').createElement('div',{className:"_2rxf"},p,q);}return null;};m.prototype.$AssetLibraryImageTags1=function(n){return n.map(function(o){return c('React').createElement(c('Tag.brands'),{className:"mrs mbs",key:o.id,tag:o});});};f.exports=m;}),null);
__d('AdsMediaStandaloneLibraryMetadataImage.react',['cx','fbt','AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','AssetLibraryImageTags.brands','Link.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n=c('React').PropTypes,o=180;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$AdsMediaStandaloneLibraryMetadataImage1=function(){return this.props.image.business_object_tags&&this.props.image.business_object_tags.data||[];}.bind(this),s;}p.prototype.render=function(){var r=this.props.image,s=new (c('URI'))(r.getUrl()).addQueryData({dl:1}),t=null,u=this.$AdsMediaStandaloneLibraryMetadataImage1();if(u.length>0)t=c('React').createElement(q,{propertyKey:i._("Labels:"),propertyValue:c('React').createElement(c('AssetLibraryImageTags.brands'),{tagData:this.$AdsMediaStandaloneLibraryMetadataImage1()})});return c('React').createElement('div',{className:"_35qj"},c('React').createElement('div',{className:"_35qk"},c('React').createElement(c('AdsMediaStandaloneLibraryImageWithDimensions.react'),{image:r,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick})),c('React').createElement('div',{className:"_35ql"},c('React').createElement(q,{propertyKey:i._("Name:"),propertyValue:r.name}),c('React').createElement(q,{propertyKey:i._("Hash:"),propertyValue:c('React').createElement(c('Link.react'),{href:s},r.getAdAccountHash())}),t));};p.propTypes={alt:n.string,image:n.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:n.bool.isRequired,onExpandClick:n.func.isRequired};l=babelHelpers.inherits(q,c('React').Component);m=l&&l.prototype;q.prototype.render=function(){return c('React').createElement('div',{className:"_35qo"},c('React').createElement('div',{className:"_35qp"},this.props.propertyKey),' ',c('React').createElement('div',{className:"_35qq"},this.props.propertyValue));};function q(){l.apply(this,arguments);}q.propTypes={propertyKey:n.node.isRequired,propertyValue:n.node.isRequired};f.exports=p;}),null);
__d('AdsMediaStandaloneLibrarySelectableImage.react',['cx','AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','Link.react','React','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l={'default':null,disabled:null,selected:"_1byd"};i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsMediaStandaloneLibrarySelectableImage1=function(){return c('React').createElement(c('Link.react'),{className:"_1byl"});},o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_1bym"},c('React').createElement('div',{className:c('joinClasses')(l[this.props.decoration],this.props.className)},c('React').createElement(c('Link.react'),{className:"_1byn",tabIndex:this.props.onImageClick?null:-1,onClick:this.props.onImageClick},c('React').createElement(c('AdsMediaStandaloneLibraryImageWithDimensions.react'),{image:this.props.image,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})),this.$AdsMediaStandaloneLibrarySelectableImage1()));};m.propTypes={alt:k.string,decoration:k.oneOf(Object.keys(l)).isRequired,image:k.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:k.bool,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired};m.defaultProps={decoration:'default',onExpandClick:c('emptyFunction'),onImageClick:c('emptyFunction')};f.exports=m;}),null);
__d('AdsMediaStandaloneLibraryImage.react',['cx','AdsImageLegacy','AdsMediaStandaloneLibraryMetadataImage.react','AdsMediaStandaloneLibrarySelectableImage.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={imageReady:this.props.image.hasDimensions()},this.$AdsMediaStandaloneLibraryImage1=function(){this.setState({imageReady:true});}.bind(this),this.$AdsMediaStandaloneLibraryImage2=function(){return c('React').createElement(c('AdsMediaStandaloneLibraryMetadataImage.react'),{alt:this.props.alt,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick});}.bind(this),this.$AdsMediaStandaloneLibraryImage3=function(){return c('React').createElement(c('AdsMediaStandaloneLibrarySelectableImage.react'),{alt:this.props.alt,decoration:this.props.decoration,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick});}.bind(this),n;}l.prototype.componentWillReceiveProps=function(m){if(m.image.equals(this.props.image))return;var n=m.image.hasDimensions();this.setState({imageReady:n});if(!n)m.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1);};l.prototype.componentWillMount=function(){if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this.$AdsMediaStandaloneLibraryImage1);};l.prototype.render=function(){return c('React').createElement('div',{className:"_3tlt"},this.props.showImageMetadata?this.$AdsMediaStandaloneLibraryImage2():this.$AdsMediaStandaloneLibraryImage3());};l.propTypes={alt:k.string,decoration:k.string.isRequired,image:k.instanceOf(c('AdsImageLegacy')).isRequired,onExpandClick:k.func.isRequired,onImageClick:k.func.isRequired,showImageMetadata:k.bool};l.defaultProps={decoration:'default',onExpandClick:c('emptyFunction'),onImageClick:c('emptyFunction'),showImageMetadata:false};f.exports=l;}),null);
__d("DimensionTracker",[],(function a(b,c,d,e,f,g){function h(){"use strict";this.$DimensionTracker1=[];this.$DimensionTracker2=0;}h.prototype.setValue=function(i,j){"use strict";this.$DimensionTracker2++;this.$DimensionTracker1.push({index:i,value:j});};h.prototype.getChangesSince=function(i){"use strict";var j=this.$DimensionTracker1.slice(i,this.$DimensionTracker2);return {changes:j,pointer:this.$DimensionTracker2};};f.exports=h;}),null);
__d('ImageRowItem.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.imageRowItems[this.props.rowIndex];if(l){var m=this.props.renderImage,n=l.map(m);return c('React').createElement('div',{key:'ImageRowItem'+l[0].getAdAccountHash()},n);}else return c('React').createElement('div',{key:'ImageRowItemFooter'},this.props.footerRow);};function k(){h.apply(this,arguments);}k.propTypes={footerRow:j.node,imageRowItems:j.array,renderImage:j.func,rowIndex:j.number};f.exports=k;}),null);
__d('AbstractInfiniteScroll.react',['cx','React','ReactDOM','Scroll','SubscriptionsHandler','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.checkIfEndReached=function(){if(!this.props.onEndReached)return;var r=c('ReactDOM').findDOMNode(this);if(!r.offsetHeight)return;var s=c('Scroll').getTop(r)+r.offsetHeight;if(s>=r.scrollHeight-this.props.distanceToEnd)this.props.onEndReached();}.bind(this),n;}l.prototype.componentDidMount=function(){'use strict';var m=c('ReactDOM').findDOMNode(this);this.$AbstractInfiniteScroll1=new (c('SubscriptionsHandler'))();this.$AbstractInfiniteScroll1.addSubscriptions(this.props.resizeEventSubscription(m,this.checkIfEndReached),this.props.scrollEventSubscription(m,this.checkIfEndReached));};l.prototype.componentDidUpdate=function(){'use strict';this.checkIfEndReached();};l.prototype.componentWillUnmount=function(){'use strict';this.$AbstractInfiniteScroll1.release();delete this.$AbstractInfiniteScroll1;};l.prototype.render=function(){'use strict';return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3kbk")}),this.props.children);};l.propTypes={distanceToEnd:k.number,onEndReached:k.func,resizeEventSubscription:k.func.isRequired,scrollEventSubscription:k.func.isRequired};l.defaultProps={distanceToEnd:50};f.exports=l;}),null);
__d('InfiniteScroll.react',['AbstractInfiniteScroll.react','Event','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return c('React').createElement(c('AbstractInfiniteScroll.react'),babelHelpers['extends']({},this.props,{resizeEventSubscription:k,scrollEventSubscription:l}));};function j(){'use strict';h.apply(this,arguments);}function k(m,n){return c('Event').listen(m,'resize',n);}function l(m,n){return c('Event').listen(m,'scroll',n);}f.exports=j;}),null);
__d('MediaLibraryPlacement',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({ADS_MEDIA_LIBRARY:'',BIZ_MEDIA_LIBRARY:''});f.exports=h;}),null);
__d("PhotoArrange",["Map","sha256"],(function a(b,c,d,e,f,g){var h=.5,i=.5,j={height:-1,isOptimal:false,isValid:false};function k(){"use strict";this.$PhotoArrange1=new (c("Map"))();this.$PhotoArrange2=new (c("Map"))();}k.prototype.solve=function(m,n){"use strict";var o=n.map(function(r){return r.height/r.width;}),p=this.$PhotoArrange3(m,n);if(this.$PhotoArrange1.has(p))return this.$PhotoArrange1.get(p);var q;try{q=this.$PhotoArrange4(m,n,o);}catch(r){q=this.$PhotoArrange5(m,n,o);}this.$PhotoArrange1.set(p,q);return q;};k.prototype.$PhotoArrange3=function(m,n){"use strict";var o=[String(m.containerWidth),String(m.marginPerImage),String(m.maxImageHeight),String(m.minImageHeight),String(m.minImageWidth)].concat(n.map(function(p){return [String(p.width),String(p.height)].join(",");})).join(",");return c("sha256")(o);};k.prototype.$PhotoArrange5=function(m,n,o){"use strict";var p=(m.maxImageHeight+m.minImageHeight)/2;return n.map(function(q,r){var s=p/o[r];return {height:p,width:s};});};k.prototype.$PhotoArrange4=function(m,n,o){"use strict";if(!n.length)return [];var p=j,q=0,r=j,s=0,t=n.length,u=m.maxImageHeight,v=m.minImageWidth,w=m.containerWidth,x=u/o[0],y=0;while(y<t-1){var z=Math.max(v,u/o[y+1]);if(x+z>w){break;}else{x+=z+m.marginPerImage;y++;}}var aa=[],ba=[],ca;for(;y<t;y++){q=y+1;aa=n.slice(0,q);ba=o.slice(0,q);ca=this.$PhotoArrange3(m,aa);if(this.$PhotoArrange2.has(ca)){p=this.$PhotoArrange2.get(ca);}else{p=new l(m,ba.slice(0,q)).solve();this.$PhotoArrange2.set(ca,p);}if(p.isValid&&p.isOptimal){break;}else if(p.isValid){r=p;s=q;}else{p=r;q=s;break;}}if(p.isValid){var da=p.height,ea=n.slice(0,q);ea=ea.map(function(fa,ga){return {width:da/o[ga],height:da};});return ea.concat(this.$PhotoArrange4(m,n.slice(q),o.slice(q)));}else throw new Error("There is no valid solution to arrange these photos\n        under the specified constraints");};function l(m,n){var o=m.containerWidth,p=m.marginPerImage,q=m.maxImageHeight,r=m.minImageHeight,s=m.minImageWidth;"use strict";this.$ImagesBSSolver1=o;this.$ImagesBSSolver2=n;this.$ImagesBSSolver3=p;this.$ImagesBSSolver4=q;this.$ImagesBSSolver5=r;this.$ImagesBSSolver6=s;}l.prototype.solve=function(){"use strict";var m=this.$ImagesBSSolver5,n=this.$ImagesBSSolver4,o=(n+m)/2,p=this.$ImagesBSSolver7(m),q=this.$ImagesBSSolver7(o),r=this.$ImagesBSSolver7(n);if(!p.isValid){return j;}else if(r.isValid){return {height:n,isOptimal:r.isOptimal,isValid:r.isValid};}else{while(!q.isValid||n-m>h){if(!q.isValid){n=o;}else m=o;o=(n+m)/2;q=this.$ImagesBSSolver7(o);}return {height:o,isOptimal:q.isOptimal,isValid:q.isValid};}};l.prototype.$ImagesBSSolver7=function(m){"use strict";var n=this.$ImagesBSSolver2.reduce(function(q,r){var s=Math.max(this.$ImagesBSSolver6,m/r);return q+s+this.$ImagesBSSolver3;}.bind(this),-this.$ImagesBSSolver3),o=n<this.$ImagesBSSolver1,p=o&&n+i>this.$ImagesBSSolver1;return {isOptimal:p,isValid:o};};f.exports=new k();}),null);
__d('AdsMediaLibrary.react',['cx','invariant','AdsImageLegacy','AdsImageValidation','AdsMediaLibraryExpandedAsset.react','AdsMediaPanelImageBoxContainer.react','AdsMediaStandaloneLibraryImage.react','AdsPageTypes','BUIAdoptionXUISpinner.react','DimensionTracker','ImageRowItem.react','InfiniteScroll.react','MediaLibraryPlacement','PhotoArrange','React','ReactDOM','Scroll','SimpleList.react','adsGKCheck','emptyFunction','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m={height:100,width:100},n=60,o=60,p=290,q=90,r=210,s=14,t=48,u=550,v=60,w=50,x=0,y=12,z=49;j=babelHelpers.inherits(aa,c('React').Component);k=j&&j.prototype;function aa(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=k.constructor).call.apply(ba,[this].concat(ea)),this.state={containerWidth:0,expandedImage:null},this.measureContainerWidth=function(){var ga=this.refs.imagesContainer;if(ga){var ha=c('ReactDOM').findDOMNode(ga),ia=ha.offsetWidth;this.setState({containerWidth:ia});}}.bind(this),this.$AdsMediaLibrary7=function(ga){this.setState({expandedImage:ga});}.bind(this),this.$AdsMediaLibrary6=function(){this.setState({expandedImage:null});}.bind(this),this.$AdsMediaLibrary2=function(ga){return c('React').createElement(c('AdsMediaStandaloneLibraryImage.react'),{decoration:this.$AdsMediaLibrary9(ga),image:ga,imageSpec:this.props.imageSpec,key:ga.getUniqueIdentifier(),ref:ga.getUniqueIdentifier(),showImageMetadata:this.props.showStandaloneImageMetadata,onExpandClick:this.$AdsMediaLibrary7,onImageClick:function(event){return this.props.onImageClick(ga,event.shiftKey);}.bind(this)});}.bind(this),this.$AdsMediaLibrary5=function(ga){var ha=false,ia=this.props.imageSpec;if(ia){ha=!c('AdsImageValidation').isWarningSize(ga,ia);if(this.props.igSpecificImageSpec)ha=ha||!c('AdsImageValidation').isWarningSize(ga,this.props.igSpecificImageSpec);var ja=c('adsGKCheck')('ig_ads_support_9_by_16_image_cropping');if(ia.placement===c('AdsPageTypes').INSTAGRAM_STORY&&!ja)ha=ha||!c('AdsImageValidation').isValidAspectRatio(ga,ia);}return c('React').createElement(c('AdsMediaPanelImageBoxContainer.react'),{buyingTypes:this.props.buyingTypes,className:"_13u0",decoration:this.$AdsMediaLibrary9(ga),igSpecificImageSpec:this.props.igSpecificImageSpec,image:ga,imageSpec:ia,isTooSmall:this.props.disableTooSmallImages&&ha,key:ga.getUniqueIdentifier(),ref:ga.getUniqueIdentifier(),useMediaPanelRedesign:this.props.useMediaPanelRedesign,onImageClick:function(event){this.props.onImageClick&&this.props.onImageClick(ga);}.bind(this),onImageDoubleClick:function(event){this.props.onImageDoubleClick&&this.props.onImageDoubleClick(ga);}.bind(this)});}.bind(this),ca;}aa.prototype.componentDidMount=function(){c('setImmediate')(this.measureContainerWidth);};aa.prototype.componentWillReceiveProps=function(){this.measureContainerWidth();};aa.prototype.render=function(){var ba,ca=this,da,ea=c('joinClasses')(this.props.className,"_3suv"),fa=this.props.children;if(fa)fa=c('React').createElement('div',{className:"_13u2 clearfix"},fa);var ga=void 0,ha=this.props.photoArrangeConstraints;if(this.state.containerWidth&&this.props.photoArrangeEnabled){var ia,ja;(function(){ia=Math.max(0,ca.state.containerWidth-ha.containerPadding);ja=ca.props.imageList.map(function(ma){return babelHelpers['extends']({},ma,{width:ma.width||m.width,height:ma.height||m.height});});var la=c('PhotoArrange').solve(babelHelpers['extends']({},ha,{containerWidth:ia}),ja);ga=ca.props.imageList.map(function(ma,na){ma.calculatedWidth=la[na].width;ma.calculatedHeight=la[na].height;return ma;});})();}else ga=this.props.imageList;if(this.props.standalone){var ka=null;if(ia)(function(){var la=ca.$AdsMediaLibrary1(ga,ia,ha.marginPerImage,ha.minImageWidth),ma=new (c('DimensionTracker'))();la.forEach(function(pa,qa){var ra=pa[0],sa=this.props.showStandaloneImageMetadata?q:s;if(this.props.placement===c('MediaLibraryPlacement').BIZ_MEDIA_LIBRARY)sa+=n;var ta=ra.calculatedHeight+sa;ma.setValue(qa,ta);}.bind(ca));ma.setValue(la.length,z);var na=ca.props.showStandaloneImageMetadata?p:r,oa=ca.state.containerWidth-t;ka=c('React').createElement(c('SimpleList.react'),{height:ca.props.height,item:c('React').createElement(c('ImageRowItem.react'),{footerRow:ca.props.scrollingAreaFooter,imageRowItems:la,renderImage:ca.$AdsMediaLibrary2}),rowCount:la.length+1,rowHeight:na,rowHeightTracker:ma,width:oa});})();return c('React').createElement('div',{className:ea,ref:'AdsMediaLibraryRoot'},c('React').createElement('div',{className:"_13t_"+(this.state.expandedImage?' '+"_fas":''),ref:'imagesContainer'},ka),this.$AdsMediaLibrary3(),this.$AdsMediaLibrary4());}else return c('React').createElement('div',{className:ea,ref:'AdsMediaLibraryRoot'},c('React').createElement(c('InfiniteScroll.react'),{className:"_13u1",style:{height:this.props.height},onEndReached:this.props.onEndReached},fa,c('React').createElement('div',{className:"_13t_",ref:'imagesContainer'},ga.map(this.$AdsMediaLibrary5)),this.props.scrollingAreaFooter),this.$AdsMediaLibrary4());};aa.prototype.$AdsMediaLibrary1=function(ba,ca,da,ea){if(!ba.length)return [];var fa=[[]],ga=0,ha=0;ba.forEach(function(ia,ja){var ka=Math.max(ea,ia.calculatedWidth);if(ha+ka>ca){fa.push([]);ha=0;ga++;}fa[ga].push(ia);ha+=ka+da;});return fa;};aa.prototype.$AdsMediaLibrary4=function(){if(!this.props.isLoadingInitial)return null;return c('React').createElement('div',{className:"_13u3"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',className:"_13t-",size:'large'}));};aa.prototype.$AdsMediaLibrary3=function(){if(!this.state.expandedImage)return null;var ba=this.state.expandedImage,ca=Math.min(ba.height,u),da=ca*ba.width/ba.height;return c('React').createElement(c('AdsMediaLibraryExpandedAsset.react'),{height:ca,key:'expanded_view',source:ba.getUrl(),topBarHeight:this.props.topBarHeight,width:da,onClickClose:this.$AdsMediaLibrary6});};aa.prototype.$AdsMediaLibrary8=function(ba){return this.props.selectedImageList.some(function(ca){return ca.getUniqueIdentifier()==ba;});};aa.prototype.$AdsMediaLibrary9=function(ba){if(this.$AdsMediaLibrary8(ba.getUniqueIdentifier())){return 'selected';}else if(!this.props.isClickEnabled)return 'disabled';return 'default';};aa.prototype.scrollToImage=function(ba){var ca=ba.getUniqueIdentifier();ca in this.refs||i(0);var da=c('ReactDOM').findDOMNode(this.refs[ca]),ea=c('ReactDOM').findDOMNode(this),fa=da.offsetTop;if(ea!=da.offsetParent)fa-=ea.offsetTop;c('Scroll').setTop(ea,fa);};aa.propTypes={buyingTypes:l.arrayOf(l.string),disableTooSmallImages:l.bool,height:l.number.isRequired,imageList:l.arrayOf(l.instanceOf(c('AdsImageLegacy'))).isRequired,imageSpec:l.shape({minWarningWidth:l.number.isRequired,minWarningHeight:l.number.isRequired}),isClickEnabled:l.bool.isRequired,isLoadingInitial:l.bool,igSpecificImageSpec:l.object,onEndReached:l.func,onImageClick:l.func.isRequired,onImageDoubleClick:l.func,photoArrangeConstraints:l.shape({containerPadding:l.number.isRequired,maxImageHeight:l.number.isRequired,minImageHeight:l.number.isRequired,minImageWidth:l.number.isRequired,marginPerImage:l.number.isRequired}).isRequired,photoArrangeEnabled:l.bool,selectedImageList:l.array.isRequired,scrollingAreaFooter:l.object,showStandaloneImageMetadata:l.bool,standalone:l.bool,topBarHeight:l.number,useMediaPanelRedesign:l.bool,placement:l.string};aa.defaultProps={disableTooSmallImages:false,onImageClick:c('emptyFunction'),photoArrangeConstraints:{containerPadding:o,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y},selectedImageList:[],showStandaloneImageMetadata:false,standalone:false,useMediaPanelRedesign:false};f.exports=aa;}),null);
__d('AdsMediaPanelFilters',['fbt','invariant','AdImageSpecs','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsGenericFilterOperatorConfig','AdsImageValidation','AdsPageTypes','keyMirror'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l={'16:9':16/9,'4:3':4/3,'9:16':9/16},m=(j={},j[c('AdsPageTypes').DESKTOP_FEED]=c('AdImageSpecs').PAGE_LIKE_DESKTOP_FEED,j[c('AdsPageTypes').INSTAGRAM_STORY]=c('AdImageSpecs').INSTAGRAM_STORY,j[c('AdsPageTypes').MOBILE_EXTERNAL]=c('AdImageSpecs').AUDIENCE_NETWORK_MOBILE_EXTERNAL,j[c('AdsPageTypes').MESSENGER]=c('AdImageSpecs').MESSENGER,j),n=(k={},k[c('AdsPageTypes').DESKTOP_FEED]=h._("Facebook"),k[c('AdsPageTypes').INSTAGRAM_STORY]=h._("Instagram"),k[c('AdsPageTypes').MOBILE_EXTERNAL]=h._("Audience Network"),k[c('AdsPageTypes').MESSENGER]=h._("Messenger"),k),o=c('keyMirror')({media_title:null,media_aspect:null,media_placement:null}),p={TITLE:{text:h._("Title"),field:new (c('AdsGenericFilterField'))(o.media_title,c('AdsGenericFilterFieldType').STRING),operators:[c('AdsGenericFilterOperatorConfig').CONTAIN,c('AdsGenericFilterOperatorConfig').NOT_CONTAIN],allowDuplication:true},ASPECT_RATIO:{text:h._("Aspect Ratio"),field:new (c('AdsGenericFilterField'))(o.media_aspect,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').EQUAL,c('AdsGenericFilterOperatorConfig').NOT_EQUAL],values:[{value:'16:9'},{value:'4:3'},{value:'9:16'}],allowDuplication:true},PLACEMENT_COMPATIBILITY:{text:h._("Placement"),field:new (c('AdsGenericFilterField'))(o.media_placement,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').EQUAL],values:[{value:c('AdsPageTypes').DESKTOP_FEED},{value:c('AdsPageTypes').INSTAGRAM_STORY},{value:c('AdsPageTypes').MOBILE_EXTERNAL},{value:c('AdsPageTypes').MESSENGER}],valueRenderer:x,allowDuplication:true}},q={ASPECT_RATIO:p.ASPECT_RATIO,PLACEMENT_COMPATIBILITY:p.PLACEMENT_COMPATIBILITY},r={TITLE:p.TITLE,ASPECT_RATIO:p.ASPECT_RATIO},s={},t={};function u(da,ea){typeof ea.value==='string'||i(0);var fa=ea.value&&ea.value.toLowerCase(),ga=typeof da==='string'?da.toLowerCase():null;switch(ea.operator){case c('AdsGenericFilterOperator').CONTAIN:return ga!=null&&ga.includes(fa);case c('AdsGenericFilterOperator').NOT_CONTAIN:return !(ga!=null&&ga.includes(fa));default:throw new Error('invalid filter');}}function v(da,ea){typeof ea.value=='string'||i(0);var fa=m[ea.value];if(c('AdsImageValidation').isValidAspectRatio(da,fa)&&c('AdsImageValidation').isWarningSize(da,fa))return true;return false;}function w(da,ea){typeof ea.value==='string'||i(0);var fa=l[ea.value]||0;switch(ea.operator){case c('AdsGenericFilterOperator').EQUAL:return da<=fa;case c('AdsGenericFilterOperator').NOT_EQUAL:return da>fa;default:throw new Error('invalid filter');}}function x(da){return n[da];}var y={media_title:function da(ea,fa){return u(ea.title,fa);},media_aspect:function da(ea,fa){return w(ea.width/ea.height,fa);}},z={media_aspect:function da(ea,fa){return w(ea.getWidth()/ea.getHeight(),fa);},media_placement:function da(ea,fa){return v(ea,fa);}};function aa(da,ea,fa){return da.filter(function(ga){for(var ha=0;ha<ea.values.length;ha++){var ia=ea.values[ha];if(!fa[ia.field.name](ga,ia))return false;}return true;});}function ba(da,ea){return aa(da,ea,y);}function ca(da,ea){return aa(da,ea,z);}f.exports={applyImageFilters:ca,applyVideoFilters:ba,ImageFilterFieldConfig:q,VideoFilterFieldConfig:r,ImageFilterValueConfig:s,VideoFilterValueConfig:t};}),null);
__d('AdsMediaPanelHeader.react',['cx','AdsTestIDs','LeftRight.react','Link.react','React','SUICloseButton.react','XUIAmbientNUX.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelTabTitle1=function(){this.props.onTitleClick(this.props.tabKey);}.bind(this),q;}n.prototype.render=function(){return c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{onClick:this.$AdsMediaPanelTabTitle1}));};n.propTypes={tabKey:m.string.isRequired,onTitleClick:m.func.isRequired};k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsMediaPanelHeader1=function(u){var v=u.tabKey===this.props.selectedTab,w=c('joinClasses')(u.className,"_5jq6"+(v?' '+"_5jq7":'')),x=c('AdsTestIDs').IMAGE_LIBRARY_HEADER+'-'+u.tabKey,y="_5jq8"+(this.props.useMediaPanelRedesign?' '+"_4l0d":'');return c('React').createElement('span',{key:u.tabKey},c('React').createElement(n,{className:w,'data-testid':x,ref:u.tabKey,tabKey:u.tabKey,onTitleClick:this.$AdsMediaPanelHeader2},c('React').createElement('div',{className:y}),u.title),this.$AdsMediaPanelHeader3(u));}.bind(this),this.$AdsMediaPanelHeader3=function(u){if(u.nuxConfig){var v=function(){return this.refs[u.tabKey];}.bind(this);return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:v,key:u.tabKey,position:'below',shown:u.nuxConfig.shown,onCloseButtonClick:u.nuxConfig.onClose},u.nuxConfig.message);}return null;}.bind(this),this.$AdsMediaPanelHeader2=function(u){this.props.onTabSwitch(u);}.bind(this),q;}o.prototype.getDefaultProps=function(){return {useMediaPanelRedesign:false};};o.prototype.render=function(){var p="_5jq0"+(this.props.useMediaPanelRedesign?' '+"_4l0e":'');if(this.props.useMediaPanelRedesign){return c('React').createElement('div',{className:p},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,this.props.tabConfigs.map(this.$AdsMediaPanelHeader1)),c('React').createElement('div',{className:"_4l0h"},c('React').createElement(c('SUICloseButton.react'),{className_DEPRECATED:"layerCancel",shade:'dark',size:'small',useLegacyPadding:true}))));}else return c('React').createElement('div',{className:p},this.props.tabConfigs.map(this.$AdsMediaPanelHeader1));};o.propTypes={selectedTab:m.string.isRequired,tabConfigs:m.arrayOf(m.shape({className:m.string.isRequired,tabKey:m.string.isRequired,title:m.string.isRequired,nuxConfigs:m.shape({message:m.string.isRequired,onClose:m.func.isRequired,shown:m.bool.isRequired})})).isRequired,useMediaPanelRedesign:m.bool,onTabSwitch:m.func.isRequired};f.exports=o;}),null);
__d('AdsMediaPanelInfiniteScrollFooter.react',['cx','fbt','BUIAdoptionXUISpinner.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.componentDidMount=function(){if(this.props.onEndReached)this.props.onEndReached();};m.prototype.render=function(){if(!this.props.imagesLoaded)return null;if(this.props.fetchingNextPage)return c('React').createElement('div',{className:"_4bnz"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'}));return c('React').createElement('div',{className:"_4bn-"},c('React').createElement('div',{className:"_4bn_"},c('React').createElement('div',{className:"_4bo2"},i._("No more images found"))));};function m(){j.apply(this,arguments);}m.propTypes={fetchingNextPage:l.bool.isRequired,imagesLoaded:l.bool.isRequired,onEndReached:l.func};f.exports=m;}),null);
__d('AdsMediaPanelMessage.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('joinClasses')("_3suv",this.props.className);return c('React').createElement('div',{className:m,style:this.props.style},c('React').createElement('div',{className:"_5y4t"},c('React').createElement(c('Image.react'),{src:this.props.icon}),c('React').createElement('div',{className:"_5y4u"},c('React').createElement('div',null,this.props.title),c('React').createElement('div',null,this.props.subtitle))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={icon:k.object.isRequired,subtitle:k.string,title:k.string.isRequired};f.exports=l;}),null);
__d('AdsMediaPanelPageLinkInstagramAccountUnit.react',['cx','fbt','ix','ActionList.react','AdsImageLegacy','AdsLoadState_LEGACY','AdsMediaLibrary.react','AdsPageInstagramAccountActions','BUIAdoptionXUINotice.react','BUIAdoptionXUINoticeGroup.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','CenteredContainer.react','Grid.react','Image.react','Link.react','React','ScrollableArea.react','XPagesManagerSettingsController','XUIButton.react','XUITextInput.react','PageSettingsRef'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Grid.react').GridItem,n=c('React').PropTypes,o=30,p=32,q=36,r='https://instagram.com/accounts/password/reset/',s='https://www.facebook.com/business/help/898752960195806';k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.state={password:'',username:''},this.$AdsMediaPanelPageLinkInstagramAccountUnit9=function(event){this.setState({password:event.target.value});}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit8=function(event){this.setState({username:event.target.value});}.bind(this),this.$AdsMediaPanelPageLinkInstagramAccountUnit10=function(){if(this.props.pageID)c('AdsPageInstagramAccountActions').linkInstagramAccount(this.props.pageID,this.state.password,this.state.username);}.bind(this),v;}t.prototype.render=function(){if(this.props.instagramAccount&&this.props.instagramAccount.is_published){return this.$AdsMediaPanelPageLinkInstagramAccountUnit1();}else if(this.props.instagramAccountLoadState===c('AdsLoadState_LEGACY').LOADING){return this.$AdsMediaPanelPageLinkInstagramAccountUnit2();}else return this.$AdsMediaPanelPageLinkInstagramAccountUnit3();};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit2=function(){return c('React').createElement(c('ScrollableArea.react'),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c('React').createElement(c('CenteredContainer.react'),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),c('React').createElement(c('CenteredContainer.react'),{className:"_hrr",horizontal:true,vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}))));};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit3=function(){return c('React').createElement(c('ScrollableArea.react'),{height:this.props.totalHeight},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c('React').createElement(c('CenteredContainer.react'),{fullHeight:true,horizontal:true,vertical:true},this.$AdsMediaPanelPageLinkInstagramAccountUnit5(),this.props.pageID?this.$AdsMediaPanelPageLinkInstagramAccountUnit6():null));};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit1=function(){var u=this.$AdsMediaPanelPageLinkInstagramAccountUnit4()?this.props.totalHeight-p-q:this.props.totalHeight-p,v=this.props.instagramAccountLoadState===c('AdsLoadState_LEGACY').LOADING?c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}):this.$AdsMediaPanelPageLinkInstagramAccountUnit7();return c('React').createElement('div',{style:{height:this.props.totalHeight}},this.$AdsMediaPanelPageLinkInstagramAccountUnit4(),c('React').createElement(c('AdsMediaLibrary.react'),babelHelpers['extends']({},this.props,{height:u})),c('React').createElement('div',{className:"_hrs"},v));};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit5=function(){var u=i._("Connect an Instagram Account"),v=null;if(this.props.instagramAccount){v=i._("Log into Instagram to select images for your Facebook ads. The Instagram account you add will represent your business in your Instagram ads. You can only connect one Instagram account to your Page.");}else v=c('React').createElement('div',null,i._("Log into an Instagram account to select Instagram images to use in your Facebook ads."),' ',c('React').createElement(c('Link.react'),{href:s,target:'_blank'},i._("Learn more")),'.');return c('React').createElement(c('CenteredContainer.react'),{className:"_2pie",horizontal:true},c('React').createElement(c('Image.react'),{src:j("22909")}),c('React').createElement('div',{className:"_hru"},u),c('React').createElement('div',{className:"_hrx"},v));};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit6=function(){return c('React').createElement(c('Grid.react'),{className:"_3-8k",cols:2,spacing:"prl pts"},c('React').createElement(m,null,c('React').createElement(c('XUITextInput.react'),{className:"_hry",height:'tall',maxLength:o,placeholder:i._("Username"),value:this.state.username,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit8})),c('React').createElement(m,null,c('React').createElement(c('XUITextInput.react'),{className:"_hry",height:'tall',placeholder:i._("Password"),type:'password',value:this.state.password,onChange:this.$AdsMediaPanelPageLinkInstagramAccountUnit9})),c('React').createElement(m,null,c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"lfloat"},c('React').createElement(c('Link.react'),{href:r,target:'_blank'},i._("Forgot password?")))),c('React').createElement(m,null,c('React').createElement(c('XUIButton.react'),{className:"rfloat",disabled:this.state.username===''||this.state.password==='',label:i._("Connect"),use:'confirm',onClick:this.$AdsMediaPanelPageLinkInstagramAccountUnit10})));};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit7=function(){var u=this.props.instagramAccount?'@'+this.props.instagramAccount.username:'',v=void 0;if(this.props.pageID){var w=c('XPagesManagerSettingsController').getURIBuilder().setString('page_token',this.props.pageID).setString('tab','instagram_ads').setString('ref',c('PageSettingsRef').INSTAGRAM_ADS).getURI();v=c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},c('React').createElement(c('Link.react'),{href:w,target:'_blank'},i._("Edit")));}return c('React').createElement(c('ActionList.react'),{className:"rfloat"},c('React').createElement(c('BUIAdoptionXUIText.react'),{shade:'dark',size:'small',weight:'bold'},u),v);};t.prototype.$AdsMediaPanelPageLinkInstagramAccountUnit4=function(){if(this.props.pageLinkOrUnlinkAccountError.length===0)return null;return c('React').createElement(c('BUIAdoptionXUINoticeGroup.react'),null,this.props.pageLinkOrUnlinkAccountError.map(function(u,v){return c('React').createElement(c('BUIAdoptionXUINotice.react'),{key:v,type:'error'},u);}));};t.propTypes={imageList:n.arrayOf(n.instanceOf(c('AdsImageLegacy'))).isRequired,instagramAccount:n.shape({id:n.string.isRequired,is_published:n.bool.isRequired,profile_pic:n.string.isRequired,username:n.string.isRequired}),instagramAccountLoadState:n.oneOf(Object.keys(c('AdsLoadState_LEGACY'))).isRequired,isClickEnabled:n.bool.isRequired,pageID:n.string,pageLinkOrUnlinkAccountError:n.arrayOf(n.string).isRequired,totalHeight:n.number.isRequired};t.defaultProps={imageList:[],instagramAccount:null,instagramAccountLoadState:c('AdsLoadState_LEGACY').NOT_LOADED,pageLinkOrUnlinkAccountError:[]};f.exports=t;}),null);
__d('AdsMediaPanelTabs',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({UPLOAD:null,LIBRARY:null,STOCK:null});f.exports=h;}),null);
__d('AdsMediaPanelViewFilterBar.react',['cx','fbt','AdsImageCollectionViews','Link.react','React','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('React').PropTypes;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsMediaPanelViewFilterBar1=function(y){if(y.view===c('AdsImageCollectionViews').views.INSTAGRAM&&!this.props.instagramAccountLinked){return c('React').createElement(s,{key:y.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:false,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose});}else return c('React').createElement(r,{key:y.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:true,viewFilter:y,onViewFilterChoose:this.props.onViewFilterChoose});}.bind(this),u;}q.prototype.render=function(){var t="_5y6l"+(this.props.useMediaPanelRedesign?' '+"_2wrx":'');if(this.props.availableViewFilters.length===0)return c('React').createElement('div',{className:t});var u="_5y6m"+(this.props.useMediaPanelRedesign?' '+"_2wrx":'');return c('React').createElement('div',{className:u},this.props.availableViewFilters.map(this.$AdsMediaPanelViewFilterBar1));};q.propTypes={availableViewFilters:p.array.isRequired,instagramAccountLinked:p.bool.isRequired,viewFilter:p.object.isRequired,onViewFilterChoose:p.func};l=babelHelpers.inherits(r,c('React').Component);m=l&&l.prototype;function r(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$LinkItem1=function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter);}.bind(this),u;}r.prototype.render=function(){var t=this.props.showImageCount?c('React').createElement('span',{className:"_5y6p"},this.props.viewFilter.count):null;return c('React').createElement(c('Link.react'),{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?' '+"_5y6o":''),onClick:this.$LinkItem1},c('React').createElement('span',null,c('React').createElement('span',null,this.props.viewFilter.text),t));};n=babelHelpers.inherits(s,c('React').Component);o=n&&n.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=o.constructor).call.apply(t,[this].concat(w)),this.state={nuxShown:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').BOOSTED_COMPONENT_INSTAGRAM_LIBRARY)},this.renderLayers=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.$LinkItemWithNux1,position:'above',shown:this.state.nuxShown,onCloseButtonClick:this.$LinkItemWithNux2,key:'nux_above'},i._("Connect an Instagram account to use its photos in your ads."));}.bind(this),this.$LinkItemWithNux1=function(){return this.refs.instagram_view_filter;}.bind(this),this.$LinkItemWithNux2=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').BOOSTED_COMPONENT_INSTAGRAM_LIBRARY);this.setState({nuxShown:false});}.bind(this),u;}s.prototype.render=function(){return c('React').createElement('span',null,c('React').createElement(r,babelHelpers['extends']({},this.props,{ref:'instagram_view_filter'})),this.renderLayers());};f.exports=q;}),null);
__d('AdsMediaPanelViewFilters',['fbt','AdsImageCollectionViews'],(function a(b,c,d,e,f,g,h){var i=[{view:c('AdsImageCollectionViews').views.LIBRARY,text:h._("Ad Images")},{view:c('AdsImageCollectionViews').views.INSTAGRAM,text:h._("Instagram Images")},{view:c('AdsImageCollectionViews').views.PAGE,text:h._("Page Images")},{view:c('AdsImageCollectionViews').views.SCRAPED,text:h._("Website Images")}],j=0;i.forEach(function(m){j|=m.view;});var k={view:j,text:h._("All")};i.unshift(k);var l={filters:i,all:k};f.exports=l;}),null);
__d('AdsShutterstockSearchBar.react',['cx','fbt','ix','Image.react','React','XUITextInput.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsShutterstockSearchBar2=function(){this.props.onTriggerSearch();}.bind(this),this.$AdsShutterstockSearchBar1=function(event){this.props.onTextChange(event.target.value);}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_134r"},c('React').createElement('div',{className:"_134s"},c('React').createElement(c('Image.react'),{className:"_134t",src:j("22543")}),c('React').createElement('div',{className:"_134u"},i._("Powered by {partner-company-name}",[i.param('partner-company-name','Shutterstock')])),c('React').createElement(c('XUITextInput.react'),{className:"_134v",defaultValue:this.props.searchText,height:'tall',placeholder:i._("Search Free Stock Images"),onChange:this.$AdsShutterstockSearchBar1,onEnter:this.$AdsShutterstockSearchBar2})));};n.propTypes={searchText:m.string,onTriggerSearch:m.func,onTextChange:m.func};n.defaultProps={onTriggerSearch:c('emptyFunction'),onTextChange:c('emptyFunction')};f.exports=n;}),null);
__d('AdsShutterstockGuidelinesShowDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'shutterstockGuidelinesShow',actionType:'SHUTTERSTOCK.GUIDELINES_SHOW'};f.exports=h;}),null);
__d('AdsShutterstockGuidelinesShowDataAction',['AdsDataActionCreator','AdsShutterstockGuidelinesShowDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsShutterstockGuidelinesShowDataActionPlugin'));f.exports=h;}),null);
__d('AdsShutterstockUseGuidelines.react',['cx','fbt','AdsShutterstockGuidelinesShowDataAction','ContextualDialog.react','LayerFadeOnHide','Link.react','React','ReactLayeredComponentMixin_DEPRECATED','debounce','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=250,l=320,m=c('React').createClass({displayName:'AdsShutterstockUseGuidelines',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{dialogPosition:j.string},getDefaultProps:function n(){return {dialogPosition:'right'};},getInitialState:function n(){return {dialogShown:false};},_cancelScheduledHides:function n(){this._scheduleHide.reset();},_hideDialog:function n(){this._cancelScheduledHides();this.setState({dialogShown:false});},_toggleDialog:function n(){this._cancelScheduledHides();var o=!this.state.dialogShown;this.setState({dialogShown:o});if(o)c('AdsShutterstockGuidelinesShowDataAction').dispatch({});},componentWillMount:function n(){this._scheduleHide=c('debounce')(this._hideDialog,k);},componentWillUnmount:function n(){this._cancelScheduledHides();this._scheduleHide=null;},render:function n(){var o=c('joinClasses')("_54kg",this.props.className);return c('React').createElement(c('Link.react'),{className:o,ref:'link',onClick:this._toggleDialog,onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},i._("Some stock images may not comply with Facebook policies. Read our Advertising Policies before selecting an image."));},getLegalLanguage:function n(){return i._("Shutterstock images are available at no additional cost for use in your Facebook ads, with the following guidelines: {list of legal guidelines}",[i.param('list of legal guidelines',c('React').createElement('ul',{className:"_3-9n"},c('React').createElement('li',null,i._("You can't use the image as a trademark for a business.")),c('React').createElement('li',null,i._("You may not portray a person in a way that may be offensive, including: a) in ads for dating services; b) in connection with political endorsements; c) with defamatory, unlawful, offensive or immoral content; and d) as suffering from, or being treated for, a physical or mental ailment.")),c('React').createElement('li',null,i._("You may only use the image in ads and content on Facebook, and not with other websites or advertising services."))))]);},renderLayers:function n(){return {dialog:c('React').createElement(c('ContextualDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.link;}.bind(this),position:this.props.dialogPosition,shown:this.state.dialogShown,width:l},c('React').createElement('div',{className:"_54kh",onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},c('React').createElement('h2',{className:"_54ki"},i._("Stock Image Use Guidelines")),this.getLegalLanguage()))};}});f.exports=m;}),null);
__d('AdsShutterstockViewStore',['AdsDataActionTypes','AdsDispatcher','FluxStore','Map','adsBaseStoreMixin_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin_DEPRECATED')(this);this.$AdsShutterstockViewStoreClass3=new (c('Map'))();}j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsDataActionTypes').shutterstockSearchTextChanged:this.$AdsShutterstockViewStoreClass1=l.data.searchText;this.__emitChange();break;case c('AdsDataActionTypes').shutterstockSearchDone:this.$AdsShutterstockViewStoreClass2=l.data.searchText;if(!this.$AdsShutterstockViewStoreClass3.get(this.$AdsShutterstockViewStoreClass2))this.$AdsShutterstockViewStoreClass3.set(this.$AdsShutterstockViewStoreClass2,1);this.__emitChange();break;case c('AdsDataActionTypes').shutterstockEndReached:var m=this.$AdsShutterstockViewStoreClass3.get(l.data.searchText);if(!m){this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,2);}else this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,m+1);this.__emitChange();break;}};j.prototype.getNumPagesForQuery=function(k){var l=this.$AdsShutterstockViewStoreClass3.get(k);return l||0;};j.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass1;};j.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass2;};j.prototype.isTyping=function(){var k=this.$AdsShutterstockViewStoreClass1!==null&&this.$AdsShutterstockViewStoreClass1!==undefined;return k&&this.$AdsShutterstockViewStoreClass1!==this.$AdsShutterstockViewStoreClass2;};f.exports=new j();}),null);
__d('AdsShutterstockLibrary.react',['cx','fbt','ix','AdsFluxContainer','AdsMediaLibrary.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsShutterstockSearchBar.react','AdsShutterstockSearchStore','AdsShutterstockUseGuidelines.react','AdsShutterstockViewActions','AdsShutterstockViewStore','React','ShutterstockApiStatus','adsFormatErrorMessage','debounce','keyMirror','setImmediate'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=25,o=c('keyMirror')({ERROR:null,HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),p=c('debounce')(function(r){return c('AdsShutterstockViewActions').searchDone(r);},200);k=babelHelpers.inherits(q,c('React').PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$AdsShutterstockLibrary4=function(){var w=this.$AdsShutterstockLibrary2(),x=w.state;if(x===o.HAS_MORE)c('setImmediate')(function(){return c('AdsShutterstockViewActions').endReached(this.state.query);}.bind(this));}.bind(this),s;}q.getStores=function(){return [c('AdsShutterstockSearchStore'),c('AdsShutterstockViewStore')];};q.calculateState=function(r,s){var t=c('AdsShutterstockViewStore').getDelayedText()||s.defaultSearchText,u=c('AdsShutterstockViewStore').getNumPagesForQuery(t)||1,v=null;if(t)v=c('AdsShutterstockSearchStore').getSearchResults(t,n*u);return {currentSearchText:c('AdsShutterstockViewStore').getCurrentText(),isTyping:c('AdsShutterstockViewStore').isTyping(),query:t,results:v};};q.prototype.$AdsShutterstockLibrary1=function(r,s,t){return c('React').createElement(c('AdsMediaPanelMessage.react'),{icon:r,style:{height:this.props.imageContainerHeight},subtitle:s,title:t});};q.prototype.$AdsShutterstockLibrary2=function(){var r=this.state.results,s=null,t=[];if(!r){if(this.state.isTyping){s=o.LOADING_INITIAL;}else s=o.NO_REQUEST;}else if(r.hasError()){s=o.ERROR;}else if(!r.hasValue()){s=o.LOADING_INITIAL;}else if(!r.getValueEnforcing().next){t=r.getValueEnforcing().images.toArray();if(t.length===0){s=o.NO_RESULTS;}else s=o.NO_MORE_RESULTS;}else{t=r.getValueEnforcing().images.toArray();if(r.hasOperation()){s=o.LOADING_MORE;}else s=o.HAS_MORE;}return {state:s,imageList:t};};q.prototype.$AdsShutterstockLibrary3=function(){var r=this.$AdsShutterstockLibrary2(),s=r.state,t=r.imageList;switch(s){case o.NO_REQUEST:return this.$AdsShutterstockLibrary1(j("22542"),i._("Any images you select will be saved in your image library."),i._("Search for professional images to use in your ads."));case o.NO_RESULTS:return this.$AdsShutterstockLibrary1(j("22544"),i._("Try using other keywords."),i._("There aren't any images that match what you searched."));case o.ERROR:return this.$AdsShutterstockLibrary1(j("22544"),null,i._("An error occurred while searching for stock images: {error message}",[i.param('error message',c('adsFormatErrorMessage')(this.state.results.error))]));default:var u=s===o.HAS_MORE||s===o.LOADING_MORE,v=c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:u,imagesLoaded:s!==o.LOADING_INITIAL}),w=s===o.LOADING_INITIAL||this.state.isTyping;return c('React').createElement(c('AdsMediaLibrary.react'),{height:this.props.imageContainerHeight,imageList:t,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:w,scrollingAreaFooter:v,selectedImageList:this.props.selectedImageList,onEndReached:this.$AdsShutterstockLibrary4,onImageClick:this.props.onImageClick},c('React').createElement(c('AdsShutterstockUseGuidelines.react'),{className:"_3cl1",dialogPosition:'left'}));}};q.prototype.render=function(){if(!c('ShutterstockApiStatus').available)return c('React').createElement(c('AdsMediaPanelMessage.react'),{className:this.props.className,icon:j("22544"),style:{height:this.props.imageContainerHeight},subtitle:i._("Please try again later."),title:i._("Sorry, stock images aren't available right now.")});return c('React').createElement('div',{className:this.props.className},c('React').createElement(c('AdsShutterstockSearchBar.react'),{searchText:this.state.currentSearchText,onTextChange:this.$AdsShutterstockLibrary5}),this.$AdsShutterstockLibrary3());};q.prototype.$AdsShutterstockLibrary5=function(r){c('AdsShutterstockViewActions').searchTextChanged(r);p(r);};q.defaultProps={isClickEnabled:true,selectedImageList:[]};q.propTypes={defaultSearchText:m.string,imageContainerHeight:m.number.isRequired,onImageClick:m.func.isRequired,isClickEnabled:m.bool.isRequired,selectedImageList:m.array.isRequired};f.exports=c('AdsFluxContainer').create(q,{withProps:true});}),null);
__d('AdsMediaPanel.react',['cx','fbt','ix','Promise','AdsArrowedCarouselEnhanced.react','AdsEditInlinePostWarning.react','AdsImageActions','AdsImageCollectionViews','AdsImageDimensionDataLoader','AdsImageSecondaryActions','AdsImageStore','AdsImageUploadErrorActions','AdsImageValidation','AdsLoadState_LEGACY','AdsMediaLibrary.react','AdsMediaPanelFilters','AdsMediaPanelHeader.react','AdsMediaPanelImageBoxContainer.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsMediaPanelPageLinkInstagramAccountUnit.react','AdsMediaPanelTabs','AdsMediaPanelViewFilterBar.react','AdsMediaPanelViewFilters','AdsShutterstockLibrary.react','AdsTestIDs','AdsUploadImageBox.react','BootloadedComponent.react','Event','FluxMixinLegacy','JSResource','Map','React','ReactComponentWithPureRenderMixin','ReactDOM','Set','SUISpinner.react','SUIThemeContainer.react','emptyFunction','getViewportDimensions','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=49,m=25,n=84,o=144,p=215,q=332,r=658,s=523,t=100,u=60,v=60,w=50,x=0,y=12,z=0,aa=0,ba=100,ca=80,da={};da[c('AdsMediaPanelTabs').UPLOAD]={className:"_5xhy",title:i._("Upload Images"),renderer:'_renderUploadTab'};da[c('AdsMediaPanelTabs').LIBRARY]={className:"_5xh-",title:i._("Image Library"),renderer:'_renderLibraryTab'};da[c('AdsMediaPanelTabs').STOCK]={className:"_5xh_",title:i._("Stock Images"),renderer:'_renderStockTab'};var ea=c('React').createClass({displayName:'AdsMediaPanel',mixins:[c('FluxMixinLegacy')([c('AdsImageStore')],{withProps:true}),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:k.string.isRequired,allowMultiImage:k.bool,buyingTypes:k.arrayOf(k.string),defaultStockSearchText:k.string,disableTooSmallImages:k.bool,igSpecificImageSpec:k.object,imageCollection:k.object.isRequired,imageHandlers:k.shape({onClick:k.func,onDoubleClick:k.func,onSecondaryAction:k.func}).isRequired,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired,placement:k.string}),initialSelectedTab:k.oneOf(Object.keys(da)),instagramAccount:k.shape({id:k.string.isRequired,is_published:k.bool.isRequired,profile_pic:k.string.isRequired,username:k.string.isRequired}),instagramAccountLoadState:k.oneOf(Object.keys(c('AdsLoadState_LEGACY'))),maxSelectedImages:k.number.isRequired,pageID:k.string,pageLinkOrUnlinkAccountError:k.arrayOf(k.string),selectedImageList:k.array.isRequired,tabKeys:k.arrayOf(k.string).isRequired,theme:k.object,uploadHandlers:k.shape({onClick:k.func,onEnd:k.func,onFail:k.func,onStart:k.func,onSuccess:k.func}).isRequired,useInstagramImageCreative:k.bool,useMediaPanelRedesign:k.bool,userImagesLoaded:k.bool,validateImageFormat:k.bool,validateImageSize:k.bool,onTabSwitch:k.func.isRequired},getDefaultProps:function fa(){return {adEditWarningMessage:null,disableTooSmallImages:false,imageHandlers:{onClick:c('emptyFunction'),onDoubleClick:c('emptyFunction'),onSecondaryAction:c('emptyFunction')},maxSelectedImages:1,onTabSwitch:c('emptyFunction'),pageFetchingNextPage:false,pageImagesLoaded:true,pageOnEndReached:c('emptyFunction'),selectedImageList:[],uploadHandlers:{},useMediaPanelRedesign:false,userImagesLoaded:true,validateImageFormat:true,validateImageSize:true};},getInitialState:function fa(){return {multiImageRowHeight:0,viewFilter:c('AdsMediaPanelViewFilters').all,selectedTab:this.props.initialSelectedTab||c('AdsMediaPanelTabs').LIBRARY,uploadedImages:[],filterSet:null};},statics:{calculateState:function fa(ga,ha){return {canFetchNextLibraryPage:c('AdsImageStore').hasCursorForNextPage(ha.accountID),fetchingNextLibraryPage:c('AdsImageStore').isFetchingNextPage(ha.accountID)};}},componentWillMount:function fa(){this._setResizeHandlerRef(c('Event').listen(window,'resize',function(){return this.forceUpdate();}.bind(this)));},componentWillUnmount:function fa(){this._removeResizeHandlerRef();this._setResizeHandlerRef(null);},componentDidMount:function fa(){this._setSelectedImagesRowHeight();},componentDidUpdate:function fa(){this._setSelectedImagesRowHeight();},_getTabContentHeight:function fa(){var ga=this.props.useMediaPanelRedesign?n:o,ha=0,ia=0,ja=0;if(this.props.useMediaPanelRedesign){ha=l+m;if(this.props.maxSelectedImages>1)ha+=ga;ia=p+ha;ja=s;}else{ia=p+l;ja=q+l;ha=r-ja;}var ka=c('getViewportDimensions')().height,la=ka-t-ha;return Math.max(ia,Math.min(ja,la));},_removeResizeHandlerRef:function fa(){var ga=this;ga._resizeHandlerRef.remove();},_setResizeHandlerRef:function fa(ga){var ha=this;ha._resizeHandlerRef=ga;},_isTabAllowed:function fa(ga){return this.props.tabKeys.indexOf(ga)!==-1;},_renderMultipleSelectedImagesRow:function fa(){var ga=this.state.multiImageRowHeight===0?0:this.state.multiImageRowHeight/ba,ha=null;if(this.props.maxSelectedImages>1){var ia=this.props.selectedImageList.map(function(ka,la){return c('React').createElement(c('AdsMediaPanelImageBoxContainer.react'),{alt:i._("Selected Image {number} of {total}",[i.param('number',la+1),i.param('total',this.props.selectedImageList.length)]),buyingTypes:this.props.buyingTypes,className:"_16es",decoration:'removable',image:ka,imageSpec:this.props.imageSpec,key:ka.getUniqueIdentifier(),scaleImageFactor:ga,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,ka,c('AdsImageSecondaryActions').X)});}.bind(this)),ja="_16et"+(' '+"_5xi2")+(this.props.useMediaPanelRedesign?' '+"_2xcc":'')+(' '+"clearfix");ha=c('React').createElement('div',{className:ja,'data-testid':c('AdsTestIDs').SELECTED_IMAGE_PANEL},c('React').createElement('div',{className:"_16eu"},c('React').createElement('h2',{className:"_5xht"},i._("Selected Images")),c('React').createElement('span',{className:"_5xi4"},i._({"*":{"*":"({images} of {max-images})"}},[i.param('images',this.props.selectedImageList.length,[0]),i.param('max-images',this.props.maxSelectedImages,[0])]))),c('React').createElement('div',{className:"_3k2_",ref:'selectedImagesCarouselContainer'},c('React').createElement(c('AdsArrowedCarouselEnhanced.react'),{maxChangeAmount:6},ia)));}return ha;},render:function fa(){da[c('AdsMediaPanelTabs').UPLOAD].title=i._({"*":"Upload Images","268435456":"Upload Image"},[i.plural(this.props.maxSelectedImages)]);var ga=this.props.tabKeys.map(function(ia){return {tabKey:ia,className:da[ia].className,title:da[ia].title};}),ha=c('React').createElement('div',{'data-testid':c('AdsTestIDs').IMAGE_LIBRARY},c('React').createElement(c('AdsMediaPanelHeader.react'),{selectedTab:this.state.selectedTab,tabConfigs:ga,useMediaPanelRedesign:this.props.useMediaPanelRedesign,onTabSwitch:this._switchToTab}),this._renderTabContent(),this._renderEditInlinePostWarning(),this._renderMultipleSelectedImagesRow());if(this.props.theme){return c('React').createElement(c('SUIThemeContainer.react'),{theme:this.props.theme},ha);}else return ha;},_switchToTab:function fa(ga){this.setState({selectedTab:ga});this.props.onTabSwitch(ga);},_renderEditInlinePostWarning:function fa(){return c('React').createElement(c('AdsEditInlinePostWarning.react'),{className:"_5zio",message:this.props.adEditWarningMessage});},_renderTabContent:function fa(){var ga=da[this.state.selectedTab],ha=c('joinClasses')(ga.className,"_5xhx"+(' '+"_5xhw")),ia=this;return ia[ga.renderer](this.state.selectedTab,ha);},_renderUploadTab:function fa(ga,ha){c('AdsImageUploadErrorActions').removeErrors();return c('React').createElement('div',{className:ha,key:ga},c('React').createElement(c('AdsUploadImageBox.react'),{accountId:this.props.accountID,allowMultiImage:this.props.allowMultiImage||this.props.maxSelectedImages>1,height:this._getTabContentHeight(),imageSpec:this.props.imageSpec,useMediaPanelRedesign:this.props.useMediaPanelRedesign,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this._onUploadEnd,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess}));},_onUploadEnd:function fa(ga){c('Promise').all(ga.map(function(ha){return c('AdsImageDimensionDataLoader').getDimensionByURL(ha.getUrl()).then(function(ia){var ja=ia.width,ka=ia.height;return ha.clone({width:ja,height:ka});});})).done(function(ha){if(this.props.uploadHandlers.onEnd)this.props.uploadHandlers.onEnd(ha);if(!ha.length)return;var ia=this.state.uploadedImages||[],ja=this._filterDuplicateImages(ia,ha);ia=ia.concat(ja);this.setState({uploadedImages:ia});if(this.props.maxSelectedImages===1)this.setState({selectedTab:c('AdsMediaPanelTabs').LIBRARY,filterSet:null},function(){return this.scrollToImage(ha[0]);}.bind(this));}.bind(this));},_sortDownTooSmallImages:function fa(ga){var ha=this.props.imageSpec,ia=this.props.igSpecificImageSpec,ja=this.state.uploadedImages;ga=this._filterDuplicateImages(ja,ga);var ka=new (c('Map'))();ga.forEach(function(ma,na){return ka.set(ma,na);});var la=ga.sort(function(ma,na){var oa=0,pa=0;if(ia){oa+=c('AdsImageValidation').isWarningSize(ma,ia)?1:0;pa+=c('AdsImageValidation').isWarningSize(na,ia)?1:0;}oa+=ha&&c('AdsImageValidation').isWarningSize(ma,ha)?1:0;pa+=ha&&c('AdsImageValidation').isWarningSize(na,ha)?1:0;if(oa>pa){return -1;}else if(oa<pa){return 1;}else return ka.get(ma)-ka.get(na);});return ja?ja.concat(la):la;},_filterDuplicateImages:function fa(ga,ha){if(!ga)return ha;var ia=new (c('Set'))();ga.forEach(function(ja){return ia.add(ja.getUniqueIdentifier());});return ha.filter(function(ja){return !ia.has(ja.getUniqueIdentifier());});},_onLibraryEndReached:function fa(){if(this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage)c('AdsImageActions').loadNextPage(this.props.accountID);},_canSelectImages:function fa(){return this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages;},_renderLibraryTab:function fa(ga,ha){var ia=this.props.imageCollection,ja=ia.getImageCount(this.state.viewFilter.view),ka=ia.getImages(this.state.viewFilter.view);if(this.props.disableTooSmallImages)ka=this._sortDownTooSmallImages(ka);if(this.props.filters!=null&&this.state.filterSet!=null)ka=c('AdsMediaPanelFilters').applyImageFilters(ka,this.state.filterSet);var la=this._onLibraryEndReached,ma=null;if(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)ma=c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded});if(this.state.viewFilter.view===c('AdsImageCollectionViews').views.PAGE){ma=c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:this.props.pageFetchingNextPage,imagesLoaded:this.props.pageImagesLoaded});la=this.props.pageOnEndReached;}var na=null;if(this.props.useMediaPanelRedesign){na={containerPadding:z,maxImageHeight:ba,minImageHeight:ca,minImageWidth:x,marginPerImage:aa};}else na={containerPadding:u,maxImageHeight:v,minImageHeight:w,minImageWidth:x,marginPerImage:y};var oa=this._getTabContentHeight()-l,pa=void 0;if(this.state.viewFilter.view===c('AdsImageCollectionViews').views.INSTAGRAM){pa=c('React').createElement(c('AdsMediaPanelPageLinkInstagramAccountUnit.react'),babelHelpers['extends']({},this.props,{imageList:ka,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeConstraints:na,photoArrangeEnabled:true,ref:'imageLib',scrollingAreaFooter:ma,totalHeight:oa,onEndReached:la,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));}else if(ja>0||!this.props.userImagesLoaded){pa=c('React').createElement(c('AdsMediaLibrary.react'),{buyingTypes:this.props.buyingTypes,disableTooSmallImages:this.props.disableTooSmallImages,height:oa,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:ka,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,key:ga,photoArrangeConstraints:na,photoArrangeEnabled:true,ref:'imageLib',useMediaPanelRedesign:this.props.useMediaPanelRedesign,scrollingAreaFooter:ma,selectedImageList:this.props.selectedImageList,onEndReached:la,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});}else{var qa=this._isTabAllowed(c('AdsMediaPanelTabs').STOCK)?i._("Upload images or try using professional stock images at no extra cost."):i._("Upload images to use them for your ads.");pa=c('React').createElement(c('AdsMediaPanelMessage.react'),{className:ha,icon:j("22542"),style:{height:String(oa)+'px'},subtitle:qa,title:i._("There aren't any images in your library.")});}var ra=c('AdsMediaPanelViewFilters').filters.map(function(ta){return babelHelpers['extends']({},ta,{count:ia.getImageCount(ta.view)});}).filter(function(ta){return ta.view!==c('AdsImageCollectionViews').views.INSTAGRAM&&ta.count>0||ta.view===c('AdsImageCollectionViews').views.INSTAGRAM&&this.props.useInstagramImageCreative;}.bind(this)),sa=this.props.filters?c('React').createElement('div',{className:"_5y6m"+(this.props.useMediaPanelRedesign?' '+"_2wrx":'')},c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('AdsMediaPanelFilterBar.react').__setRef('AdsMediaPanel.react'),bootloadPlaceholder:c('React').createElement(c('SUISpinner.react'),null),filterSet:this.state.filterSet,mediaType:'image',onChange:this._onFilterChange})):null;return c('React').createElement('div',{className:ha},c('React').createElement(c('AdsMediaPanelViewFilterBar.react'),{availableViewFilters:ra,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,useMediaPanelRedesign:this.props.useMediaPanelRedesign,viewFilter:this.state.viewFilter,onViewFilterChoose:this._onViewFilterChoose}),sa,pa);},_onViewFilterChoose:function fa(ga){if(ga.view===this.state.viewFilter.view)return;this.setState({viewFilter:ga});},_onFilterChange:function fa(ga){this.setState({filterSet:ga});},_onStockImageClick:function fa(ga){this.props.imageCollection.addImagesToBack_UNSAFE([ga],c('AdsImageCollectionViews').views.STOCK);var ha=this.props.imageHandlers.onClick;if(ha)ha.call(this.props.imageHandlers,ga);},_renderStockTab:function fa(ga,ha){return c('React').createElement(c('AdsShutterstockLibrary.react'),{className:ha,defaultSearchText:this.props.defaultStockSearchText,imageContainerHeight:this._getTabContentHeight()-l,isClickEnabled:this._canSelectImages(),key:ga,selectedImageList:this.props.selectedImageList,onImageClick:this._onStockImageClick});},_setSelectedImagesRowHeight:function fa(){if(this.props.maxSelectedImages>1){var ga=c('ReactDOM').findDOMNode(this.refs.selectedImagesCarouselContainer);this.setState({multiImageRowHeight:ga.offsetHeight});}},scrollToImage:function fa(ga){this.refs.imageLib.scrollToImage(ga);}});f.exports=ea;}),null);
__d('AdsImageDialog.react',['cx','invariant','Promise','AdImageSpecsUtils','AdsDataActionTypes','AdsDispatcher','AdsImageCollection','AdsImageCollectionViews','AdsImageLegacy','AdsImageSecondaryActions','AdsMediaPanel.react','AdsMediaPanelTabs','AdsShutterstockImageByIDStore','AdsTestIDs','BUIAdoptionDialogCancelButton.react','BUIAdoptionDialogConfirmButton.react','BUIAdoptionHorizontalLayout.react','LayerFadeOnHide','LayerHideOnEscape','LayerHideOnTransition','LayerRemoveOnHide','React','XUIDialog.react','XUIDialogFooter.react','deepFreezeValue','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n=c('React').PropTypes,o=[c('AdsMediaPanelTabs').UPLOAD,c('AdsMediaPanelTabs').LIBRARY,c('AdsMediaPanelTabs').STOCK],p={LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape'),LayerHideOnTransition:c('LayerHideOnTransition'),LayerRemoveOnHide:c('LayerRemoveOnHide')},q=[];c('deepFreezeValue')(q);j=babelHelpers.inherits(r,c('React').PureComponent);k=j&&j.prototype;function r(aa){k.constructor.call(this,aa);s.call(this);var ba=aa.selectedImages.map(x);this.state={selectedLegacyImageList:ba,userConfirmed:false,userSelected:false};}r.prototype.componentWillMount=function(){t(this.props.accountID,this.props.libraryImages,this.props.instagramAccount,this.props.instagramImages,this.props.pageImages||[],this.state.selectedLegacyImageList||[],{maxSelectedImages:this.props.maxSelectedImages});};r.prototype.componentWillReceiveProps=function(aa){var ba=aa.accountID,ca=aa.libraryImages,da=aa.instagramAccount,ea=aa.instagramImages,fa=aa.pageImages,ga=aa.maxSelectedImages;t(ba,ca,da,ea,fa,this.state.selectedLegacyImageList||[],{maxSelectedImages:ga});};r.prototype.render=function(){var aa=c('AdImageSpecsUtils').reduceMinImageSpec(this.props.specs),ba=aa.imageSpec,ca=aa.igSpecificImageSpec,da={onClick:this.$AdsImageLegacyDialog1,onDoubleClick:this.$AdsImageLegacyDialog2,onSecondaryAction:this.$AdsImageLegacyDialog3},ea={onEnd:this.$AdsImageLegacyDialog4,onStart:this.$AdsImageLegacyDialog5},fa=this.props.maxSelectedImages,ga=y(this.props.accountID,{maxSelectedImages:fa});return c('React').createElement(c('XUIDialog.react'),{behaviors:p,shown:true,width:860,onToggle:this.props.onCancel},c('React').createElement(c('AdsMediaPanel.react'),babelHelpers['extends']({},this.props,{buttonStyle:'done',disableTooSmallImages:!!ba,igSpecificImageSpec:ca,imageCollection:ga,imageHandlers:da,imageSpec:ba,initialSelectedTab:this.props.initialTab,instagramAccount:this.props.instagramAccount,maxSelectedImages:fa,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:'',tabKeys:this.props.tabKeys||o,uploadHandlers:ea})),c('React').createElement(c('XUIDialogFooter.react'),{className:"_5h0r"},c('React').createElement(c('BUIAdoptionHorizontalLayout.react'),null,c('React').createElement(c('BUIAdoptionDialogCancelButton.react'),null),c('React').createElement(c('BUIAdoptionDialogConfirmButton.react'),{'data-testid':c('AdsTestIDs').IMAGE_DIALOG_CLOSE_BUTTON,disabled:!this.state.userSelected||this.state.userConfirmed,use:'confirm',onClick:this.$AdsImageLegacyDialog6}))));};r.prototype.$AdsImageLegacyDialog5=function(){c('AdsDispatcher').dispatch({action:{type:c('AdsDataActionTypes').imageUploadStart}});};r.propTypes={accountID:n.string.isRequired,allowMultiImage:n.bool,defaultStockSearchText:n.string,initialTab:n.string,instagramAccount:n.object,libraryImages:n.arrayOf(n.shape({url:n.string.isRequired,hash:n.oneOfType([n.string,n.oneOf([null,undefined])])})).isRequired,maxSelectedImages:n.number.isRequired,pageImages:n.arrayOf(n.instanceOf(c('AdsImageLegacy'))),selectedImages:n.arrayOf(n.shape({stockImageID:n.string,url:n.string,hash:n.string}).isRequired).isRequired,specs:n.arrayOf(n.shape({minWarningWidth:n.number.isRequired,minWarningHeight:n.number.isRequired})).isRequired,tabKeys:n.arrayOf(n.string),onCancel:n.func,onSelect:n.func.isRequired};r.defaultProps={defaultStockSearchText:'',initialTab:c('AdsMediaPanelTabs').LIBRARY,instagramAccount:null,instagramImages:[],libraryImages:[],maxSelectedImages:1,onSelect:c('emptyFunction'),pageFetchingNextPage:false,pageImages:[],pageImagesLoaded:true,pageOnEndReached:c('emptyFunction'),selectedImages:[],specs:[]};var s=function aa(){this.$AdsImageLegacyDialog7=function(ba,ca){var da=this.props.maxSelectedImages,ea=y(this.props.accountID,{maxSelectedImages:da});ea.setImageSelected(ba,true);var fa=this.state.selectedLegacyImageList.concat(ba),ga=fa.length-da;if(ga>0){for(var ha=0;ha<ga;ha++)ea.setImageSelected(ba,false);fa=fa.slice(ga,fa.length);}this.setState({selectedLegacyImageList:fa,userSelected:true},ca||c('emptyFunction'));}.bind(this);this.$AdsImageLegacyDialog3=function(ba,ca){if(ca===c('AdsImageSecondaryActions').X)this.$AdsImageLegacyDialog8(ba);}.bind(this);this.$AdsImageLegacyDialog8=function(ba){var ca=y(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});ca.setImageSelected(ba,false);var da=this.state.selectedLegacyImageList.filter(function(ea){return !ea.equals(ba);});this.setState({selectedLegacyImageList:da,userSelected:true});}.bind(this);this.$AdsImageLegacyDialog9=function(ba){ba.forEach(function(ca){return delete ca.crops;});if(this.props.maxSelectedImages===1)ba.length||i(0);this.props.onSelect(ba);}.bind(this);this.$AdsImageLegacyDialog10=function(ba){return new (c('Promise'))(function(ca,da){c('AdsShutterstockImageByIDStore').addLegacyCallback_DONT_USE_IN_NEW_CODE(ba.getStockImageID(),function(ea){if(ea.hasError()){this.setState({userConfirmed:false});i(0);}else if(ea.hasValue())ca(babelHelpers['extends']({},ba.toJSON(),{url:ea.getValueEnforcing().get('preview_url')}));}.bind(this));}.bind(this));}.bind(this);this.$AdsImageLegacyDialog6=function(ba){var ca,da=this;ba&&ba.preventDefault();var ea=[];if(this.state.userSelected)(function(){var fa=[];da.state.selectedLegacyImageList.forEach(function(ga){if(ga.isStockImage())fa.push(this.$AdsImageLegacyDialog10(ga));}.bind(da));if(fa.length>0)da.setState({userConfirmed:true});c('Promise').all(fa).done(function(ga){ga.reverse();this.state.selectedLegacyImageList.forEach(function(ha){if(ha.isStockImage()){ea.push(ga.pop());}else ea.push(ha.toJSON());});this.$AdsImageLegacyDialog9(ea);}.bind(da));})();}.bind(this);this.$AdsImageLegacyDialog1=function(ba){var ca=this.state.selectedLegacyImageList.some(function(da){return da.equals(ba);});if(ca){if(this.props.maxSelectedImages>1)this.$AdsImageLegacyDialog8(ba);}else this.$AdsImageLegacyDialog7(ba);}.bind(this);this.$AdsImageLegacyDialog2=function(ba){var ca=this.props.selectedImages;if(this.props.maxSelectedImages==1&&ca.length){var da=x(ca[0]);if(da&&da.equals(ba)){return;}else if(da)this.$AdsImageLegacyDialog7(ba,this.$AdsImageLegacyDialog6);}}.bind(this);this.$AdsImageLegacyDialog4=function(ba){var ca=ba.map(function(ea){return {hash:ea.getAdAccountHash(),url:ea.getUrl(),id:ea.getID()};});c('AdsDispatcher').dispatch({action:{type:c('AdsDataActionTypes').imageUploadUploadSuccess,imagesData:{imagesData:ca}}});var da=[];da=ba.map(function(ea){return {legacyImage:ea,view:c('AdsImageCollectionViews').views.LIBRARY};});u(this.props.accountID,this.props.instagramAccount,da,false,{maxSelectedImages:this.maxSelectedImages});ba.forEach(function(ea){return this.$AdsImageLegacyDialog7(ea);}.bind(this));}.bind(this);};function t(aa,ba,ca,da,ea,fa,ga){var ha=[];if(ba.length)ba.forEach(function(ia){ha.push({legacyImage:new (c('AdsImageLegacy'))(ia),view:c('AdsImageCollectionViews').views.LIBRARY});});if(da.length)da.forEach(function(ia){ha.push({legacyImage:new (c('AdsImageLegacy'))({url:ia.url,imageType:'INSTAGRAM'}),view:c('AdsImageCollectionViews').views.INSTAGRAM});});if(ea.length)ea.forEach(function(ia){ha.push({legacyImage:ia,view:c('AdsImageCollectionViews').views.PAGE});});if(fa.length)fa.filter(function(ia){return !!ia.getAdAccountHash();}).forEach(function(ia){ha.push({legacyImage:ia,view:c('AdsImageCollectionViews').views.LIBRARY});});if(ha.length)u(aa,ca,ha,true,ga);}function u(aa,ba,ca,da,ea){var fa;if(ca&&ca.length)(function(){var ga=y(aa,ea),ha=[],ia=ba?ba.id:null,ja=w[aa];if(ia!==ja){w[aa]=ia;ga.clearImagesByViewBitmask(c('AdsImageCollectionViews').views.INSTAGRAM);}ca.forEach(function(la){if(!ga.hasImage(la.legacyImage))ha.push(la);});if(ha.length){var ka=[c('AdsImageCollectionViews').views.INSTAGRAM,c('AdsImageCollectionViews').views.LIBRARY,c('AdsImageCollectionViews').views.PAGE];ka.map(function(la){var ma=ha.filter(function(na){return na.view===la;}).map(function(na){return na.legacyImage;});if(da){ga.addImagesToBack(ma,la);}else ga.addImagesToFront(ma,la);});}})();}var v={},w={};function x(aa){if(aa){return new (c('AdsImageLegacy'))(aa);}else return null;}function y(aa,ba){var ca=v[aa];if(!ca){ca=new (c('AdsImageCollection'))(ba);v[aa]=ca;}return ca;}l=babelHelpers.inherits(z,c('React').Component);m=l&&l.prototype;z.prototype.render=function(){return c('React').createElement(r,this.props);};function z(){l.apply(this,arguments);}f.exports=z;}),null);
__d('AdsProgressBox.react',['cx','fbt','AdsXUIProgressBar.react','BUIAdoptionCloseButton.react','React','joinClasses','keyMirror'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('keyMirror')({Uploading:null,Encoding:null});j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.subtitle?c('React').createElement('div',{className:"_2t6d"},this.props.subtitle):null,p=this.props.onCancel?c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:'rfloat',label:i._("Cancel Upload"),onClick:this.props.onCancel}):null,q=this.props.align==='center'?"_5okx":'';return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q)}),this.$AdsProgressBox1(this.props.videoTitle,this.props.processingAction),c('React').createElement('div',{className:'clearfix'},p,c('React').createElement(c('AdsXUIProgressBar.react'),{className:p?"_3-92":'',striped:this.props.striped,value:this.props.progressValue})),o);};n.prototype.$AdsProgressBox1=function(o,p){if(!o)return;var q=c('React').createElement('span',{className:"_5pic"},o);if(p)q=i._({"Uploading":"Uploading {videoTitle}","Encoding":"Encoding {videoTitle}"},[i['enum'](p,{Uploading:'Uploading',Encoding:'Encoding'}),i.param('videoTitle',q)]);return c('React').createElement('div',{className:"_3-95 _5pid"},q);};function n(){j.apply(this,arguments);}n.PROCESSING_ACTION=m;n.propTypes={align:l.oneOf(['default','center']),processingAction:l.oneOf(Object.keys(m)),progressValue:l.number.isRequired,striped:l.bool,subtitle:l.string,videoTitle:l.string,onCancel:l.func};n.defaultProps={align:'default',striped:false};f.exports=n;}),null);
__d('AdsSelected.react',['cx','ix','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return c('React').createElement(c('FBOverlayContainer.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4ie2"+(this.props.isSelected?' '+"_4ie3":''))}),c('React').createElement(c('FBOverlayBase.react'),null,this.props.children),c('React').createElement(c('FBOverlayElement.react'),{horizontal:'right',vertical:'top'},c('React').createElement(c('Image.react'),{className:"_4ie4"+(!this.props.isSelected?' '+"hidden_elem":''),src:i("23112")})));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={isSelected:l.bool};m.defaultProps={isSelected:true};f.exports=m;}),null);
__d('AdsVideoValidationUtils',['fbt','AdsError','AdsErrorUtils','React'],(function a(b,c,d,e,f,g,h){'use strict';var i={getIcebergErrorNotice:function j(k){var l=h._("This video is not eligible for the additional video content.");return i._getErrorList(i._getErrorDetails(l,k));},getCompletedViewErrorNotice:function j(k){var l=h._("This video is not eligible for completed video view buying.");return i._getErrorList(i._getErrorDetails(l,k));},getInstagramErrorNotice:function j(k,l){var m=void 0;if(l===c('AdsError').Level.RECOMMEND){m=h._("This video can't be used for Instagram ads, but it will still run on Facebook.");}else m=h._("This video can't be used for Instagram ads");var n=[];if(l===c('AdsError').Level.RECOMMEND){n.push(h._("You can choose another video that will run on both Instagram and Facebook."));}else n.push(h._("Choose another video for this ad set."));return i._getErrorList(i._getErrorDetails(m,k,n));},getAudienceNetworkInStreamVideoCTVErrorNotice:function j(k){var l=h._("This video can't be used for Connected TV ads on Audience Network. To use this video for Connected TV ads, you need to:");return i._getErrorList(i._getErrorDetails(l,k));},getAudienceNetworkInStreamVideoErrorNotice:function j(k){var l=h._("This video can't be used for in-stream ads on Audience Network. To run in-stream on Audience Network, you need to:");return i._getErrorList(i._getErrorDetails(l,k));},getInstreamVideoErrorNotice:function j(k){var l=h._("This video can't be used for in-stream ads, but it can still run in your other placements.");return i._getErrorList(i._getErrorDetails(l,k));},_getErrorDetails:function j(k,l,m){var n=[k,'\n'],o=c('AdsErrorUtils').getRawMessages(l);if(o.length>1)o=o.map(function(p){return h._("{bullet} {error message}",[h.param('bullet','\u2022'),h.param('error message',p)]);});if(m)o.concat(m);return n.concat(o);},_getErrorList:function j(k){return c('React').createElement('ul',null,k.map(function(l,m){return c('React').createElement('li',{key:'error_'+m},l);}));}};f.exports=i;}),null);
__d('AdsVideoValidationIcon.react',['errorCode','AdsAccountCapabilities','AdsAccountUtils','AdsError','AdsErrorType_DEPRECATED','AdsErrorUtils','AdsInstagramFields','AdsValidationIcon.react','AdsValidationIconType','AdsVideoBuyingUtils','AdsVideoIcebergUtils','AdsVideoValidationUtils','React','Set'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=new (c('Set'))([1815287,2016029,c('AdsErrorType_DEPRECATED').ADGROUP_CREATIVE_AUDIENCE_NETWORK_INSTREAM_VIDEO_WRONG_LENGTH,c('AdsErrorType_DEPRECATED').ADGROUP_CREATIVE_AUDIENCE_NETWORK_INSTREAM_VIDEO_ASPECT_RATIO_NOT_VALID]),l=new (c('Set'))([1815287,2016029,2016032,1885566,c('AdsErrorType_DEPRECATED').ADGROUP_CREATIVE_AUDIENCE_NETWORK_INSTREAM_VIDEO_ASPECT_RATIO_NOT_VALID]),m=c('AdsInstagramFields').INSTAGRAM_VIDEO_ERROR_KEYS,n=new (c('Set'))([1815484,1815490,1815483,2016019]),o=c('AdsVideoIcebergUtils').ICEBERG_VIDEO_ERRORS,p=c('AdsVideoBuyingUtils').COMPLETED_VIEW_ERRORS;i=babelHelpers.inherits(q,c('React').PureComponent);j=i&&i.prototype;q.prototype.render=function(){var r=c('AdsErrorUtils').getLevelForErrors(this.props.errors),s=c('AdsErrorUtils').getAllErrorsAtLevel(this.props.errors,r);if(s.length===0)return null;var t=[],u=s.filter(function(da){return n.has(da.key);});if(u.length!==0)t.push(c('AdsVideoValidationUtils').getInstreamVideoErrorNotice(u));var v=s.filter(function(da){return m.has(da.key);});if(v.length!==0)t.push(c('AdsVideoValidationUtils').getInstagramErrorNotice(v,r));var w=s.filter(function(da){return k.has(da.key);});if(w.length!==0)t.push(c('AdsVideoValidationUtils').getAudienceNetworkInStreamVideoErrorNotice(w));var x=s.filter(function(da){return l.has(da.key);}),y=c('AdsAccountUtils').hasCapabilityFromList(this.props.accountCapabilities,c('AdsAccountCapabilities').ADS_INSTREAM_CONNECTED_TV);if(x.length!==0&&y)t.push(c('AdsVideoValidationUtils').getAudienceNetworkInStreamVideoCTVErrorNotice(x));var z=s.filter(function(da){return o.has(parseInt(da.key,10));});if(z.length)t.push(c('AdsVideoValidationUtils').getIcebergErrorNotice(z));var aa=s.filter(function(da){return p.has(da.key);});if(aa.length!==0)t.push(c('AdsVideoValidationUtils').getCompletedViewErrorNotice(aa));var ba=function da(ea,fa){if(ea.length===0||ea.length===1)return ea;var ga=[];ea.forEach(function(ha,ia){ga.push(ha);if(ia<ea.length-1)ga.push(fa);});return ga;};t=ba(t,'\n');var ca=c('AdsValidationIconType').ERROR_IMAGE;if(r===c('AdsError').Level.RECOMMEND)ca=c('AdsValidationIconType').WARNING;return c('React').createElement(c('AdsValidationIcon.react'),{className:this.props.className,isError:r===c('AdsError').Level.WARN,messages:t,type:ca});};function q(){i.apply(this,arguments);}f.exports=q;}),null);
__d('AdsVideoItem.react',['cssVar','cx','invariant','AdsError','AdsErrorUtils','AdsTestIDs','AdsTimeUtils','AdsVideoPlayer.react','AdsVideoValidationIcon.react','BackgroundImage.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','GradientBox.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n={small:{width:parseInt("220px",10),height:parseInt("124px",10)},large:{width:parseInt("280px",10),height:parseInt("158px",10)}};k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.componentWillReceiveProps=function(p){if(!p.picture)return;if(this.refs.videoPlayer&&p.picture!==this.props.picture)this.refs.videoPlayer.closePlayer();};o.prototype.render=function(){var p=n[this.props.size],q=this.props.onClick,r=c('AdsErrorUtils').getLevelForErrors(this.props.errors),s=c('AdsErrorUtils').getAllErrorsAtLevel(this.props.errors,r),t=this.$AdsVideoItem1(s,r);if(!this.props.selectableOnErrors&&s.length>0&&r===c('AdsError').Level.WARN)q=null;var u=null;if(this.props.title)u=c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement('div',{className:"_5cl3"+(!!(this.props.length&&!t)?' '+"_5r1m":'')+(!!(this.props.length&&t)?' '+"_19ra":'')},this.props.title));var v=null;if(this.props.length)v=c('React').createElement(c('FBOverlayElement.react'),{horizontal:'right',vertical:'bottom'},c('React').createElement('div',{className:"_5r1p"+(!!t?' '+"_19rb":'')},c('AdsTimeUtils').secondsToString(Math.floor(this.props.length))));var w=c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain',className:"_55v-",height:p.height,src:this.props.picture,width:p.width})),c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement(c('GradientBox.react'),{className:"_5cl2",color:'black',direction:'up'})),u,this.$AdsVideoItem2(t),v);if(this.props.playable){this.props.videoID||j(0);return c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement(c('AdsVideoPlayer.react'),babelHelpers['extends']({},this.props,{playerHeight:p.height,playerWidth:p.width,ref:'videoPlayer',videoID:this.props.videoID}),c('React').createElement(c('Link.react'),{'data-testid':c('AdsTestIDs').VIDEO_BOX,onClick:q},w))),this.$AdsVideoItem3(t));}return c('React').createElement(c('Link.react'),{'data-testid':c('AdsTestIDs').VIDEO_BOX,onClick:q},w);};o.prototype.$AdsVideoItem1=function(p,q){if(p.length===0)return null;return c('React').createElement(c('AdsVideoValidationIcon.react'),{accountCapabilities:this.props.accountCapabilities,className:"_19rc",errors:p});};o.prototype.$AdsVideoItem2=function(p){if(!p)return null;if(this.props.playable)return null;return c('React').createElement(c('FBOverlayElement.react'),{horizontal:'right',vertical:'bottom'},p);};o.prototype.$AdsVideoItem3=function(p){if(!p)return null;if(!this.props.playable)return null;return c('React').createElement(c('FBOverlayElement.react'),{horizontal:'left',vertical:'top'},p);};function o(){k.apply(this,arguments);}o.propTypes={accountCapabilities:m.array,errors:m.arrayOf(m.instanceOf(c('AdsError'))).isRequired,height:m.number.isRequired,isSpherical:m.bool.isRequired,length:m.number.isRequired,picture:m.string.isRequired,playable:m.bool.isRequired,selectableOnErrors:m.bool,size:m.oneOf(Object.keys(n)).isRequired,title:m.string,videoID:m.string,width:m.number.isRequired,onClick:m.func};o.defaultProps={errors:[],size:'small',videoID:null,playable:false,isSpherical:false};f.exports=o;}),null);
__d('AdsVideoPanel.react',['cx','fbt','AdsLoadState_LEGACY','AdsPlusBox.react','AdsProgressBox.react','AdsSelected.react','AdsVideoItem.react','AdsVideoUploadStatus','AdsVideoUtils','BUIAdoptionXUISpinner.react','CenteredContainer.react','FileInput.react','Map','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=new (c('Map'))();j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsVideoPanel4=function(){return this.props.videoList.map(this.$AdsVideoPanel3);}.bind(this),this.$AdsVideoPanel3=function(t,u){if(t.loadState===c('AdsLoadState_LEGACY').LOADING)return c('React').createElement(c('CenteredContainer.react'),{className:"_4hde",key:u,vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));if(!t||!t.preferredThumbnail)return null;var v;if(this.props.selectedVideoIDs){v=this.props.selectedVideoIDs.includes(t.id);}else v=t.id===this.props.selectedVideoID;var w=t.title||t.description||i._("Video ({video ID})",[i.param('video ID',t.id)]),x=this.props.videoErrors.get(t.id)||[];return c('React').createElement(c('AdsSelected.react'),{className:"_414a",isSelected:v,key:'video_'+t.id},c('React').createElement(c('AdsVideoItem.react'),{accountCapabilities:this.props.accountCapabilities,errors:x,height:t.height,isSpherical:t.spherical,length:t.length,picture:t.preferredThumbnail.uri,selectableOnErrors:this.props.selectableOnErrors,size:'small',title:w,width:t.width,onClick:this.props.onVideoClick.bind(null,t.id)}));}.bind(this),p;}n.prototype.render=function(){'use strict';var o=null;if(this.props.showUploader){switch(this.props.uploadStatus){case c('AdsVideoUploadStatus').UPLOADING:o=this.$AdsVideoPanel1(i._("Uploading video"),false);break;case c('AdsVideoUploadStatus').ENCODING:o=this.$AdsVideoPanel1(i._("Encoding video"),true);break;default:o=this.$AdsVideoPanel2();}o=c('React').createElement('div',{className:"_414a _5c2p"},o);}return c('React').createElement('div',{className:"_iux"},o,this.props.videoList.map(this.$AdsVideoPanel3));};n.prototype.$AdsVideoPanel2=function(){'use strict';return c('React').createElement(c('FileInput.react'),{accept:c('AdsVideoUtils').getVideoFileExtensions(),onChange:this.props.onVideoFileChange},c('React').createElement(c('AdsPlusBox.react'),{className:"_1hit"},i._("Upload Video")));};n.prototype.$AdsVideoPanel1=function(o,p){'use strict';return c('React').createElement(c('CenteredContainer.react'),{className:"_ji0",horizontal:false,vertical:true},c('React').createElement(c('AdsProgressBox.react'),{className:"_ji1",progressValue:this.props.uploadProgress,striped:p,subtitle:o,videoTitle:this.props.uploadTitle,onCancel:this.props.onUploadCancel}));};n.propTypes={accountCapabilities:l.array,selectableOnErrors:l.bool,videoErrors:l.instanceOf(c('Map')),videoList:l.array,selectedVideoID:l.string,selectedVideoIDs:l.arrayOf(l.string.isRequired),uploadStatus:l.oneOf(Object.keys(c('AdsVideoUploadStatus'))),uploadProgress:l.number,uploadTitle:l.string,showUploader:l.bool,onVideoClick:l.func,onVideoFileChange:l.func,onUploadCancel:l.func};n.defaultProps={showUploader:true,videoList:[],videoErrors:m,uploadStatus:c('AdsVideoUploadStatus').NONE,onVideoClick:c('emptyFunction')};f.exports=n;}),null);
__d('AdsBidInfoWeights',[],(function a(b,c,d,e,f,g){'use strict';var h={API_ACTIONS:'ACTIONS',API_CLICKS:'CLICKS',API_IMPRESSIONS:'IMPRESSIONS',API_REACH:'REACH',API_SOCIAL:'SOCIAL'};f.exports=h;}),null);
__d('AdsBidTypes',['AdsAPIBidType'],(function a(b,c,d,e,f,g){var h={BID_TYPE_CPC:1,BID_TYPE_CPM:2,BID_TYPE_FCPM:4,BID_TYPE_MULTI_PREMIUM:5,BID_TYPE_MULTI_RELATIVE:6,BID_TYPE_MULTI_ABSOLUTE:7,BID_TYPE_CPM_RTB:8,BID_TYPE_CPA:9},i={};i[h.BID_TYPE_CPC]=c('AdsAPIBidType').CPC;i[h.BID_TYPE_CPM]=c('AdsAPIBidType').CPM;i[h.BID_TYPE_FCPM]=c('AdsAPIBidType').FIXED_CPM;i[h.BID_TYPE_MULTI_PREMIUM]=c('AdsAPIBidType').MULTI_PREMIUM;i[h.BID_TYPE_MULTI_RELATIVE]=c('AdsAPIBidType').RELATIVE_OCPM;i[h.BID_TYPE_MULTI_ABSOLUTE]=c('AdsAPIBidType').ABSOLUTE_OCPM;i[h.BID_TYPE_CPM_RTB]=c('AdsAPIBidType').RTB;i[h.BID_TYPE_CPA]=c('AdsAPIBidType').CPA;var j={};for(var k in i)j[i[k]]=k;h.MIGRATION_MAP=i;h.REVERSE_MIGRATION_MAP=j;f.exports=h;}),null);
__d('AdsImageConstants',['AdsAPIAdgroupPaths','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Record({CREATED_TIME_ASCENDING:'created_time_ascending',CREATED_TIME_DESCENDING:'created_time_descending',HEIGHT_ASCENDING:'height_ascending',HEIGHT_DESCENDING:'height_descending',IMAGE_HASH_PATHS:[c('AdsAPIAdgroupPaths').CREATIVE.IMAGE_HASH,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.IMAGE_HASH,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.IMAGE_HASH],IMAGE_URL_PATHS:[c('AdsAPIAdgroupPaths').CREATIVE.IMAGE_URL,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.URL,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE],MAX_THUMBNAIL_DIMENSION:128,UPLOAD_BOX_ASPECT_RATIO:1.5,WIDTH_ASCENDING:'width_ascending',WIDTH_DESCENDING:'width_descending'});f.exports=new h();}),null);
__d('ConversionPixelStatsTypes',['immutable'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('immutable').Seq({DEVICE:null,DEVICE_OS:null,DOMAIN:null,TRAFFIC:null,URL:null}).map(function(h,i){return i.toLowerCase();}).toObject();}),null);
__d('ConversionStatsTypeToAggregationType',['ConversionPixelStatsTypes'],(function a(b,c,d,e,f,g){'use strict';var h={};h[c('ConversionPixelStatsTypes').DOMAIN]='host';h[c('ConversionPixelStatsTypes').DEVICE]='device_type';h[c('ConversionPixelStatsTypes').DEVICE_OS]='device_os';h[c('ConversionPixelStatsTypes').TRAFFIC]='pixel_fire';h[c('ConversionPixelStatsTypes').URL]='url';f.exports=h;}),null);
__d('AdsOptimizationGoalStrings',['fbt','AdsAPIObjectives','AdsAPIOptimizationGoals','AdsDeliveryOptimizationGoalDescriptionStrings','AdsDeliveryOptimizationGoalTitleStrings','AdsPromotedObjectAppUtils','AdsPromotedObjectTypes','immutable','OffsiteCustomEventType'],(function a(b,c,d,e,f,g,h){'use strict';var i=h._("Link Clicks - Legacy"),j=h._("Clicks on Your Ad"),k=h._("We''ll deliver your ads to the right people to help you get the most clicks from your ad to your app at the lowest cost."),l=h._("We'll deliver your ads to the right people to help you get the most link clicks from your ad to a destination, on or off Facebook, at the lowest cost."),m=h._("We'll deliver your ads to the right people to help you get the most clicks from your ad to your website at the lowest cost."),n=h._("Link Clicks"),o=h._("Link Clicks to Your Website"),p=h._("Engaged Users"),q=h._("We'll deliver your ads to the right people to help you get the most clicks from your ad to your app at the lowest cost."),r=h._("We'll deliver your ads to the right people to help you get the most clicks to your form at the lowest cost."),s=h._("We'll deliver your ads to people who are more likely to click the offsite link in your ad."),t=n,u=h._("We'll deliver your ads to the right people to help you get the most website conversions at the lowest cost."),v=h._("Conversions"),w=h._("We'll deliver your ads to the people who are most likely to take a specific action at least once at the lowest cost."),x=h._("App Events"),y=h._("We'll deliver your ads to people more likely to take action when they see a product from your catalog."),z=h._("Conversion Events"),aa=h._("We'll deliver your ads to people who are more likely to complete an event via your ad."),ba=v,ca=h._("We'll serve your ads to the maximum number of people."),da=h._("Reach"),ea=h._("This option is not recommended."),fa=c('immutable').Map([[c('AdsAPIOptimizationGoals').APP_INSTALLS,h._("Let Facebook set the bid that helps you get the most app installs at the best price.")],[c('AdsAPIOptimizationGoals').BRAND_AWARENESS,h._("Let Facebook set the bid that helps you get the most brand awareness at the best price.")],[c('AdsAPIOptimizationGoals').EVENT_RESPONSES,h._("Let Facebook set the bid that helps you get the most event interest at the best price.")],[c('AdsAPIOptimizationGoals').IMPRESSIONS,h._("Let Facebook set the bid that helps you get the most impressions at the best price.")],[c('AdsAPIOptimizationGoals').LINK_CLICKS,h._("Let Facebook set the bid that helps you get the most link clicks at the best price.")],[c('AdsAPIOptimizationGoals').OFFER_CLAIMS,h._("We'll deliver your ads to the right people to help you get the most offer claims at the lowest cost.")],[c('AdsAPIOptimizationGoals').PAGE_LIKES,h._("Let Facebook set the bid that helps you get the most Page likes at the best price.")],[c('AdsAPIOptimizationGoals').POST_ENGAGEMENT,h._("Let Facebook set the bid that helps you get the most post engagements at the best price.")],[c('AdsAPIOptimizationGoals').REACH,h._("Let Facebook set the bid that helps you get the most reach at the best price.")],[c('AdsAPIOptimizationGoals').VIDEO_VIEWS,h._("Let Facebook set the bid that helps you get the most video views at the best price.")]]),ga=c('immutable').Map([[c('OffsiteCustomEventType').ADD_TO_CART,h._("Let Facebook set the bid that helps you get the most add to carts at the best price.")],[c('OffsiteCustomEventType').COMPLETE_REGISTRATION,h._("Let Facebook set the bid that helps you get the most complete registrations at the best price.")],[c('OffsiteCustomEventType').PURCHASE,h._("Let Facebook set the bid that helps you get the most purchases at the best price.")],[c('OffsiteCustomEventType').INITIATED_CHECKOUT,h._("Let Facebook set the bit that helps you get the most initiated checkouts at the best price.")],[c('OffsiteCustomEventType').SEARCH,h._("Let Facebook set the bit that helps you get the most searches at the best price.")]]),ha=h._("Let Facebook set the bid that helps you get the most results at the best price."),ia=h._("1,000 impressions"),ja=c('immutable').Map([[c('OffsiteCustomEventType').PURCHASE,h._("purchases")],[c('OffsiteCustomEventType').ADD_TO_CART,h._("add to carts")],[c('OffsiteCustomEventType').COMPLETE_REGISTRATION,h._("complete registrations")],[c('OffsiteCustomEventType').INITIATED_CHECKOUT,h._("initiated checkouts")],[c('OffsiteCustomEventType').SEARCH,h._("searches")]]),ka=c('immutable').Map([[c('AdsAPIOptimizationGoals').APP_INSTALLS,h._("app installs")],[c('AdsAPIOptimizationGoals').BRAND_AWARENESS,ia],[c('AdsAPIOptimizationGoals').EVENT_RESPONSES,h._("event responses")],[c('AdsAPIOptimizationGoals').IMPRESSIONS,ia],[c('AdsAPIOptimizationGoals').LINK_CLICKS,h._("link clicks")],[c('AdsAPIOptimizationGoals').OFFER_CLAIMS,h._("offer claims")],[c('AdsAPIOptimizationGoals').PAGE_LIKES,h._("Page likes")],[c('AdsAPIOptimizationGoals').POST_ENGAGEMENT,h._("post engagements")],[c('AdsAPIOptimizationGoals').REACH,ia],[c('AdsAPIOptimizationGoals').VIDEO_VIEWS,h._("video views")]]),la=h._("results"),ma=c('immutable').Map([[c('OffsiteCustomEventType').PURCHASE,h._("purchase")],[c('OffsiteCustomEventType').ADD_TO_CART,h._("add to cart")],[c('OffsiteCustomEventType').COMPLETE_REGISTRATION,h._("complete registration")],[c('OffsiteCustomEventType').INITIATED_CHECKOUT,h._("initiated checkout")],[c('OffsiteCustomEventType').SEARCH,h._("search")]]),na=c('immutable').Map([[c('AdsAPIOptimizationGoals').APP_INSTALLS,h._("app install")],[c('AdsAPIOptimizationGoals').BRAND_AWARENESS,ia],[c('AdsAPIOptimizationGoals').EVENT_RESPONSES,h._("event response")],[c('AdsAPIOptimizationGoals').IMPRESSIONS,ia],[c('AdsAPIOptimizationGoals').LINK_CLICKS,h._("link click")],[c('AdsAPIOptimizationGoals').OFFER_CLAIMS,h._("offer claim")],[c('AdsAPIOptimizationGoals').PAGE_LIKES,h._("Page like")],[c('AdsAPIOptimizationGoals').POST_ENGAGEMENT,h._("post engagement")],[c('AdsAPIOptimizationGoals').REACH,ia],[c('AdsAPIOptimizationGoals').VIDEO_VIEWS,h._("video view")]]),oa=h._("result"),pa={getDescription:function qa(ra,sa,ta){switch(ra){case c('AdsAPIOptimizationGoals').CLICKS:return this._getLegacyClicksDescription(sa);case c('AdsAPIOptimizationGoals').LINK_CLICKS:return this._getLinkClicksDescription(sa,ta);case c('AdsAPIOptimizationGoals').OFFSITE_CONVERSIONS:return this._getOffsiteConversionsDescription(sa,ta);case c('AdsAPIOptimizationGoals').ENGAGED_REACH:case c('AdsAPIOptimizationGoals').REACH:return this._getReachDescription(sa);default:if(ra in c('AdsDeliveryOptimizationGoalDescriptionStrings'))return c('AdsDeliveryOptimizationGoalDescriptionStrings')[ra];return c('AdsDeliveryOptimizationGoalDescriptionStrings')[c('AdsAPIOptimizationGoals').NONE];}},getTitle:function qa(ra,sa,ta,ua){switch(ra){case c('AdsAPIOptimizationGoals').CLICKS:return this._getLegacyClicksTitle(sa);case c('AdsAPIOptimizationGoals').LINK_CLICKS:return this._getLinkClicksTitle(sa,ta);case c('AdsAPIOptimizationGoals').OFFSITE_CONVERSIONS:return this._getOffsiteConversionsTitle(sa,ta);case c('AdsAPIOptimizationGoals').ENGAGED_REACH:case c('AdsAPIOptimizationGoals').REACH:return this._getReachTitle(sa);default:var va=c('AdsDeliveryOptimizationGoalTitleStrings')[ra];if(va)return va;return ra;}},getAutomaticBidString:function qa(ra,sa){if(ra===c('AdsAPIOptimizationGoals').OFFSITE_CONVERSIONS)return ga.get(sa)||ha;return fa.get(ra)||ha;},getManualBidString:function qa(ra,sa){var ta=pa.getResultTypeString(ra,'plural',sa);return h._("Enter a bid based on what {result type} are worth to you.",[h.param('result type',ta)]);},getResultTypeString:function qa(ra){var sa=arguments.length<=1||arguments[1]===undefined?'singular':arguments[1],ta=arguments[2];if(sa==='plural'){if(ra===c('AdsAPIOptimizationGoals').OFFSITE_CONVERSIONS)return ja.get(ta)||la;return ka.get(ra)||la;}if(ra===c('AdsAPIOptimizationGoals').OFFSITE_CONVERSIONS)return ma.get(ta)||oa;return na.get(ra)||oa;},getOptimizationGoalWarningMessage:function qa(ra){if(c('AdsPromotedObjectAppUtils').isAppType(ra)){return h._("With this option, your ad delivery won't be optimized for app events using the app event selected above. To get the most conversions at the lowest cost, select the App Events optimization instead.");}else if(ra===c('AdsPromotedObjectTypes').PIXEL)return h._("With this option, your ad delivery won't be optimized for conversions using the pixel selected above. To get the most conversions at the lowest cost, select the Conversions optimization instead.");return null;},getOptimizationGoalInfoMessage:function qa(ra){if(ra===c('AdsAPIOptimizationGoals').LANDING_PAGE_VIEWS)return h._("This option requires a pixel.");return null;},objectiveHasRecommendedOptimizationGoal:function qa(ra){return ra!==c('AdsAPIObjectives').POST_ENGAGEMENT;},_getLinkClicksDescription:function qa(ra,sa){return l;},_getLegacyClicksDescription:function qa(ra){if(ra===c('AdsAPIObjectives').MOBILE_APP_ENGAGEMENT)return k;return s;},_getLegacyClicksTitle:function qa(ra){switch(ra){case c('AdsAPIObjectives').MOBILE_APP_ENGAGEMENT:return i;default:return j;}},_getLinkClicksTitle:function qa(ra,sa){switch(ra){case c('AdsAPIObjectives').LINK_CLICKS:case c('AdsAPIObjectives').CONVERSIONS:return n;default:return t;}},_getOffsiteConversionsDescription:function qa(ra,sa){switch(ra){case c('AdsAPIObjectives').LINK_CLICKS:case c('AdsAPIObjectives').CONVERSIONS:return c('AdsPromotedObjectAppUtils').isAppType(sa)?w:u;case c('AdsAPIObjectives').APP_INSTALLS:case c('AdsAPIObjectives').CANVAS_APP_ENGAGEMENT:case c('AdsAPIObjectives').CANVAS_APP_INSTALLS:case c('AdsAPIObjectives').MOBILE_APP_ENGAGEMENT:case c('AdsAPIObjectives').MOBILE_APP_INSTALLS:return w;case c('AdsAPIObjectives').PRODUCT_CATALOG_SALES:return y;default:return aa;}},_getOffsiteConversionsTitle:function qa(ra,sa){switch(ra){case c('AdsAPIObjectives').LINK_CLICKS:case c('AdsAPIObjectives').CONVERSIONS:return c('AdsPromotedObjectAppUtils').isAppType(sa)?x:v;case c('AdsAPIObjectives').APP_INSTALLS:case c('AdsAPIObjectives').CANVAS_APP_ENGAGEMENT:case c('AdsAPIObjectives').CANVAS_APP_INSTALLS:case c('AdsAPIObjectives').MOBILE_APP_ENGAGEMENT:case c('AdsAPIObjectives').MOBILE_APP_INSTALLS:return x;case c('AdsAPIObjectives').PRODUCT_CATALOG_SALES:return z;default:return ba;}},_getReachDescription:function qa(ra){switch(ra){case c('AdsAPIObjectives').REACH:case c('AdsAPIObjectives').BRAND_AWARENESS:return ca;default:return c('AdsDeliveryOptimizationGoalDescriptionStrings')[c('AdsAPIOptimizationGoals').REACH];}},_getReachTitle:function qa(ra){switch(ra){case c('AdsAPIObjectives').REACH:case c('AdsAPIObjectives').BRAND_AWARENESS:return da;default:return c('AdsDeliveryOptimizationGoalTitleStrings')[c('AdsAPIOptimizationGoals').REACH];}}};f.exports=pa;}),null);
__d('AdsCFDefaultConversionPixelLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'cfDefaultConversionPixelLoaded',actionType:'ADS_CF.DEFAULT_CONVERSION_PIXEL_LOADED'};f.exports=h;}),null);
__d('AdsCFDefaultConversionPixelLoadedDataAction',['AdsCFDefaultConversionPixelLoadedDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCFDefaultConversionPixelLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsConversionPixelDataLoader',['invariant','AdsGraphAPI','AdsPixelStatusUtils','ConversionStatsTypeToAggregationType','GraphAPIPaging'],(function a(b,c,d,e,f,g,h){'use strict';var i=['id','last_firing_time','name','tag','js_pixel'];j.prototype.getAdsAPIFetchPromiseForPixels=function(l){return c('AdsGraphAPI').get(f.id).adaccount(l).edge('offsitepixels').get({fields:i}).then(c('GraphAPIPaging').allPages());};j.prototype.getAdsAPIFetchPromiseForPixel=function(l){return c('AdsGraphAPI').get(f.id).object('offsitepixels',l).get({fields:i});};j.prototype.getAdsAPIFetchPromiseForStats=function(l,m){l in c('ConversionStatsTypeToAggregationType')||h(0);return c('AdsGraphAPI').get(f.id).object('offsitepixels',m).edge('stats').get({aggregation:c('ConversionStatsTypeToAggregationType')[l],start_time:c('AdsPixelStatusUtils').getStatsStartTime()});};j.prototype.getAdsAPIFetchPromiseForRawFires=function(l){return c('AdsGraphAPI').get(f.id).object('offsitepixels',l).edge('raw_fires').get();};j.prototype.getAdsAPIFetchPromiseForRawFiresByFilter=function(l,m,n){return c('AdsGraphAPI').get(f.id).object('offsitepixels',l).edge('raw_fires').get({filter_type:c('ConversionStatsTypeToAggregationType')[m],filter:n});};function j(){}var k=new j();f.exports=k;}),null);
__d('AdsConversionPixelServerActions',['AdsDataActionTypes','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={loadingError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({error:j,type:c('AdsDataActionTypes').conversionPixelBatchLoadError});},updatePixels:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({lastPage:k,pixels:j,type:c('AdsDataActionTypes').conversionPixelUpdatePixels});},updatePixelStats:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({statsType:j,pixelID:k,stats:l,type:c('AdsDataActionTypes').conversionPixelUpdatePixelStats});},updateRawFires:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({pixelID:j,rawFires:k,type:c('AdsDataActionTypes').conversionPixelReceiveRawFires});},updateRawFiresByFilter:function i(j,k,l,m){c('AdsDispatcher').handleUpdateFromServerResponse({pixelID:j,filterType:k,filter:l,rawFires:m,type:c('AdsDataActionTypes').conversionPixelReceiveRawFiresByFilter});}};f.exports=h;}),null);
__d("XAdsDefaultConversionPixelController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/conversion_pixel\/default_pixel\/",{account_id:{type:"Int",required:true},domain:{type:"String",required:true}});}),null);
__d('AdsConversionPixelDataDispatcher',['AdsCFDefaultConversionPixelLoadedDataAction','AdsConversionPixelDataLoader','AdsConversionPixelServerActions','AsyncRequest','XAdsDefaultConversionPixelController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.loadPixels=function(j){c('AdsConversionPixelDataLoader').getAdsAPIFetchPromiseForPixels(j).then(function(k){return c('AdsConversionPixelServerActions').updatePixels(k.data);},function(k){return c('AdsConversionPixelServerActions').loadingError(k);}).done();};h.prototype.loadPixel=function(j){c('AdsConversionPixelDataLoader').getAdsAPIFetchPromiseForPixel(j).then(function(k){return c('AdsConversionPixelServerActions').updatePixels([k]);},function(k){return c('AdsConversionPixelServerActions').loadingError(k);}).done();};h.prototype.loadStats=function(j,k){c('AdsConversionPixelDataLoader').getAdsAPIFetchPromiseForStats(j,k).then(function(l){return c('AdsConversionPixelServerActions').updatePixelStats(j,k,l.data);},function(l){return c('AdsConversionPixelServerActions').loadingError(l);}).done();};h.prototype.loadRawFires=function(j){c('AdsConversionPixelDataLoader').getAdsAPIFetchPromiseForRawFires(j).then(function(k){return c('AdsConversionPixelServerActions').updateRawFires(j,k.data);},function(k){return c('AdsConversionPixelServerActions').loadingError(k);}).done();};h.prototype.loadRawFiresByFilter=function(j,k,l){c('AdsConversionPixelDataLoader').getAdsAPIFetchPromiseForRawFiresByFilter(j,k,l).then(function(m){return c('AdsConversionPixelServerActions').updateRawFiresByFilter(j,k,l,m.data);},function(m){return c('AdsConversionPixelServerActions').loadingError(m);}).done();};h.prototype.loadDefaultPixel=function(j,k){var l=c('XAdsDefaultConversionPixelController').getURIBuilder().setInt('account_id',j).setString('domain',k).getURI();new (c('AsyncRequest'))().setURI(l).setHandler(function(m){c('AdsCFDefaultConversionPixelLoadedDataAction').dispatch({data:m.payload});}).send();};function h(){}var i=new h();f.exports=i;}),null);
__d('AdsProductSetBatchCreateErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetBatchCreateError',actionType:'PRODUCT_SET.BATCH_CREATE_ERROR'};f.exports=h;}),null);
__d('AdsProductSetBatchCreateErrorDataAction',['AdsDataActionCreator','AdsProductSetBatchCreateErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetBatchCreateErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetBatchDeleteErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetBatchDeleteError',actionType:'PRODUCT_SET.BATCH_DELETE_ERROR'};f.exports=h;}),null);
__d('AdsProductSetBatchDeleteErrorDataAction',['AdsDataActionCreator','AdsProductSetBatchDeleteErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetBatchDeleteErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetBatchDeletedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetBatchDeleted',actionType:'PRODUCT_SET.BATCH_DELETED'};f.exports=h;}),null);
__d('AdsProductSetBatchDeletedDataAction',['AdsDataActionCreator','AdsProductSetBatchDeletedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetBatchDeletedDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetBatchLoadError',actionType:'PRODUCT_SET.BATCH_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsProductSetBatchLoadErrorDataAction',['AdsDataActionCreator','AdsProductSetBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetBatchLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetBatchLoaded',actionType:'PRODUCT_SET.BATCH_LOADED'};f.exports=h;}),null);
__d('AdsProductSetBatchLoadedDataAction',['AdsDataActionCreator','AdsProductSetBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetBatchLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetCancelCreationDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetCancelCreation',actionType:'PRODUCT_SET.CANCEL_CREATION'};f.exports=h;}),null);
__d('AdsProductSetCancelCreationDataAction',['AdsDataActionCreator','AdsProductSetCancelCreationDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetCancelCreationDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetCreateBatchDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetCreateBatch',actionType:'PRODUCT_SET.CREATE_BATCH'};f.exports=h;}),null);
__d('AdsProductSetCreateBatchDataAction',['AdsDataActionCreator','AdsProductSetCreateBatchDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetCreateBatchDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetDefaultIdForEventSourceLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetDefaultIdForEventSourceLoadError',actionType:'PRODUCT_SET.DEFAULT_ID_FOR_EVENT_SOURCE_LOAD_ERROR'};f.exports=h;}),null);
__d('AdsProductSetDefaultIdForEventSourceLoadErrorDataAction',['AdsDataActionCreator','AdsProductSetDefaultIdForEventSourceLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetDefaultIdForEventSourceLoadErrorDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetDefaultIdForEventSourceLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetDefaultIdForEventSourceLoaded',actionType:'PRODUCT_SET.DEFAULT_ID_FOR_EVENT_SOURCE_LOADED'};f.exports=h;}),null);
__d('AdsProductSetDefaultIdForEventSourceLoadedDataAction',['AdsDataActionCreator','AdsProductSetDefaultIdForEventSourceLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetDefaultIdForEventSourceLoadedDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetDeleteBatchDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetDeleteBatch',actionType:'PRODUCT_SET.DELETE_BATCH'};f.exports=h;}),null);
__d('AdsProductSetDeleteBatchDataAction',['AdsDataActionCreator','AdsProductSetDeleteBatchDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetDeleteBatchDataActionPlugin'));f.exports=h;}),null);
__d('AdsProductSetActions',['AdsActionTypes','AdsDispatcher','AdsProductSetBatchCreateErrorDataAction','AdsProductSetBatchDeletedDataAction','AdsProductSetBatchDeleteErrorDataAction','AdsProductSetBatchLoadedDataAction','AdsProductSetBatchLoadErrorDataAction','AdsProductSetCancelCreationDataAction','AdsProductSetCreateBatchDataAction','AdsProductSetDefaultIdForEventSourceLoadedDataAction','AdsProductSetDefaultIdForEventSourceLoadErrorDataAction','AdsProductSetDeleteBatchDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={productSetBatchLoaded:function i(j){c('AdsProductSetBatchLoadedDataAction').dispatch({productSets:j});},productSetBatchLoadError:function i(j){c('AdsProductSetBatchLoadErrorDataAction').dispatch({errors:j});},productSetBatchCreated:function i(j,k,l,m,n){c('AdsDispatcher').handleUpdateFromServerResponse({productCatalogID:j,productSetID:k,productSetName:l,source:m,isSuggested:n,data:babelHelpers['extends']({},m),type:c('AdsActionTypes').PRODUCT_SET.BATCH_CREATED});},productSetBatchCreateError:function i(j){c('AdsProductSetBatchCreateErrorDataAction').dispatch({errors:j});},cancelProductSetCreation:function i(j){c('AdsProductSetCancelCreationDataAction').dispatch({productCatalogID:j});},createProductSet:function i(j,k,l){c('AdsProductSetCreateBatchDataAction').dispatch({objectsData:[k],productCatalogID:j,source:l});},deleteProductSet:function i(j,k){c('AdsProductSetDeleteBatchDataAction').dispatch({productCatalogID:j,productSetIDs:[k]});},productSetBatchDeleted:function i(j){c('AdsProductSetBatchDeletedDataAction').dispatch({productCatalogID:j});},productSetBatchDeleteError:function i(j){c('AdsProductSetBatchDeleteErrorDataAction').dispatch({errors:j});},defaultIDForEventSourceLoaded:function i(j,k){c('AdsProductSetDefaultIdForEventSourceLoadedDataAction').dispatch({businessEventSourceRecord:j,productSetID:k});},defaultIDForEventSourceLoadError:function i(j,k){c('AdsProductSetDefaultIdForEventSourceLoadErrorDataAction').dispatch({businessEventSourceRecord:j});}};f.exports=h;}),null);
__d('AdsConnectionObjectListDataManager',['AdsAPIAdAccountFields','AdsBaseListDataManager','AdsConnectionObjectActions','AdsGraphAPI','GraphAPIPaging'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseListDataManager'));i=h&&h.prototype;j.prototype.loadFor=function(l){c('AdsGraphAPI').get(f.id).adaccount(l).edge(c('AdsAPIAdAccountFields').CONNECTIONOBJECTS).get().then(c('GraphAPIPaging').eachPage(function(m){return c('AdsConnectionObjectActions').connectionObjectListPartialLoad(l,m.data);})).done(function(m){return this.__handleSuccess(['load'],l,null,m);}.bind(this),function(m){return this.__handleError(['load'],l,null,m);}.bind(this));};j.prototype.__onBatchLoaded=function(l){l.forEach(function(m,n){c('AdsConnectionObjectActions').connectionObjectListLoaded(n,m.data);});};j.prototype.__onBatchLoadError=function(l){l.forEach(function(m,n){c('AdsConnectionObjectActions').connectionObjectListLoadError(n);});};function j(){h.apply(this,arguments);}var k=new j();f.exports=k;}),null);
__d('ProductSetField',[],(function a(b,c,d,e,f,g){'use strict';var h={AUTO_CREATION_URL:'auto_creation_url',ID:'id',FILTER:'filter',NAME:'name',PRODUCT_CATALOG:'product_catalog',PRODUCT_COUNT:'product_count'};f.exports=h;}),null);
__d('AdsProductSetDataManager',['fbt','AdsBaseDataManager','AdsGraphAPI','AdsProductSetActions','ProductCatalogField','ProductSetField'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=[c('ProductSetField').AUTO_CREATION_URL,c('ProductSetField').FILTER,c('ProductSetField').NAME,c('ProductSetField').PRODUCT_COUNT,c('ProductSetField').PRODUCT_CATALOG+'{'+c('ProductCatalogField').VERTICAL+'}'],l=k.filter(function(o){return o!==c('ProductSetField').PRODUCT_COUNT;});i=babelHelpers.inherits(m,c('AdsBaseDataManager'));j=i&&i.prototype;m.prototype.loadAll=function(o){o.forEach(function(p){return this.load(p);}.bind(this));};m.prototype.load=function(o){c('AdsGraphAPI').get(f.id).object('product_set',o).batched().get({fields:k}).done(this.__handleSuccess.bind(this,['load'],o,null),this.__reloadWithoutProductSearch.bind(this,['load'],o,null));};m.prototype.__reloadWithoutProductSearch=function(o,p,q,r){c('AdsGraphAPI').get(f.id).object('product_set',p).batched().get({fields:l}).done(this.__handleSuccess.bind(this,o,p,q),this.__handleError.bind(this,o,p,q));};m.prototype.createProductSetsForProductCatalog=function(o,p,q){p.forEach(function(r){c('AdsGraphAPI').get(f.id).object('product_catalog',o).edge('product_sets').post(r).done(function(s){return this.__handleSuccess(['create'],r.tempID,null,babelHelpers['extends']({},s,{productCatalogID:o,source:q,name:r.name,isSuggested:r.isSuggested}));}.bind(this),function(s){s.productCatalogID=o;this.__handleError(['create'],r.tempID,null,s);}.bind(this));}.bind(this));};m.prototype.deleteProductSetsForProductCatalog=function(o,p){p.forEach(function(q){c('AdsGraphAPI').get(f.id).object('product_set',q).batched().remove().done(function(r){return this.__handleSuccess(['delete'],q,null,babelHelpers['extends']({},r,{productCatalogID:o}));}.bind(this),function(r){r.productCatalogID=o;this.__handleError(['delete'],q,null,r);}.bind(this));}.bind(this));};m.prototype.__onBatchDeleted=function(o){var p=o.values().next().value;p&&c('AdsProductSetActions').productSetBatchDeleted(p.productCatalogID);};m.prototype.__onBatchDeleteError=function(o){c('AdsProductSetActions').productSetBatchDeleteError(o);};m.prototype.__onBatchLoaded=function(o){c('AdsProductSetActions').productSetBatchLoaded(o);};m.prototype.__onBatchLoadError=function(o){c('AdsProductSetActions').productSetBatchLoadError(o);};m.prototype.__onBatchCreated=function(o){var p=o.values().next().value;p&&c('AdsProductSetActions').productSetBatchCreated(p.productCatalogID,p.id,p.name,p.source,p.isSuggested||false);};m.prototype.__onBatchCreateError=function(o){c('AdsProductSetActions').productSetBatchCreateError(o);};m.prototype.__getObjectTypeLabel=function(){return h._("Product Set");};function m(){i.apply(this,arguments);}var n=new m();f.exports=n;}),null);
__d('AdsPromotablePageListDataManager',['AdsBaseListDataManager','AdsGraphAPI','AdsPageFields','AdsPromotablePageActions','GraphAPIPaging'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseListDataManager'));i=h&&h.prototype;j.prototype.loadFor=function(k){c('AdsGraphAPI').get(f.id).me().edge('accounts').get({is_promotable:true,fields:c('AdsPageFields').forCurrentUser(),limit:100}).then(c('GraphAPIPaging').eachPage(function(l){return c('AdsPromotablePageActions').partialLoad(k,l.data);})).done(function(l){return this.__handleSuccess(['load'],k,null,l);}.bind(this),function(l){return this.__handleError(['load'],k,null,l);}.bind(this));};j.prototype.__onBatchLoaded=function(k){k.forEach(function(l,m){c('AdsPromotablePageActions').listLoaded(m,l.data);});};j.prototype.__onBatchLoadError=function(k){k.forEach(function(l,m){c('AdsPromotablePageActions').listLoadError(m);});};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AdsBaseConnectionObjectListStore',['AdsAPIConnectionObjectFields','AdsBaseListStore','AdsConnectionObjectListDataManager','AdsDataActionTypes','AdsLoadState_LEGACY','abstractMethod'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseListStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsConnectionObjectListDataManager');};j.prototype.getSortKey=function(){return c('AdsAPIConnectionObjectFields').NAME;};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.actionType){case c('AdsDataActionTypes').connectionObjectListBatchLoaded:this.__handleDataFor(l.accountID,this.$AdsBaseConnectionObjectListStore1(l.connectionObjects),c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').connectionObjectListPartialLoad:this.__handleDataFor(l.accountID,this.$AdsBaseConnectionObjectListStore1(l.connectionObjects),c('AdsLoadState_LEGACY').LOADING);break;case c('AdsDataActionTypes').connectionObjectListBatchLoadError:this.__handleDataFor(l.accountID,null,c('AdsLoadState_LEGACY').ERROR);break;}};j.prototype.$AdsBaseConnectionObjectListStore1=function(k){return k.filter(this.__filterConnectionObject);};j.prototype.__filterConnectionObject=function(k){return c('abstractMethod')('AdsBaseConnectionObjectListStore','__filterConnectionObject');};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('AdsPageSelectorStore',['AdsAssetSectionType','AdsDataActionTypes','AdsDispatcher','ApiPageFields','DefaultSettingsValues','FluxStore','adsBaseStoreMixin_DEPRECATED','removeFromArray'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin_DEPRECATED')(this);this.$AdsPageSelectorStoreClass5='';this.$AdsPageSelectorStoreClass6='';this.$AdsPageSelectorStoreClass3='';this.$AdsPageSelectorStoreClass1=[];this.$AdsPageSelectorStoreClass7=[];}j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsDataActionTypes').pageListBatchLoaded:this.$AdsPageSelectorStoreClass8(m.pages);break;case c('AdsDataActionTypes').pageSelectorChange:this.$AdsPageSelectorStoreClass9(m.pageID,m.businessID,m.sectionType);break;case c('AdsDataActionTypes').pageSelectorBookmark:this.$AdsPageSelectorStoreClass10(m.pageID);break;case c('AdsDataActionTypes').pageSelectorSearch:this.$AdsPageSelectorStoreClass11(m.searchQuery);break;case c('AdsDataActionTypes').pageSelectorRemove:this.$AdsPageSelectorStoreClass12(m.pageID,m.sectionType);break;case c('AdsDataActionTypes').pageSelectorInit:this.$AdsPageSelectorStoreClass13(m.pageID,m.businessID,m.section,m.bookmarkedPageIDs||[],m.unownedPageIDs||[]);break;}};j.prototype.getSelectedPageID=function(){return this.$AdsPageSelectorStoreClass5;};j.prototype.getSelectedBusinessID=function(){return this.$AdsPageSelectorStoreClass4;};j.prototype.getSelectedSectionType=function(){return this.$AdsPageSelectorStoreClass6;};j.prototype.getSearchQuery=function(){return this.$AdsPageSelectorStoreClass3;};j.prototype.getUnownedPageIDs=function(){return this.$AdsPageSelectorStoreClass7;};j.prototype.getBookmarkedPageIDs=function(){return this.$AdsPageSelectorStoreClass1;};j.prototype.$AdsPageSelectorStoreClass9=function(l,m,n){this.$AdsPageSelectorStoreClass5=l;this.$AdsPageSelectorStoreClass4=m;this.$AdsPageSelectorStoreClass6=n;if(n===c('AdsAssetSectionType').SEARCH){this.$AdsPageSelectorStoreClass3='';this.$AdsPageSelectorStoreClass6=c('AdsAssetSectionType').UNOWNED;if(!this.$AdsPageSelectorStoreClass7.includes(l))this.$AdsPageSelectorStoreClass7.push(l);}this.__emitChange();};j.prototype.$AdsPageSelectorStoreClass10=function(l){if(!this.$AdsPageSelectorStoreClass1.includes(l)){this.$AdsPageSelectorStoreClass1.push(l);this.__emitChange();}};j.prototype.$AdsPageSelectorStoreClass11=function(l){this.$AdsPageSelectorStoreClass3=l;this.__emitChange();};j.prototype.$AdsPageSelectorStoreClass8=function(l){if(!this.$AdsPageSelectorStoreClass5&&l.length>0){var m=l[0];this.$AdsPageSelectorStoreClass5=m.id;var n=m[c('ApiPageFields').BUSINESS];if(n&&n.id)this.$AdsPageSelectorStoreClass4=n.id;this.$AdsPageSelectorStoreClass6=c('AdsAssetSectionType').OWNED;this.__emitChange();}};j.prototype.$AdsPageSelectorStoreClass12=function(l,m){switch(m){case c('AdsAssetSectionType').BOOKMARKED:c('removeFromArray')(this.$AdsPageSelectorStoreClass1,l);if(l===this.$AdsPageSelectorStoreClass5&&this.$AdsPageSelectorStoreClass6===c('AdsAssetSectionType').BOOKMARKED)this.$AdsPageSelectorStoreClass14();break;case c('AdsAssetSectionType').UNOWNED:c('removeFromArray')(this.$AdsPageSelectorStoreClass7,l);if(l===this.$AdsPageSelectorStoreClass5)this.$AdsPageSelectorStoreClass14();break;}this.__emitChange();};j.prototype.$AdsPageSelectorStoreClass14=function(){this.$AdsPageSelectorStoreClass5='';this.$AdsPageSelectorStoreClass4=null;this.$AdsPageSelectorStoreClass6='';};j.prototype.$AdsPageSelectorStoreClass13=function(l,m,n,o,p){this.$AdsPageSelectorStoreClass5=l||'';this.$AdsPageSelectorStoreClass4=m;this.$AdsPageSelectorStoreClass6=n||c('DefaultSettingsValues').ASSET_SECTION_TYPE;this.$AdsPageSelectorStoreClass1=o;this.$AdsPageSelectorStoreClass7=p;this.__emitChange();};var k=new j();f.exports=k;}),null);
__d('AdsProductSetStore',['AdsActionTypes','AdsBaseDataStore','AdsDataActionTypes','AdsLoadState_LEGACY','AdsProductSetDataManager','ProductCatalogBusinessEventName','ProductCatalogBusinessEventsLoggerHelper'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;function j(){i.constructor.call(this);this.creationResponse=null;}j.prototype.getDataManager=function(){return c('AdsProductSetDataManager');};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsDataActionTypes').productSetBatchLoaded:this.__handleData(l.productSets,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').productSetBatchDeleteError:case c('AdsDataActionTypes').productSetBatchLoadError:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;case c('AdsDataActionTypes').productSetBatchCreateError:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);l.errors.forEach(function(m,n){if(m.code==10803){this.creationResponse={result:'duplicate',duplicateId:m.error_data.product_set_id};this.__emitChange();}}.bind(this));break;case c('AdsDataActionTypes').productSetCreateBatch:this.$AdsProductSetStore1(l.productCatalogID,l.objectsData,l.source);break;case c('AdsActionTypes').PRODUCT_SET.BATCH_CREATED:this.creationResponse={result:'success',productSetID:l.productSetID};this.__emitChange();if(l.isSuggested)c('ProductCatalogBusinessEventsLoggerHelper').getProductSetsSelectorDialogLogger(l.productCatalogID).setEvent(c('ProductCatalogBusinessEventName').SUGGESTED_PRODUCT_SET_CREATED).setActionData({product_set_id:l.productSetID}).log();break;case c('AdsDataActionTypes').productSetDeleteBatch:this.$AdsProductSetStore2(l.productCatalogID,l.productSetIDs);break;}};j.prototype.$AdsProductSetStore2=function(k,l){c('AdsProductSetDataManager').deleteProductSetsForProductCatalog(k,l);};j.prototype.$AdsProductSetStore1=function(k,l,m){c('AdsProductSetDataManager').createProductSetsForProductCatalog(k,l,m);};j.prototype.retrieveCreationResponse=function(){var k=this.creationResponse;this.creationResponse=null;return k;};j.prototype.getCachedCreationResponse=function(){return this.creationResponse;};f.exports=new j();}),null);
__d('AdsPromotablePageListStore',['AdsBaseConnectionObjectListStore','AdsConnectionObjectUtils','AdsDataActionTypes','AdsDispatcher','AdsEditorConfig','AdsLoadState_LEGACY','AdsPageSelectorStore','AdsPromotablePageListDataManager','CurrentUser'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseConnectionObjectListStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsPromotablePageListDataManager');};j.prototype.__filterConnectionObject=function(l){return c('AdsConnectionObjectUtils').isPage(l);};j.prototype.__onDispatch=function(l){if(c('AdsEditorConfig').empl_show_all_pages)i.__onDispatch.call(this,l);var m=l.action;switch(m.actionType){case c('AdsDataActionTypes').promotablePageListBatchLoaded:this.__handleDataFor(m.accountID,m.promotablePages,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').promotablePageListPartialLoad:this.__handleDataFor(m.accountID,m.promotablePages,c('AdsLoadState_LEGACY').LOADING);break;case c('AdsDataActionTypes').promotablePageListBatchLoadError:this.__handleDataFor(m.accountID,null,c('AdsLoadState_LEGACY').ERROR);break;}c('AdsDispatcher').waitFor([c('AdsPageSelectorStore').getDispatchToken()]);if(c('AdsPageSelectorStore').hasChanged())this.__emitChange();};j.prototype.getFor=function(l){var m=i.getFor.call(this,l);if(!c('CurrentUser').isEmployee())return m;return {list:m.list.concat(c('AdsPageSelectorStore').getUnownedPageIDs()),loadState:m.loadState};};function j(){h.apply(this,arguments);}var k=new j();f.exports=k;}),null);
__d('AdsPixelConversionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h={NEW:null,LEGACY:null,NONE:null,MIXED:null},i=c('keyMirror')(h);f.exports=i;}),null);
__d('AdsBidOptions',[],(function a(b,c,d,e,f,g){'use strict';var h={ACTIONS:'actions',CLICKS:'clicks',IMPRESSIONS:'impressions',OCPM_ACTIONS:'ocpm_actions',OCPM_REACH:'ocpm_reach'};f.exports=h;}),null);
__d('AdsBidUtils',['fbt','AdsAPIBidInfoFields','AdsAPIBidInfoFieldsLabels','AdsAPIBidType','AdsAPIOptimizationGoals','AdsAPIReachEstimateFields','AdsBidInfoWeights','AdsBidOptions','AdsBidTypes','AdsCurrencyFormatter','AdsPEImportExportConstants','StrSet'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsPEImportExportConstants').Bid,j=new (c('StrSet'))([c('AdsAPIOptimizationGoals').CLICKS]),k=new (c('StrSet'))([c('AdsAPIOptimizationGoals').IMPRESSIONS,c('AdsAPIOptimizationGoals').REACH]),l={};l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]={apiValue:c('AdsAPIBidType').MULTI_PREMIUM,text:h._("Multi Premium"),value:c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM,tabSeparated:[i.MULTI_PREMIUM,'multi premium','multi_premium'],bidOption:c('AdsBidOptions').IMPRESSIONS};l[c('AdsBidTypes').BID_TYPE_FCPM]={apiValue:c('AdsAPIBidType').FIXED_CPM,text:h._("FCPM"),value:c('AdsBidTypes').BID_TYPE_FCPM,tabSeparated:[i.FIXED_CPM,'cpm_fixed'],bidOption:c('AdsBidOptions').IMPRESSIONS};l[c('AdsBidTypes').BID_TYPE_CPC]={apiValue:c('AdsAPIBidType').CPC,text:h._("CPC"),value:c('AdsBidTypes').BID_TYPE_CPC,tabSeparated:[i.CPC],bidOption:c('AdsBidOptions').CLICKS};l[c('AdsBidTypes').BID_TYPE_CPM]={apiValue:c('AdsAPIBidType').CPM,text:h._("CPM"),value:c('AdsBidTypes').BID_TYPE_CPM,tabSeparated:[i.CPM],bidOption:c('AdsBidOptions').IMPRESSIONS};l[c('AdsBidTypes').BID_TYPE_MULTI_ABSOLUTE]={apiValue:c('AdsAPIBidType').ABSOLUTE_OCPM,text:h._("Optimized CPM"),value:c('AdsBidTypes').BID_TYPE_MULTI_ABSOLUTE,tabSeparated:[i.ABSOLUTE_OCPM,'multi_absolute'],bidOption:c('AdsBidOptions').IMPRESSIONS};l[c('AdsBidTypes').BID_TYPE_CPA]={apiValue:c('AdsAPIBidType').CPA,text:h._("CPA"),value:c('AdsBidTypes').BID_TYPE_CPA,tabSeparated:[i.CPA],bidOption:c('AdsBidOptions').OCPM_ACTIONS};var m={};for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)){var o=l[n];o.tabSeparated.forEach(function(q){m[q]=o;});}var p={RANGE_THRESHOLD:5,getCPCMigrationBidTypeString:function q(r,s){switch(s){case c('AdsAPIBidType').CPC:return h._("Legacy CPC");case c('AdsAPIBidType').CPA:return h._("CPC");}return p.getBidTypeString(s);},getBidTypeString:function q(r){switch(r){case c('AdsAPIBidType').ABSOLUTE_OCPM:return h._("Optimized CPM");case c('AdsAPIBidType').CPA:return h._("CPA");case c('AdsAPIBidType').CPC:return h._("CPC");case c('AdsAPIBidType').CPM:return h._("CPM");case c('AdsAPIBidType').FIXED_CPM:return h._("FCPM");case c('AdsAPIBidType').FIXED_PRICING:return h._("FCPC");case c('AdsAPIBidType').MULTI_PREMIUM:return h._("Multi");case c('AdsAPIBidType').RELATIVE_OCPM:return h._("Optimized CPM");case c('AdsAPIBidType').RTB:return h._("CPM RTB");default:return '';}},getBidInfoFieldLabel:function q(r){return c('AdsAPIBidInfoFieldsLabels')[r]||r;},getBidTypeInfo:function q(r){var s=p.bidTypeToLegacyValue(r);return l[s];},getBidValueString:function q(r,s,t,u){var v=Object.keys(s).map(function(w){return s[w];}).filter(function(w){return !!w;});if(u||v.length!==1||r===c('AdsAPIBidType').MULTI_PREMIUM||r===c('AdsAPIBidType').RELATIVE_OCPM||r===c('AdsAPIBidType').RTB)return p.getAutoLabel();return c('AdsCurrencyFormatter').formatCurrencyWithNumberDelimiters(t,v[0]);},getAutoLabel:function q(){return h._("Auto");},options:function q(r){return p._filteredOptions(r);},bidTypeFromLegacyValue:function q(r){return c('AdsBidTypes').MIGRATION_MAP[r]||r;},bidTypeToLegacyValue:function q(r){return (c('AdsBidTypes').REVERSE_MIGRATION_MAP[r]||r)*1;},hasBidActions:function q(r){return !!(r&&r.ACTIONS&&r.ACTIONS>0);},hasBidClicks:function q(r){return !!(r&&r.CLICKS&&r.CLICKS>0);},allOptions:function q(){return p._filteredOptions();},_filteredOptions:function q(r){var s=[l[c('AdsBidTypes').BID_TYPE_CPC],l[c('AdsBidTypes').BID_TYPE_CPM],l[c('AdsBidTypes').BID_TYPE_MULTI_ABSOLUTE],l[c('AdsBidTypes').BID_TYPE_CPA]];if(r===undefined||r){s.push(l[c('AdsBidTypes').BID_TYPE_FCPM]);s.push(l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]);}return s;},fixedPriceOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]];},premiumSelfServeOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]];},reachBlockOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]];},deprecatedReachBlockOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_FCPM]];},reachFrequencyOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_MULTI_PREMIUM]];},instagramOptions:function q(){return [l[c('AdsBidTypes').BID_TYPE_FCPM]];},getName:function q(r,s){for(var t=0,u=p.options(s);t<u.length;t++)if(u[t].value==r)return u[t].text;return '';},getTabSeparatedName:function q(r){for(var s=0,t=p.allOptions();s<t.length;s++)if(t[s].value==r)return Array.isArray(t[s].tabSeparated)?t[s].tabSeparated[0]:t[s].tabSeparated;return '';},parseTabSeparated:function q(r){if(r)r=r.toLowerCase();return r==null?undefined:m[r];},getBidInfoKeyFromOptimizationGoal:function q(r){if(j.contains(r)){return c('AdsAPIBidInfoFields').CLICKS;}else if(k.contains(r))return c('AdsAPIBidInfoFields').IMPRESSIONS;return c('AdsAPIBidInfoFields').ACTIONS;},getBidRangeValues:function q(r,s){if(!r||r.unsupported)return {};return {max:r[c('AdsAPIReachEstimateFields').BID_AMOUNT_MAX],median:r[c('AdsAPIReachEstimateFields').BID_AMOUNT_MEDIAN],min:r[c('AdsAPIReachEstimateFields').BID_AMOUNT_MIN]};},getSuggestedBid:function q(r,s){if(!r||r.unsupported||!s)return null;var t=this.getBidRangeValues(r,s);return t.median;},getBidInfoKey_LEGACY:function q(r){switch(r){case c('AdsAPIBidType').CPA:return c('AdsBidInfoWeights').API_ACTIONS;case c('AdsAPIBidType').CPC:return c('AdsBidInfoWeights').API_CLICKS;case c('AdsAPIBidType').CPM:return c('AdsBidInfoWeights').API_IMPRESSIONS;}return null;}};f.exports=p;}),null);
__d('AdsImageUtils',['cx','invariant','AdsAPIAdAssetFeedImagesFields','AdsAPIAdgroupPaths','AdsAPIObjectives','AdsAssetFeedFieldUtils','AdsImageCollectionViews','AdsImageConstants','AdsImageLegacy','AdsLocalUtils','AdsPromotedObjectTypes','AdsUnifiedCreativeAPIFields','AdsValidationIconType','ApiAdObjectTypes','React','everyObject','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=/^(\d+):(.*)$/,k={cropsFitIntoImage:function l(m,n,o){if(!n||!o||!m)return true;var p=m,q=n,r=o;return c('everyObject')(p,function(s){return s&&s.every(function(t){return (+t[0]===0||+t[0]<=q)&&(+t[1]===0||+t[1]<=r);});});},_getImageValueFromPaths:function l(m,n){for(var o=0;o<m.length;o++){var p=c('getByPath')(n,m[o]);if(p)return m[o];}return null;},getImageURLPath:function l(m){return k._getImageValueFromPaths(c('AdsImageConstants').IMAGE_URL_PATHS,m);},getImageURL:function l(m){var n=k.getImageURLPath(m);return n?c('getByPath')(m,n):null;},getImageHashPath:function l(m){return k._getImageValueFromPaths(c('AdsImageConstants').IMAGE_HASH_PATHS,m);},getImageHash:function l(m){var n=k.getImageHashPath(m);return n?c('getByPath')(m,n):null;},getImageHashWithPlugin:function l(m,n){return c('AdsAssetFeedFieldUtils').firstAsset_TALK_WITH_ACE_BEFORE_USE(c('AdsUnifiedCreativeAPIFields').imageHash.getValue(m,n),c('AdsAPIAdAssetFeedImagesFields').HASH);},getImageURLWithPlugin:function l(m,n){return c('AdsAssetFeedFieldUtils').firstAsset_TALK_WITH_ACE_BEFORE_USE(c('AdsUnifiedCreativeAPIFields').imageURL.getValue(m,n),c('AdsAPIAdAssetFeedImagesFields').URL);},getChildAttachmentsImageHashes:function l(m){var n=c('getByPath')(m,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)||[];return n.map(function(o){return o.image_hash;});},hasSizeRestrictions:function l(m){return m!==c('AdsAPIObjectives').POST_ENGAGEMENT;},objectiveRequiresImage:function l(m,n,o){var p=[c('AdsAPIObjectives').MOBILE_APP_INSTALLS,c('AdsAPIObjectives').STORE_VISITS].includes(m)||m===c('AdsAPIObjectives').APP_INSTALLS&&o===c('AdsPromotedObjectTypes').MOBILE_APP;if(p)return !c('getByPath')(n,c('AdsAPIAdgroupPaths').CREATIVE.PRODUCT_SET_ID);if(m===c('AdsAPIObjectives').POST_ENGAGEMENT||m===c('AdsAPIObjectives').BRAND_AWARENESS){var q=c('getByPath')(n,c('AdsAPIAdgroupPaths').CREATIVE.OBJECT_TYPE);return q!==c('ApiAdObjectTypes').SHARE;}return [c('AdsAPIObjectives').MOBILE_APP_ENGAGEMENT,c('AdsAPIObjectives').PAGE_LIKES].concat(c('AdsLocalUtils').getLocalObjectives()).includes(m);},objectTypeRequiresImage:function l(m){return [c('ApiAdObjectTypes').DOMAIN].includes(m);},isHashWithAccountID:function l(m){return j.test(m);},parseHashWithAccountID:function l(m){var n=j.exec(m);if(!n)return null;return {accountID:n[1],hash:n[2]};},calculateCroppedPosition:function l(m,n,o,p,q){var r=q[0][0],s=q[0][1],t='0px',u='0px',v=this.calculateCroppedScale(o,p,q);t=-Math.floor(r*v)+'px';u=-Math.floor(s*v)+'px';return t+' '+u;},calculateBackgroundScale:function l(m,n,o){var p=o[1][0]-o[0][0],q=o[1][1]-o[0][1],r=n/m,s=q/p;return r>s?Math.min(n/q,m/p):Math.max(n/q,m/p);},calculateCroppedScale:function l(m,n,o){var p=o[0][0],q=o[1][0],r=o[0][1],s=o[1][1],t=q-p,u=s-r;return Math.min(n/u,m/t);},calculateDefaultCoordinates:function l(m,n,o){if(!o)return [[0,0],[m,n]];var p=void 0,q=void 0;if(m/o>n){q=n;p=n*o;}else{p=m;q=m/o;}var r=(m-p)/2,s=(n-q)/2,t=Math.floor(r)-r,u=Math.floor(s)-s;return [[r+t,s+u],[Math.round(r+p+t),Math.round(s+q+u)]];},addToImageCollection:function l(m,n,o){var p=void 0,q=n.map(function(r){var s=new (c('AdsImageLegacy'))(r);if(o&&(o===s.getUrl()||o===s.getAdAccountHash()))p=s;return s;});m.addImagesToFront(q,c('AdsImageCollectionViews').views.LIBRARY);if(p)m.setImageSelected(p,true);return m;},renderScaledCroppedImage:function l(m,n,o,p,q,r,s,t,u){var v=1,w='0px 0px',x='100%';if(!r){var y=n/o;r=this.calculateDefaultCoordinates(p,q,y);}w=this.calculateCroppedPosition(p,q,n,o,r);v=this.calculateBackgroundScale(p,q,r);x=Math.round(v*100)+'%';var z={backgroundImage:'url('+m+')',backgroundSize:x,backgroundPosition:w,backgroundRepeat:'no-repeat',height:o,position:'relative',width:n},aa=u===c('AdsValidationIconType').ERROR_IMAGE;return c('React').createElement('div',{className:aa?"_12fq":'',style:z,onContextMenu:s},t);},renderScaledImage:function l(m,n,o,p,q){var r='0px 0px',s='100%',t=q/p,u=o/n,v=Math.min(o/q,n/p);if(t>u){r=(n-v*p)/2+'px 0px';}else r='0px '+(o-v*q)/2+'px';s=Math.round(v*100)+'%';var w={backgroundImage:'url('+m+')',backgroundSize:s,backgroundPosition:r,backgroundRepeat:'no-repeat',height:q,position:'relative',width:p};return c('React').createElement('div',{style:w});},scaleImageFitIntoBox:function l(m,n,o,p){m>0&&n>0&&o>0&&p>0||i(0);var q=m/n,r=o/p;if(q>=r){return {width:o,height:o/q};}else return {width:p*q,height:p};},lookupImageHash:function l(m,n){if(m.hashes&&m.hashes[n])return m.hashes[n];if(m.copied&&m.copied[n])return m.copied[n].hash;if(n.match(/^\d+:[a-f0-9]+$/))return n.split(':')[1];return n;}};f.exports=k;}),null);
__d('AssetLibraryAPIUtils.brands',['BizSiteIdentifier.brands'],(function a(b,c,d,e,f,g){'use strict';var h={getTagFieldsForAudiences:function i(){var j=[];if(c('BizSiteIdentifier.brands').isBizSite()){var k=c('BizSiteIdentifier.brands').getBusinessID();if(k)j.push('business_object_tags.business_id('+k+').fields(name)');}return j;}};f.exports=h;}),null);
__d('AssetLibrarySearchUtils.brands',['cx','AdsAPIAssetLibraryFilteringFields','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilter','AdsGenericFilterSet','AdsGenericFilterOperatorConfig','SearchableEntry','AssetLibraryAppConstants.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AssetLibraryAppConstants.brands').SEARCH_RESULT_TYPES,j={getFilterSetForTag:function k(l){if(l===''||!l)return null;return new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(new (c('AdsGenericFilterField'))('business_tag_id',c('AdsGenericFilterFieldType').NUMBER),c('AdsGenericFilterOperatorConfig').EQUAL.operator,l)]);},getFilterSetForSmartFolder:function k(l){return new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(new (c('AdsGenericFilterField'))(l.field,c('AdsGenericFilterFieldType').STRING),l.operator,l.value)]);},getAssetLibraryFilteringParams:function k(l){if(!l)return [];var m=l.toAPI(),n=[];m.forEach(function(o){var p=this._getFilteringParam(o);if(p)n.push(p);}.bind(this));return n;},getSearchableEntryFromTag:function k(l){return new (c('SearchableEntry'))({type:i.TAG,auxiliaryData:{iconClass:"_11_6"},uniqueID:l.id,title:l.name,keywordString:l.name});},_getFilteringParam:function k(l){var m=Object.values(c('AdsAPIAssetLibraryFilteringFields'));if(m.indexOf(l.field)>-1)return {field:l.field,operator:l.operator,value:l.value};return null;}};f.exports=j;}),null);
__d('PagesComposerAudiencesConstants',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h={TABS:c('keyMirror')({TARGETING:null,GATING:null}),ExportToDefaultSpecMap:{age_max:'ageMax',age_min:'ageMin',geo_locations:'geoLocations',relationship_statuses:'relationshipStatuses',education_statuses:'educationStatuses',education_majors:'educationMajors',education_schools:'educationSchools',work_employers:'workEmployers',work_positions:'workPositions'}};f.exports=h;}),null);
__d('ProductAppContextActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={set:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({data:j,type:c('ProductsActionTypes').CONTEXT.SET});}};f.exports=h;}),null);
__d('ProductCatalogActions',['AdsDispatcher','ProductCatalogBusinessEventName','ProductCatalogBusinessEventsLoggerHelper','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={createCatalog:function i(j,k){c('ProductCatalogBusinessEventsLoggerHelper').getCatalogCreationLogger().setEvent(c('ProductCatalogBusinessEventName').CATALOG_CREATE_SUBMIT).setActionData(k).log();c('AdsDispatcher').handleUpdateFromViewAction({clientID:j,data:k,type:c('ProductsActionTypes').CATALOG.CREATE});},catalogCreated:function i(j){for(var k=j.values(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var n;if(l){if(m>=k.length)break;n=k[m++];}else{m=k.next();if(m.done)break;n=m.value;}var o=n;c('ProductCatalogBusinessEventsLoggerHelper').getCatalogCreationLogger().setEvent(c('ProductCatalogBusinessEventName').CATALOG_CREATE_SUCCESS).setCatalogID(o.id).log();}c('AdsDispatcher').handleUpdateFromServerResponse({catalogs:j,type:c('ProductsActionTypes').CATALOG.CREATED});},catalogBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({catalogs:j,type:c('ProductsActionTypes').CATALOG.BATCH_LOADED});},catalogBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').CATALOG.BATCH_LOAD_ERROR});},addExternalEventSources:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,externalEventSources:k,type:c('ProductsActionTypes').CATALOG.ADD_EXTERNAL_EVENT_SOURCES});},deleteExternalEventSources:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,externalEventSources:k,type:c('ProductsActionTypes').CATALOG.DELETE_EXTERNAL_EVENT_SOURCES});},catalogExternalEventSourcesUpdated:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({productCatalogID:j,type:c('ProductsActionTypes').CATALOG.EXTERNAL_EVENT_SOURCE_LIST_UPDATED});},reloadFeedPreview:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,fileMeta:k,type:c('ProductsActionTypes').CATALOG.PREVIEW.RELOAD});},feedPreviewLoaded:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({id:j,response:k,type:c('ProductsActionTypes').CATALOG.PREVIEW.LOADED});},feedPreviewLoadError:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({id:j,error:k,type:c('ProductsActionTypes').CATALOG.PREVIEW.ERROR});},catalogEventStatsLoaded:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({key:j,eventStats:k,type:c('ProductsActionTypes').EVENT_STATS.LOADED});},catalogEventStatsLoadError:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({key:j,error:k,type:c('ProductsActionTypes').EVENT_STATS.LOAD_ERROR});},catalogEventSamplesLoaded:function i(j,k,l,m){c('AdsDispatcher').handleUpdateFromServerResponse({eventName:j,sourceID:k,eventSamples:l,datePreset:m,type:c('ProductsActionTypes').EVENT_SAMPLES.LOADED});},catalogEventSamplesLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({error:j,type:c('ProductsActionTypes').EVENT_SAMPLES.LOAD_ERROR});},loadEventSamples:function i(j){c('AdsDispatcher').handleUpdateFromViewAction(babelHelpers['extends']({},j,{type:c('ProductsActionTypes').EVENT_SAMPLES.LOAD}));},reload:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,type:c('ProductsActionTypes').CATALOG.RELOAD});},update:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({data:k,productCatalogID:j,type:c('ProductsActionTypes').CATALOG.UPDATE});},attachToBusiness:function i(j,k){c('ProductCatalogBusinessEventsLoggerHelper').getCatalogSettingsLogger().setEvent(c('ProductCatalogBusinessEventName').CATALOG_SETTINGS_ATTACH_TO_BUSINESS).setActionData({busines_id:k}).setCatalogID(j).log();c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,businessID:k,type:c('ProductsActionTypes').CATALOG.ATTACH_TO_BUSINESS});},attachToPage:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,pageID:k,type:c('ProductsActionTypes').CATALOG.ATTACH_TO_PAGE});},'delete':function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({productCatalogID:j,type:c('ProductsActionTypes').CATALOG.DELETE_BATCH});},closeExternalEventSourceAssociationDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,type:c('ProductsActionTypes').EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.CLOSE});},openExternalEventSourceAssociationDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('ProductsActionTypes').EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.OPEN});},externalEventSourceAssociationDialogAutoOpened:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('ProductsActionTypes').EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.AUTO_OPEN});},someExternalEventSourceHasNoSignal:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('ProductsActionTypes').EXTERNAL_EVENT_SOURCE.NO_SIGNAL});},sendQualityReport:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({productCatalogID:j,data:k,type:c('ProductsActionTypes').CATALOG.SEND_QUALITY_REPORT});}};f.exports=h;}),null);
__d('ProductsErrorActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={set:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({error:j,type:c('ProductsActionTypes').ERROR.SET});},clear:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('ProductsActionTypes').ERROR.CLEAR});}};f.exports=h;}),null);
__d('ProductsDataManager',['AdsBaseDataManager','ProductsErrorActions'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataManager'));i=h&&h.prototype;j.prototype.__onBatchProductsError=function(k){for(var l=k.values(),m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o;c('ProductsErrorActions').set(p);return;}};j.prototype.__onBatchCreateError=function(k){this.__onBatchProductsError(k);};j.prototype.__onBatchDeleteError=function(k){this.__onBatchProductsError(k);};j.prototype.__onBatchUpdateError=function(k){this.__onBatchProductsError(k);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('ProductCatalogDataManager',['fbt','AdsProductSetActions','CatalogVertical','CurrentUser','DynamicItemsPluralCapitalized$FbtEnum','GraphAPI','ProductAppContextActions','ProductCatalogActions','ProductsAPIConfig','ProductCatalogField','ProductsDataManager','sprintf','AdsProductSetStore'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=[c('ProductCatalogField').BUSINESS,c('ProductCatalogField').COMMERCE_MERCHANT_SETTINGS,c('ProductCatalogField').CREATOR_USER,c('ProductCatalogField').DA_DISPLAY_SETTINGS,c('ProductCatalogField').NAME,c('ProductCatalogField').FEED_COUNT,c('ProductCatalogField').PAGE,c('ProductCatalogField').VERTICAL,c('ProductCatalogField').NOTIF_PREFERENCES,c('sprintf')('userpermissions.fields(business, role).user(%s)',c('CurrentUser').getAccountID()),c('ProductCatalogField').HAS_EXTERNAL_EVENT_SOURCE_ASSOCIATED_SKIP_PRIVACY,c('ProductCatalogField').SUGGESTED_CONVERSION_EVENT,c('ProductCatalogField').SOURCE_APP],l=k.concat([c('ProductCatalogField').PRODUCT_COUNT]);i=babelHelpers.inherits(m,c('ProductsDataManager'));j=i&&i.prototype;m.prototype.loadAll=function(o){o.forEach(function(p){return this.load(p);}.bind(this));};m.prototype.loadWithFields=function(o,p){var q=arguments.length<=2||arguments[2]===undefined?true:arguments[2];c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).batched().get({fields:p}).done(this.__handleSuccess.bind(this,['load'],o,null),function(r){if(q){this.retryLoad(o);}else this.__handleError(['load'],o,null,r);}.bind(this));};m.prototype.load=function(o){this.loadWithFields(o,l,true);};m.prototype.loadFeedPreview=function(o,p){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).edge('feed_previews').post({file_meta:p}).done(function(q){return this.__onFeedPreviewLoaded(o+p,q);}.bind(this),function(q){return this.__onFeedPreviewLoadError(o+p,q);}.bind(this));};m.prototype.createProductCatalog=function(o,p){var q=new b.FormData();Object.entries(p).forEach(function(r){var s=r[0],t=r[1];if(!t)return;q.append(s,t);});c('GraphAPI')(c('ProductsAPIConfig').version).me().edge('product_catalogs').post(q).done(function(r){return this.__handleSuccess(['create'],o,null,{id:r.id,vertical:p.vertical,externalEventSources:p.externalEventSources});}.bind(this),this.__handleError.bind(this,['create'],o,null));};m.prototype.update=function(o,p){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).batched().post(p).done(function(q){return this.__handleSuccess(['update'],o,null,{productCatalogID:o,data:p});}.bind(this),function(q){return this.__handleError(['update'],o,null,q);}.bind(this));};m.prototype.attachToBusiness=function(o,p){this.update(o,{business_id:p});};m.prototype.attachToPage=function(o,p){this.update(o,{page_id:p});};m.prototype.addExternalEventSources=function(o,p){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).edge('external_event_sources').post({external_event_sources:p}).done(function(q){return this.$ProductCatalogDataManagerClass1(o);}.bind(this),function(q){return this.__handleError(['update'],o,null,q);}.bind(this));};m.prototype.deleteExternalEventSources=function(o,p){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).edge('external_event_sources').remove({external_event_sources:p}).done(function(q){return this.$ProductCatalogDataManagerClass1(o);}.bind(this),function(q){return this.__handleError(['update'],o,null,q);}.bind(this));};m.prototype['delete']=function(o){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).batched().remove().done(this.__handleSuccess.bind(this,['delete'],o,null),this.__handleError.bind(this,['delete'],o,null));};m.prototype.sendQualityReport=function(o,p){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_catalog',o).edge('email_quality_report').post(p).done(function(q){return this.__handleSuccess(['update'],o,null,{productCatalogID:o});}.bind(this),function(q){return this.__handleError(['update'],o,null,q);}.bind(this));};m.prototype.retryLoad=function(o){this.loadWithFields(o,k,false);};m.prototype.__onBatchDeleted=function(o){c('ProductAppContextActions').set({catalogID:null,ownerID:null,ownerType:null});};m.prototype.$ProductCatalogDataManagerClass1=function(o){c('ProductCatalogActions').catalogExternalEventSourcesUpdated(o);c('ProductCatalogActions').reload(o);};m.prototype.__onFeedPreviewLoaded=function(o,p){c('ProductCatalogActions').feedPreviewLoaded(o,p);};m.prototype.__onFeedPreviewLoadError=function(o,p){c('ProductCatalogActions').feedPreviewLoadError(o,p);};m.prototype.__onBatchCreated=function(o){c('AdsProductSetStore');o.forEach(function(p,q){var r=h._({"auto_offers":"All Auto Offers","commerce":"All Products","destinations":"All Destinations","flights":"All Flights","home_listings":"All Home Listings","hotels":"All Hotels","retail":"All Retail Items"},[h['enum'](p[c('ProductCatalogField').VERTICAL],{auto_offers:'Auto Offers',commerce:'Products',destinations:'Destinations',flights:'Flights',home_listings:'Home Listings',hotels:'Hotels',retail:'Retail Items'})]);c('AdsProductSetActions').createProductSet(p.id,{name:r.toString()});if(p.externalEventSources&&p.externalEventSources.length>0)c('ProductCatalogActions').addExternalEventSources(p.id,p.externalEventSources);});c('ProductCatalogActions').catalogCreated(o);};m.prototype.__onBatchLoaded=function(o){c('ProductCatalogActions').catalogBatchLoaded(o);};m.prototype.__onBatchLoadError=function(o){c('ProductCatalogActions').catalogBatchLoadError(o);};m.prototype.__onBatchUpdated=function(o){var p=o.keys().next().value;if(p)c('ProductCatalogActions').reload(p);};m.prototype.__getObjectTypeLabel=function(){return h._("Product Catalog");};function m(){i.apply(this,arguments);}var n=new m();f.exports=n;}),null);
__d('ProductCatalogStore',['AdsBaseDataStore','AdsLoadState_LEGACY','ImmutableObject','Map','ProductsActionTypes','ProductCatalogDataManager','ProductCatalogField'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('ProductCatalogDataManager');};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('ProductsActionTypes').CATALOG.CREATE:c('ProductCatalogDataManager').createProductCatalog(m.clientID,m.data);break;case c('ProductsActionTypes').CATALOG.CREATED:this.__handleData(m.catalogs,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').CATALOG.UPDATE:this.$ProductCatalogStoreClass1(m.productCatalogID,m.data);break;case c('ProductsActionTypes').CATALOG.BATCH_LOADED:this.__handleData(m.catalogs,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').CATALOG.BATCH_LOAD_ERROR:this.__handleData(m.errors,c('AdsLoadState_LEGACY').ERROR);break;case c('ProductsActionTypes').CATALOG.ADD_EXTERNAL_EVENT_SOURCES:c('ProductCatalogDataManager').addExternalEventSources(m.productCatalogID,m.externalEventSources);break;case c('ProductsActionTypes').CATALOG.DELETE_EXTERNAL_EVENT_SOURCES:c('ProductCatalogDataManager').deleteExternalEventSources(m.productCatalogID,m.externalEventSources);break;case c('ProductsActionTypes').CATALOG.DELETE_BATCH:c('ProductCatalogDataManager')['delete'](m.productCatalogID);break;case c('ProductsActionTypes').FEED.CREATED:if(this.__invalidate(m.productCatalogID))this.__emitChange();break;case c('ProductsActionTypes').CATALOG.ATTACH_TO_BUSINESS:c('ProductCatalogDataManager').attachToBusiness(m.productCatalogID,m.businessID);break;case c('ProductsActionTypes').CATALOG.ATTACH_TO_PAGE:c('ProductCatalogDataManager').attachToPage(m.productCatalogID,m.pageID);break;case c('ProductsActionTypes').CATALOG.RELOAD:case c('ProductsActionTypes').FEED.BATCH_DELETED:if(this.__invalidate(m.productCatalogID))this.__emitChange();break;case c('ProductsActionTypes').CATALOG.SEND_QUALITY_REPORT:c('ProductCatalogDataManager').sendQualityReport(m.productCatalogID,m.data);break;}};j.prototype.$ProductCatalogStoreClass1=function(l,m){var n=this.getCached(l);this.__handleData(new (c('Map'))([[l,c('ImmutableObject').set(n,m)]]),c('AdsLoadState_LEGACY').LOADED);c('ProductCatalogDataManager').update(l,m);};function j(){h.apply(this,arguments);}var k=new j();f.exports=k;}),null);